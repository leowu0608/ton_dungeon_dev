var __reflect=this&&this.__reflect||function(e,t,A){e.__class__=t,A?A.push(t):A=[t],e.__types__=e.__types__?A.concat(e.__types__):A},__extends=this&&this.__extends||function(e,t){function A(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);A.prototype=t.prototype,e.prototype=new A},__awaiter=this&&this.__awaiter||function(e,t,A,i){return new(A||(A=Promise))(function(r,n){function o(e){try{s(i.next(e))}catch(t){n(t)}}function a(e){try{s(i["throw"](e))}catch(t){n(t)}}function s(e){e.done?r(e.value):new A(function(t){t(e.value)}).then(o,a)}s((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function A(e){return function(t){return i([e,t])}}function i(A){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=n[2&A[0]?"return":A[0]?"throw":"next"])&&!(o=o.call(n,A[1])).done)return o;switch(n=0,o&&(A=[0,o.value]),A[0]){case 0:case 1:o=A;break;case 4:return s.label++,{value:A[1],done:!1};case 5:s.label++,n=A[1],A=[0];continue;case 7:A=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!(o=o.length>0&&o[o.length-1])&&(6===A[0]||2===A[0])){s=0;continue}if(3===A[0]&&(!o||A[1]>o[0]&&A[1]<o[3])){s.label=A[1];break}if(6===A[0]&&s.label<o[1]){s.label=o[1],o=A;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(A);break}o[2]&&s.ops.pop(),s.trys.pop();continue}A=t.call(e,s)}catch(i){A=[6,i],n=0}finally{r=o=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:A(0),"throw":A(1),"return":A(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},core;!function(e){e.version="v1.0.0"}(core||(core={}));var core;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.layouty=0,t.depth=0,t.tempDepth=0,t}return __extends(t,e),t.prototype.getNewDepth=function(){return this.tempDepth++,this.tempDepth},t}(egret.DisplayObjectContainer);e.DSprite=t,__reflect(t.prototype,"core.DSprite"),window.DSprite=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var A=t.call(this)||this;return A._content=new e.ByteArrayLittle,A}return __extends(A,t),Object.defineProperty(A.prototype,"content",{get:function(){return this._content},enumerable:!0,configurable:!0}),A.prototype.read=function(t,A){var i=this;return i.content.length=A,t.readBytes(i.content,0,A),i.content.position=0,i.readContent()?!0:(e.GameLog.socketerror("Read packet content error: "+i),!1)},A.prototype.write=function(){var t=this;if(t.content.length=0,!t.writeContent())return e.GameLog.socketerror("Write packet content error: "+t),0;var A=t.content.length;return A||e.GameLog.socketerror("Write packet empty: "+t),A},A.prototype.readContent=function(){return!0},A.prototype.writeContent=function(){return!0},A.prototype.handle=function(){},A.prototype.toString=function(){return"<Packet len="+this.content.length+">"},A}(egret.HashObject);e.Packet=t,__reflect(t.prototype,"core.Packet"),window.Packet=t}(core||(core={}));var core;!function(e){var t=function(t){function A(A,i,r,n){void 0===i&&(i=0),void 0===r&&(r=null),void 0===n&&(n=null);var o=t.call(this)||this;o._channel=0,o.active=!1;var a=o;return a.active=A,a._eid=i,a._className=e.RpcDef.getEntityClassName(a),a._propDefs=e.RpcDef.getClassProps(a._className),a._isRemoved=!0,a.serverProps=r,a.params=n,o}return __extends(A,t),Object.defineProperty(A.prototype,"$channel",{get:function(){return this._channel},set:function(e){this._channel!=e&&(this._channel=e,this.onChannelChange())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"$eid",{get:function(){return this._eid},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"$className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"$isRemoved",{get:function(){return this._isRemoved},enumerable:!0,configurable:!0}),A.prototype.readProp=function(t){var A=this,i=e.RpcType.vintReader(t),r=A._propDefs[i];if(!r)return e.GameLog.rpcerror(A+" property not defined: "+(r?r:i)),void r.reader(t);var n=r.reader(t);e.GameLog.rpcdebug("Read property: "+A+"."+r.name+" = "+n),A.setProp(r.name,n)},A.prototype.setProp=function(e,t){var A=this[e];t!=A&&(this[e]=t,this.onPropChange(e,A))},A.prototype.initServerProps=function(t){var A,i,r=this,A={};if(t)for(;e.ByteArrayUtils.readAvailable(t)>0;){var n=e.RpcType.vintReader(t),o=r._propDefs[n];if(!o){e.GameLog.rpcerror(r+" initial property not defined: "+n);break}A[o.name]=o.reader(t)}for(var i in r._propDefs)parseInt(i).toString()!=i&&(r[i]=A[i]=i in A?A[i]:r._propDefs[i].defVal);r.init_props=A},A.prototype.refServerProps=function(t,A){var i=this;i.active=t;var r=void 0;if(A)for(r={};e.ByteArrayUtils.readAvailable(A)>0;){var n=e.RpcType.vintReader(A),o=i._propDefs[n];if(!o){e.GameLog.rpcerror(i+" ref property not defined: "+n);break}i[o.name]=r[o.name]=o.reader(A)}return r},A.prototype.onAdd=function(){var e=this;e.initServerProps(e.serverProps),e.params&&e.setParams(e.params),e._isRemoved=!1},A.prototype.onRemove=function(){var e=this;e._propDefs=null,e.serverProps=null,e.params=null,e.init_props=null,e._isRemoved=!0},A.prototype.onChannelChange=function(){},A.prototype.onPropChange=function(e,t){},A.prototype.setParams=function(e){},A.prototype.toString=function(){return"<Entity "+this._className+"["+this._channel+"] eid="+this._eid+">"},A}(egret.EventDispatcher);e.Entity=t,__reflect(t.prototype,"core.Entity"),window.Entity=t}(core||(core={}));var core;!function(e){var t=function(){function e(e,t){var A=this;A.useKtx=t,e&&(A.uniforms=e,A.filter=A.createFilter(),A.filter.onPropertyChange())}return e.prototype.initialize=function(e){},e.prototype.tween=function(e,t,A){return egret.Tween.removeTweens(this.filter.uniforms),egret.Tween.get(this.filter.uniforms,e,t,A)},e.prototype.getVertexSrc=function(){return"\n            attribute vec2 aVertexPosition;\n            attribute vec2 aTextureCoord;\n            attribute vec2 aColor;\n            \n            uniform vec2 projectionVector;\n            \n            varying vec2 vTextureCoord;\n            varying vec4 vColor;\n            \n            const vec2 center = vec2(-1.0, 1.0);\n            \n            void main(void)\n            {\n                gl_Position = vec4((aVertexPosition / projectionVector) + center, 0.0, 1.0);\n                vTextureCoord = aTextureCoord;\n                vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n            }     \n            "},e.prototype.isSupportCompressTexture=function(){var e=egret.Capabilities.supportedCompressedTexture;return!(!e.etc1&&!e.pvrtc)},e.prototype.reassign=function(e,t){},e.prototype.createFilter=function(){return new egret.CustomFilter(this.getVertexSrc(),this.getFragmentSrc(),this.uniforms)},e.prototype.init=function(){},e.prototype.destroy=function(){var e=this;e.onDestroy(),e.reassign(e.filter.uniforms,e.uniforms)},e.prototype.onDestroy=function(){},e}();e.ShaderBase=t,__reflect(t.prototype,"core.ShaderBase",["core.ShaderBaseUniforms"]),window.ShaderBase=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){return t.call(this)||this}return __extends(A,t),Object.defineProperty(A.prototype,"source",{get:function(){return this._lastSource||egret.superGetter(A,this,"source")},set:function(t){var i=this;if(t instanceof egret.Texture)return void egret.superSetter(A,i,"source",t);var r=i._lastSource;if(!t)return r&&i.releaseSource(r),""!=t&&(i._lastSource=null),void egret.superSetter(A,i,"source",null);if(t!=r&&r&&i.releaseSource(r),e.RenderUtils.checkInGroup(t)){var n=e.RenderUtils.getGroupName(t);n&&(RES.isGroupLoaded(n)||RES.loadGroup(n),e.RenderUtils.isResidentRes(n)||e.GCMgr.put(i.hashCode,n))}i._lastSource=t,e.LoadUtils.loadResByUrl(t,4,i.onComplete,i,!1,RES.ResourceItem.TYPE_IMAGE)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"scrollRect",{get:function(){return egret.superGetter(A,this,"scrollRect")},set:function(e){egret.superSetter(A,this,"scrollRect",e)},enumerable:!0,configurable:!0}),A.prototype.onComplete=function(e,t){e&&(this.source=e)},A.prototype.$onAddToStage=function(e,A){t.prototype.$onAddToStage.call(this,e,A),this._lastSource&&(this.source=this._lastSource)},A.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this);var e=this;e._lastSource&&(e.source="")},A.prototype.clearSource=function(){this._lastSource&&(this.source="")},A.prototype.releaseSource=function(t){if(t){var A=this;if(e.LoadUtils.cancleLoadUrl(A,t),e.RenderUtils.checkInGroup(t)){var i=e.RenderUtils.getGroupName(t);i&&!e.RenderUtils.isResidentRes(i)&&e.GCMgr.remove(A.hashCode,i)}}},A}(eui.Image);e.UIImage=t,__reflect(t.prototype,"core.UIImage"),window.UIImage=t}(core||(core={})),eui.registerProperty(core.UIImage,"scrollRect","egret.Rectangle");var core;!function(e){var t=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e.isSkinReady=!1,e.isCreated=!1,e.autoDestroy=!1,e}return __extends(A,t),Object.defineProperty(A.prototype,"isReady",{get:function(){return this.isSkinReady&&this.isCreated&&this.$hasAddToStage},enumerable:!0,configurable:!0}),A.prototype.$onAddToStage=function(e,A){t.prototype.$onAddToStage.call(this,e,A),this.onAddToStage()},A.prototype.onAddToStage=function(){var t=this;t.vo=e.UI.getBaseUIVo(t),t.addEventListener(e.Evt.removedFromStage,t.onRemoveFromStage,t),egret.Tween.removeTweens(t),t.commands&&t.commands.forEach(function(A){e.App.addL(A,t.handleCommandHandler,t)}),t.addUI&&t.addUI(),t.isReady&&t.update&&t.update(),t.isReady&&e.CallLater.add(this.hashCode+"updateLater",t.updateLater,t)},A.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this),e.CallLater.remove(this.hashCode+"updateLater")},A.prototype.setSkin=function(A){t.prototype.setSkin.call(this,A);var i=this;i.isSkinReady=!0,A&&(i.isCreated&&i.initUI&&i.initUI(),i.isReady&&(i.update(),e.CallLater.add(this.hashCode+"updateLater",i.updateLater,i)))},A.prototype.addUpdateLater=function(){var t=this;e.CallLater.add(this.hashCode+"updateLater",t.updateLater,t)},A.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var A=this;A.isCreated=!0,e.UI.traverseChildrenDestroy(A,A.autoDestroy),A.isSkinReady&&A.initUI&&A.initUI()},A.prototype.updateLater=function(){},A.prototype.setIsFullRect=function(e){if(e){var t=egret.Rectangle.create();t.width=this.width,t.height=this.height,this.scrollRect=t,egret.Rectangle.release(t)}else this.scrollRect=null},A}(eui.Component);e.BaseView=t,__reflect(t.prototype,"core.BaseView"),window.BaseView=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.resizeBattleSize=function(){var t=this;e.stage.scaleMode==egret.StageScaleMode.FIXED_HEIGHT?(t.battleScale=e.desginWidth/720,t.battleWidth=720,t.battleHeight=Math.round(egret.Capabilities.boundingClientWidth/egret.Capabilities.boundingClientHeight*720)):e.stage.scaleMode==egret.StageScaleMode.SHOW_ALL?(t.battleScale=e.desginWidth/720,t.battleWidth=720,t.battleHeight=1280):(t.battleScale=e.desginWidth/720,t.battleWidth=720,t.battleHeight=Math.round(egret.Capabilities.boundingClientHeight/egret.Capabilities.boundingClientWidth*720))},e.onResume=function(){e.isGameHide&&(e.isGameHide=!1,e.dispatch("app_resume"))},e.onPause=function(){e.isGameHide||(e.isGameHide=!0,e.dispatch("app_pause"))},e.dispatch=function(e,t){return void 0===t&&(t=null),this._dispatcher.dispatchEventWith(e,!1,t)},e.addL=function(e,t,A,i,r){this._dispatcher.addEventListener(e,t,A,i,r)},e.removeL=function(e,t,A){this._dispatcher.removeEventListener(e,t,A)},e.once=function(e,t,A){this._dispatcher.once(e,t,A)},e._dispatcher=new egret.EventDispatcher,e.isGameHide=!1,e}();e.App=t,__reflect(t.prototype,"core.App"),window.App=t}(core||(core={})),window.core=core;var RECORD=!0,core;!function(e){var t=function(){function t(){}return t.prototype.callL=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var A=this;A.callback&&(i=A.callback).call.apply(i,[A.thisObject].concat(e.concat(A.args)));var i},t.prototype.callR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var A=this;A.callback&&(i=A.callback).call.apply(i,[A.thisObject].concat(A.args.concat(e)));var i},t.prototype.applyL=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var A=this;A.callback&&A.callback.apply(A.thisObject,e.concat(A.args))},t.prototype.applyR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var A=this;A.callback&&A.callback.apply(A.thisObject,A.args.concat(e))},t.prototype.dispose=function(){var t=this;t.isvalid&&(t.isvalid=!1,t.callback=null,t.thisObject=null,t.args=null,e.ObjectPool.push(t))},t.create=function(A,i){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=e.ObjectPool.pop(t);return o.isvalid=!0,o.callback=A,o.thisObject=i,o.args=r,o},t.getCallbackInfo=function(e,t,A){for(var i=0,r=e.length;r>i;i++){var n=e[i];if(n.callback==t&&n.thisObject==A)return n}return null},t}();e.CallbackInfo=t,__reflect(t.prototype,"core.CallbackInfo"),window.CallbackInfo=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.RES_SVR="",e.RES="resource/",e.REGION_ID=1,e.SVR_ID=1,e.SVR_HOST="106.14.0.82",e.SVR_PORT=30088,e.WS_TYPE=0,e.CTX_PACKET=!0,e.INPUT_ACCOUNT=!1,e.SELECT_SERVER=!1,e}();e.GameConfig=t,__reflect(t.prototype,"core.GameConfig"),window.GameConfig=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputLog&&this._log("[LOG] ",e)},e.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputInfo&&this._info("[INFO] ",e)},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputError&&this._error("[**ERROR**] ",e)},e.warning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputWarning&&this._warn("[!WARNING!] ",e)},e.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputDebug&&this._debug("[DEBUG] ",e)},e.rpcerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputRpcError&&this._error("[**RPC ERROR**] ",e)},e.rpcdebug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputRpcDebug&&this._debug("[RPC DEBUG] ",e)},e.socketerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputSocketError&&this._error("[**SOCKET ERROR**] ",e)},e.socketdebug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputSocketDebug&&this._debug("[SOCKET DEBUG] ",e)},e.plotlog=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&this.outputPlotLog&&this._log("[PLOT LOG] ",e)},e._log=function(e,t){console.log.apply(console,[e].concat(t))},e._warn=function(e,t){return console.warn?void console.warn.apply(console,[e].concat(t)):void this._log(e,t)},e._error=function(e,t){return console.error?void console.error.apply(console,[e].concat(t)):void this._log(e,t)},e._debug=function(e,t){return console.debug?void console.debug.apply(console,[e].concat(t)):void this._log(e,t)},e._info=function(e,t){return console.info?void console.info.apply(console,[e].concat(t)):void this._log(e,t)},e.logP=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];this.logMap[e]&&this.log.apply(this,[e].concat(t))},e.enabled=!0,e.outputLog=!0,e.outputInfo=!0,e.outputError=!0,e.outputWarning=!0,e.outputDebug=!0,e.outputRpcDebug=!0,e.outputRpcError=!0,e.outputSocketDebug=!0,e.outputSocketError=!0,e.outputPlotLog=!0,e.logMap={},e}();e.GameLog=t,__reflect(t.prototype,"core.GameLog"),window.GameLog=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.initialize=function(){var t=this;t.recycleList={},t.reserveList={},t.quoteList={},e.TimerManager.addCycleTask(1e3,t.onExecute,t,0,"GCMgr.onExecute")},t.hasQuote=function(e){var t=this.quoteList[e];return t&&t.count>0},t.reserve=function(e,t){var A=this.reserveList[t]||[];this.reserveList[t]=A,A.indexOf(e)<0&&A.push(e)},t.cancelReserve=function(e,t){var A=this.reserveList[t];if(A){var i=A.indexOf(e);i>=0&&A.splice(i,1),0==A.length&&delete this.reserveList[t]}},t.put=function(t,i,r){void 0===r&&(r=1e3);var n=this;n.cancelReserve(t,i);var o=n.quoteList[i];if(!o){var a=n.recycleList;a[i]?(o=a[i],delete a[i]):o=e.ObjectPool.pop(A),o.key=i,o.reTime=r,n.quoteList[i]=o}o.putHash(t)},t.remove=function(e,t){var A=this;A.cancelReserve(e,t);var i=A.quoteList[t];i&&(i.removeHash(e),i.count<=0&&(delete A.quoteList[t],i.getTime=egret.getTimer(),A.recycleList[t]=i))},t.onExecute=function(){var t,A,i=this,r=egret.getTimer(),n=i.recycleList;for(var o in n)if(t=n[o],A=i.reserveList[o]||[],0==A.length&&r-t.getTime>=t.reTime){if(delete n[o],"sound"==o&&e.SoundPlayer.destroySoundGroup(o),!e.RenderUtils.checkInGroup(o)||!e.RenderUtils.getGroupName(o)){var a=e.Functor.destroyRes(o);e.GameLog.debug("destroyRes: "+o+", "+a)}t.reset(),e.ObjectPool.push(t),e.LoadUtils.destroyAsset(o)}},t.destroy=function(){e.TimerManager.removeTask("GCMgr.onExecute")},t}();e.GCMgr=t,__reflect(t.prototype,"core.GCMgr"),window.GCMgr=t;var A=function(){function e(){this.key="",this.reTime=1e3,this.getTime=0,this.hashCodes=[]}return Object.defineProperty(e.prototype,"count",{get:function(){return this.hashCodes.length},enumerable:!0,configurable:!0}),e.prototype.putHash=function(e){-1==this.hashCodes.indexOf(e)&&this.hashCodes.push(e)},e.prototype.removeHash=function(e){var t=this.hashCodes.indexOf(e);t>=0&&this.hashCodes.splice(t,1)},e.prototype.reset=function(){var e=this;e.key="",e.reTime=1e3,e.getTime=0,e.hashCodes=[]},e}();e.Quote=A,__reflect(A.prototype,"core.Quote"),window.Quote=A}(core||(core={}));var core;!function(e){var t=function(t){function A(){return t.call(this)||this}return __extends(A,t),Object.defineProperty(A.prototype,"loadingView",{set:function(e){this._loadingView=e},enumerable:!0,configurable:!0}),A.prototype.init=function(e){void 0===e&&(e=null),this.clear(),this._loadingView=e},A.prototype.clear=function(){var e=this;e._urls=null,e._datas={},e._loadedUrls=[],e._loadedNum=0,e._totalNum=0,e._countMap={},e._waitList=[],e._callback=null,e._thisObject=null,e._args=null},A.prototype.loadResByUrlItems=function(e,t,A,i,r){void 0===t&&(t=1),void 0===A&&(A=null),void 0===i&&(i=null),void 0===r&&(r=!0);for(var n=[],o=5;o<arguments.length;o++)n[o-5]=arguments[o];this.load.apply(this,[e,2,t,A,i,r].concat(n))},A.prototype.loadResByUrls=function(e,t,A,i,r){void 0===t&&(t=1),void 0===A&&(A=null),void 0===i&&(i=null),void 0===r&&(r=!0);for(var n=[],o=5;o<arguments.length;o++)n[o-5]=arguments[o];var a=[];e&&e.forEach(function(e){a.push({url:e})}),this.load.apply(this,[a,2,t,A,i,r].concat(n))},A.prototype.loadLazyResByUrls=function(e,t,A,i,r){void 0===t&&(t=1),void 0===A&&(A=null),void 0===i&&(i=null),void 0===r&&(r=!0);for(var n=[],o=5;o<arguments.length;o++)n[o-5]=arguments[o];var a=[];e&&e.forEach(function(e){a.push({url:e})}),this.load.apply(this,[a,1,t,A,i,r].concat(n))},A.prototype.load=function(t,A,i,r,n,o){for(var a=[],s=6;s<arguments.length;s++)a[s-6]=arguments[s];var c=this;return c._totalNum>c._loadedNum?void c._waitList.push({urls:t,loadType:A,level:i,callback:r,thisObject:n,async:o,args:a}):(c._urls=(c._urls||[]).concat(t),c._loadedNum=0,c._totalNum=t.length,c._callback=r,c._thisObject=n,c._args=a,t.length<=0?(e.GameLog.warning("加载地址列表长度为0"),void c.onAllComplete()):void(2==A?t.forEach(function(t){e.LoadUtils.loadResByUrl(t.url,i,c.onLoadComplete,c,o,t.resItem),c._countMap[t.url]=(c._countMap[t.url]||0)+1}):t.forEach(function(t){e.LoadUtils.loadLazyResByUrl(t.url,i,c.onLoadComplete,c,o,t.resItem),c._countMap[t.url]=(c._countMap[t.url]||0)+1})))},A.prototype.unload=function(){var t=this;e.LoadUtils.cancleLoadTarget(t),t.clear()},A.prototype.onLoadComplete=function(e,t){var A=this;A._datas[t]=e,A._loadedNum++,A._loadingView&&A._loadingView.setProgress(A._loadedNum/A._totalNum*100,A._loadedNum,A._totalNum),A._loadedNum>=A._totalNum&&A.onAllComplete()},A.prototype.onAllComplete=function(){var e=this;if(e._loadingView&&e._loadingView.complete(),e._callback&&e._callback.apply(e._thisObject,e._args.slice().concat([e._datas,e._urls])),0!=e._waitList.length){var t=e._waitList.shift();e.load(t.urls,t.loadType,t.level,t.callback,t.thisObject,t.async,t.args)}},A.prototype.unloadResByUrls=function(t){var A=this,i=[];t.forEach(function(e){A._countMap[e]=Math.max((A._countMap[e]||0)-1,0),A._countMap[e]<=0&&(i.push(e),A._datas[e]=null)}),0!=i.length&&e.LoadUtils.cancleLoadUrls(A,i)},A.prototype.destroy=function(){this.unload(),this._loadingView=null,e.ObjectPool.push(this)},A}(egret.HashObject);e.LoadMgr=t,__reflect(t.prototype,"core.LoadMgr"),window.LoadMgr=t}(core||(core={}));var core;!function(e){var t=function(){function e(){var e=this;e.callbacks=[],e.callbackParams=[],e.thisObjects=[],e.level=1,e.loadType=1}return e}();e.LoadTaskInfo=t,__reflect(t.prototype,"core.LoadTaskInfo"),window.LoadTaskInfo=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.initialize=function(){var e=this;e._datas={},e._fails={},e._tasks={},e._loadingTasks={},e._mainTasks={},e._lazyTasks={},e._loadingTaskNum=0,e._mainTaskNum=0,e._lazyTaskNum=0,e._targetUrls={};for(var t=1;5>=t;t++)e._mainTasks[t]=[],e._lazyTasks[t]=[]},t.loadResByUrl=function(e,t,A,i,r,n){void 0===t&&(t=1),void 0===A&&(A=null),void 0===i&&(i=null),void 0===r&&(r=!0);for(var o=[],a=6;a<arguments.length;a++)o[a-6]=arguments[a];this.addTask(e,2,t,A,i,r,n,o),this.dealTask()},t.loadLazyResByUrl=function(e,t,A,i,r,n){void 0===t&&(t=1),void 0===A&&(A=null),void 0===i&&(i=null),void 0===r&&(r=!0);for(var o=[],a=6;a<arguments.length;a++)o[a-6]=arguments[a];this.addTask(e,1,t,A,i,r,n,o),this.dealTask()},t.addTask=function(t,A,i,r,n,o,a,s){void 0===i&&(i=0),void 0===r&&(r=null),void 0===n&&(n=null),void 0===o&&(o=!0);var c=this;i=e.NumberUtils.limit(i,1,5);var l=c._datas[t],u=c._targetUrls[n.hashCode];if(u||(u=c._targetUrls[n.hashCode]=[]),u.push(t),e.GCMgr.reserve(n.hashCode,t),l)return void c.callback(r,n,o,s||[],l,t);var d=c._fails[t]||0;if(d>1)return void c.callback(r,n,o,s||[],null,t);e.GameLog.debug("添加加载任务：",t);var h=c._tasks[t],g=h?h.loadType:0,p=h?h.level:0,f=!g||!p,v=c.registerTask(t,A,i,r,n,a,s);if(g&&p&&(g!=v.loadType||p!=v.level))if(1==g){var m=c._lazyTasks[p],I=m.indexOf(t);I>=0&&(m.splice(I,1),c._lazyTaskNum--,f=!0)}else{var E=c._mainTasks[p],C=E.indexOf(t);C>=0&&(E.splice(C,1),c._mainTaskNum--,f=!0)}if(f)if(1==g){var m=c._lazyTasks[v.level];m.push(t),c._lazyTaskNum++}else{var E=c._mainTasks[v.level];E.push(t),c._mainTaskNum++}},t.registerTask=function(t,A,i,r,n,o,a){var s=this;if(!t)throw new Error("Register task no url! "+s);if(!r)throw new Error("Register task no callback! "+s);if(!n)throw new Error("Register task no thisObject! "+s);var c=s._tasks[t];return c||(c=new e.LoadTaskInfo,c.url=t,c.resItem=o),c.callbacks.push(r),c.callbackParams.push(a),c.thisObjects.push(n),c.loadType==A?c.level=Math.max(c.level,i):c.loadType<A&&(c.loadType=A,c.level=i),s._tasks[t]=c,c},t.dealTask=function(){var t=this;if(!(t._mainTaskNum<=0&&t._lazyTaskNum<=0||t._loadingTaskNum>=10)){var A;if(t._mainTaskNum>0?(A=t.shift(t._mainTasks),t._mainTaskNum--):t._lazyTaskNum>0&&(A=t.shift(t._lazyTasks),t._lazyTaskNum--),t._loadingTasks[A]=!0,t._loadingTaskNum++,RES.hasRes(A)){var i=RES.getRes(A);i?t.onComplete(i,A):RES.getResAsync(A,t.onComplete,t)}else{var r=t._tasks[A];e.Functor.getResByUrl(A,t.onComplete,t,r.resItem||null)}t._loadingTaskNum<10&&t.dealTask()}},t.onComplete=function(t,A){var i=this;if(A in i._loadingTasks&&i._loadingTaskNum--,!t){var r=i._fails[A]||0;i._fails[A]=r+1,e.GameLog.error("加载失败:"+A+", num :"+r)}var n=i._tasks[A];if(n){var o=n.callbacks.concat(),a=n.thisObjects.concat(),s=n.callbackParams.concat(),c=o.length;if(c>0){i._datas[A]=t;for(var l=0;c>l;l++)i.callback(o[l],a[l],!1,s[l],t,A)}}delete i._tasks[A],delete i._loadingTasks[A],i.dealTask()},t.callback=function(t,A,i,r,n,o){var a=this;n?e.GCMgr.put(A.hashCode,o):e.GCMgr.cancelReserve(A.hashCode,o),t&&(i?egret.$callAsync(function(){t.apply(A,r.slice().concat([n,o]))},a,0):t.apply(A,r.slice().concat([n,o])))},t.shift=function(e){for(var t=5;t>=1;t--)if(e[t].length>0)return e[t].shift();return null},t.cancleLoadUrl=function(t,A){var i=this,r=i._targetUrls[t.hashCode];if(r){for(var n=r.indexOf(A);-1!=n;)r.splice(n,1),n=r.indexOf(A);r.length<=0&&delete i._targetUrls[t.hashCode]}var o=i._tasks[A];if(o){for(var n=o.thisObjects.indexOf(t);-1!=n;)o.thisObjects.splice(n,1),o.callbacks.splice(n,1),o.callbackParams.splice(n,1),n=o.thisObjects.indexOf(t);o.thisObjects.length<=0&&i.clearLoadTask(A)}e.GCMgr.remove(t.hashCode,A)},t.cancleLoadUrls=function(e,t){var A=this;t.forEach(function(t){A.cancleLoadUrl(e,t)})},t.cancleLoadTarget=function(e){var t=this,A=this._targetUrls[e.hashCode];A&&A.concat().forEach(function(A){t.cancleLoadUrl(e,A)})},t.destroyAsset=function(e){this.clearLoadTask(e),e in this._datas&&delete this._datas[e]},t.clearLoadTask=function(e){var t=this;e in t._tasks&&delete t._tasks[e],e in t._loadingTasks&&(delete t._loadingTasks[e],t._loadingTaskNum--);for(var A in t._mainTasks){var i=t._mainTasks[A],r=i.indexOf(e);-1!=r&&(i.splice(r,1),t._mainTaskNum--)}for(var A in t._lazyTasks){var i=t._lazyTasks[A],r=i.indexOf(e);-1!=r&&(i.splice(r,1),t._lazyTaskNum--)}},t.hasRes=function(e){return!!this._datas[e]},t.getRes=function(e){return this._datas[e]},t.getLoadType=function(e){switch(e){case"png":return RES.ResourceItem.TYPE_IMAGE;case"jpg":return RES.ResourceItem.TYPE_IMAGE;case"json":return RES.ResourceItem.TYPE_JSON;default:return null}},t}();e.LoadUtils=t,__reflect(t.prototype,"core.LoadUtils"),window.LoadUtils=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e._settingRate=1,e._volumeRate=1,e._position=0,e.hcode=-1,e.callback=null,e.delTime=0,e.delay=3e3,e.regTime=0,e}return __extends(A,t),A.prototype.initialize=function(t,A,i,r,n,o,a,s){void 0===r&&(r=!1),void 0===n&&(n=1),void 0===o&&(o=1),void 0===a&&(a=1),void 0===s&&(s=null);var c=this;c._url=t,c._sound=i,c._loop=r,c._initialVolume=e.NumberUtils.limit(n||0,0,1),c._volume=c._initialVolume,c._settingRate=o,c._volumeRate=a,c.hcode=A,c.callback=s,c.regTime=Date.now()},Object.defineProperty(A.prototype,"url",{get:function(){return this._url},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"sound",{get:function(){return this._sound},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"length",{get:function(){return this._sound.length},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"loop",{get:function(){return this._loop},set:function(e){this._loop!=e&&(this._loop=e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isPlaying",{get:function(){return null!=this._channel},set:function(e){e?this.play():this.stop()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"position",{get:function(){return this._channel?this._channel.position:this._position},set:function(t){var A=this;A._channel?A.play(t||0):A._position=e.NumberUtils.limit(t||0,0,A._sound.length)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"initialVolume",{get:function(){return this._initialVolume},set:function(t){this._initialVolume=e.NumberUtils.limit(t||0,0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"volume",{get:function(){return this._volume},set:function(t){t=e.NumberUtils.limit(t||0,0,1),this._volume!=t&&(this._volume=t,this.updateTransform())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"settingRate",{get:function(){return this._settingRate},set:function(t){t=e.NumberUtils.limit(t||0,0,1),this._settingRate!=t&&(this._settingRate=t,this.updateTransform())},enumerable:!0,configurable:!0}),A.prototype.setSettingRate=function(t,A){void 0===A&&(A=0),t=e.NumberUtils.limit(t||0,0,1),this._settingRate!=t&&(this._settingRate=t,this.updateTransform(A))},Object.defineProperty(A.prototype,"volumeRate",{get:function(){return this._volumeRate},set:function(t){t=e.NumberUtils.limit(t||0,0,1),this._volumeRate!=t&&(this._volumeRate=t,this.updateTransform())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"mute",{get:function(){return this._mute},set:function(e){this._mute!=e&&(this._mute=e,this.updateTransform())},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"soundVolume",{get:function(){var e,t=this;return e=t._mute?0:t._volume*t._settingRate*t._volumeRate},enumerable:!0,configurable:!0}),A.prototype.setVolumeRate=function(t,A){void 0===A&&(A=0),t=e.NumberUtils.limit(t||0,0,1),this._volumeRate!=t&&(this._volumeRate=t,this.updateTransform(A))},A.prototype.play=function(t,A){void 0===t&&(t=0/0),void 0===A&&(A=0);var i=this;if(i.clearFade(),i._channel){if(isNaN(t))return;i.clearChannel()}i._sound&&(isNaN(t)||(i._position=e.NumberUtils.limit(t,0,i._sound.length-1)),i._channel=i._sound.play(i._position,1),i._channel&&(i.updateTransform(),i._channel.addEventListener(e.Evt.soundComplete,i.onSoundComplete,i),A>0?(i.volume=0,i.fadeVolume(i.initialVolume,A)):i.volume=i.initialVolume))},A.prototype.stop=function(t,A,i,r){void 0===t&&(t=!1),void 0===A&&(A=0),void 0===i&&(i=!1);var n=this;if(n.clearFade(),n._channel){if(A>0)return void n.fadeVolume(0,A,e.Functor.functor(n.stop,n,t,0,i,r));n._position=t?0:n._channel.position,n.clearChannel()}else t&&(n._position=0);i&&n.finishCallback(),r&&r()},A.prototype.setVolume=function(e,t){void 0===t&&(t=0),this.initialVolume=e,this.fadeVolume(e,t)},A.prototype.fadeVolume=function(t,A,i){void 0===A&&(A=1),void 0===i&&(i=null);var r=this;r.clearFade(),t=e.NumberUtils.limit(t||0,0,1),r._channel&&A>0?(r._fadeCallback=i,r._fadeTween=egret.Tween.get(r),r._fadeTween.to({volume:t},1e3*A),r._fadeTween.call(r.clearFade,r)):(r.volume=t,i&&i())},A.prototype.clearFade=function(){var e=this;e._fadeTween&&(egret.Tween.removeTweens(e),e._fadeTween=null,null!=e._fadeCallback&&(e._fadeCallback(),e._fadeCallback=null))},A.prototype.updateTransform=function(e){void 0===e&&(e=0);var t=this;e>0?t._channel&&!t._channel.isStopped&&egret.Tween.get(t._channel).to({volume:t.soundVolume},1e3*e):t._channel&&!t._channel.isStopped&&(t._channel.volume=t.soundVolume)},A.prototype.clearChannel=function(){var t=this;t._channel&&(egret.Tween.removeTweens(t._channel),t._channel.stop(),t._channel.removeEventListener(e.Evt.soundComplete,t.onSoundComplete,t),t._channel=null)},A.prototype.onSoundComplete=function(t){var A=this,i=null==A._fadeCallback;A.clearFade(),A._position=0,A.clearChannel(),A.dispatchEvent(new egret.Event(e.Evt.soundComplete)),A.finishCallback(),i&&A.loop&&A.play()},A.prototype.finishCallback=function(){var e=this.callback;this._loop||null==e||(this.callback=null,e())},A.prototype.destroy=function(){var t=this;t._fadeTween&&(egret.Tween.removeTweens(t),t._fadeTween=null),t._fadeCallback=null,t._channel&&(egret.Tween.removeTweens(t._channel),t._channel.removeEventListener(e.Evt.soundComplete,t.onSoundComplete,t),t._channel=null),t._sound&&(t._sound.close(),t._sound=null),t.callback=null},A}(egret.EventDispatcher);e.PlayingSound=t,__reflect(t.prototype,"core.PlayingSound"),window.PlayingSound=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i){var r=e.call(this,t)||this;return r.index=A,r.playingSound=i,r}return __extends(t,e),t}(egret.Event);e.SoundEvent=t,__reflect(t.prototype,"core.SoundEvent"),window.SoundEvent=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e){var A=t.call(this)||this;return A._channel=0,A._settingRate=1,A._volumeRate=1,A._mute=!1,A._channel=e,A._playingList=new Array,A}return __extends(A,t),Object.defineProperty(A.prototype,"channel",{get:function(){return this._channel
},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"playingList",{get:function(){return this._playingList.slice()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"soundCount",{get:function(){return this._playingList.length},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"settingRate",{get:function(){return this._settingRate},set:function(e){this.setSettingRate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"volumeRate",{get:function(){return this._volumeRate},set:function(e){this.setVolumeRate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"mute",{get:function(){return this._mute},set:function(e){this.setMute(e)},enumerable:!0,configurable:!0}),A.prototype.setSettingRate=function(t,A){void 0===A&&(A=0),t=e.NumberUtils.limit(t||0,0,1),this._settingRate=t;for(var i=0,r=this._playingList;i<r.length;i++){var n=r[i];n.setSettingRate(t,A)}},A.prototype.setVolumeRate=function(t,A){void 0===A&&(A=0),t=e.NumberUtils.limit(t||0,0,1),this._volumeRate=t;for(var i=0,r=this._playingList;i<r.length;i++){var n=r[i];n.setVolumeRate(t,A)}},A.prototype.setMute=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=0),this._mute!=e){this._mute=e;for(var A=this._playingList.length;A--;)this._playingList[A].mute=e}},A.prototype.playSound=function(t,i,r,n,o,a,s){var c=this;if(!r||c.mute)return A.setChannelCurrentCount(c.channel,-1),null;var l=new e.PlayingSound;return l.initialize(t,i,r,o,n,c._settingRate,c._volumeRate,s),l.mute=this._mute,l.play(0,a),l.isPlaying&&(l.addEventListener(e.Evt.soundComplete,c.onSoundComplete,c),c._playingList.push(l),c.dispatchEvent(new e.SoundEvent("addPlayingSound",c._playingList.length-1,l))),l},A.prototype.playPlayingSound=function(t,i,r,n,o,a){var s=this;return!i||s.mute?(A.setChannelCurrentCount(s.channel,-1),null):(i.loop=n,i.hcode=t,i.callback=a,i.settingRate=s._settingRate,i.volumeRate=s._volumeRate,i.setVolume(r),i.play(0,o),i.isPlaying&&(i.addEventListener(e.Evt.soundComplete,s.onSoundComplete,s),s._playingList.push(i),s.dispatchEvent(new e.SoundEvent("addPlayingSound",s._playingList.length-1,i))),i)},A.prototype.stopSound=function(e,t,A,i){void 0===e&&(e=null),void 0===t&&(t=0/0),void 0===A&&(A=0),void 0===i&&(i=!1);for(var r=this._playingList.concat(),n=0,o=r;n<o.length;n++){var a=o[n];if((null==e||a.url==e)&&(isNaN(t)||a.hcode==t)){var s=this.removePlayingSound.bind(this,a);a.stop(!0,A,i,s)}}},A.prototype.changeSoundLoop=function(e,t,A){void 0===e&&(e=null),void 0===t&&(t=0/0),void 0===A&&(A=!1);for(var i=this._playingList.concat(),r=0,n=i;r<n.length;r++){var o=n[r];(null==e||o.url==e)&&(isNaN(t)||o.hcode==t)&&(o.loop=A)}},A.prototype.pauseSound=function(e,t,A){void 0===e&&(e=null),void 0===t&&(t=0/0),void 0===A&&(A=0);for(var i=this._playingList,r=0,n=i;r<n.length;r++){var o=n[r];(null==e||o.url==e)&&(isNaN(t)||o.hcode==t)&&o.stop(!1,A)}},A.prototype.resumeSound=function(e,t,A){void 0===e&&(e=null),void 0===t&&(t=0/0),void 0===A&&(A=0);for(var i=this._playingList,r=0,n=i;r<n.length;r++){var o=n[r];(null==e||o.url==e)&&(isNaN(t)||o.hcode==t)&&o.play(0/0,A)}},A.prototype.removePlayingSound=function(t,i){void 0===i&&(i=!1);var r=this;t.removeEventListener(e.Evt.soundComplete,r.onSoundComplete,r),t.isPlaying&&t.stop();var n=r._playingList,o=n.indexOf(t);-1!=o&&(A.setChannelCurrentCount(r.channel,-1),n.splice(o,1)),i||(t.dispatchEvent(new egret.Event(e.Evt.removed)),r.dispatchEvent(new e.SoundEvent("removePlayingSound",o,t))),A.addPlayingSoundCache(t)},A.prototype.onSoundComplete=function(t){var A=this,i=t.target,r=A._playingList,n=r.indexOf(i);(!i.loop||0>n)&&(i.loop=!1,0>n?i.removeEventListener(e.Evt.soundComplete,A.onSoundComplete,A):A.removePlayingSound(i))},A.prototype.getPlayingSound=function(e){for(var t,A=this._playingList,i=A.length,r=i-1;r>=0;r--)if(t=this._playingList[r],t.url==e)return t;return null},A.prototype.getOldestPlayingSound=function(){for(var e,t=this._playingList,A=t.length,i=0/0,r=void 0,n=A-1;n>=0;n--)e=this._playingList[n],e&&(isNaN(i)?(i=e.regTime,r=e):i>e.regTime&&(i=e.regTime,r=e));return r},A.removePlayingSoundOldest=function(){var e,t=A._soundPlayers;for(var i in t)if(2!=+i&&(e=t[i])){var r=e.getOldestPlayingSound();if(r){e.removePlayingSound(r);break}}},A.prototype.isSoundPlaying=function(e){for(var t=this._playingList,A=0,i=t;A<i.length;A++){var r=i[A];if(r.url==e)return!0}return!1},A.initialize=function(e){void 0===e&&(e=15),this.maxLimitCount=e},A.setChannelLimitCount=function(e,t){this._channelLimitCounts[e]=t},A.setChannelCurrentCount=function(e,t){var A=this.curSoundCount;this.curSoundCount=Math.max(0,A+t);var i=this._channelCurCounts,r=i[e]||0;r=Math.max(0,r+t),i[e]=r},A.isChannelSoundLimit=function(e){var t=this._channelLimitCounts[e]||1,A=this._channelCurCounts[e]||0;return A>=t},A.getPlayer=function(e){var t=this._soundPlayers,i=t[e];return i||(i=new A(e),t[e]=i),i},A.registerSound=function(t,A,i,r,n,o,a,s){void 0===r&&(r=1),void 0===n&&(n=!1),void 0===o&&(o=!1),void 0===a&&(a=0),void 0===s&&(s=null);var c=this,l=c.getPlayer(t);o&&l.stopSound(null,0/0,0,!0),(c.curSoundCount>=c.maxLimitCount||c.isChannelSoundLimit(t))&&this.removePlayingSoundOldest();var u=c.getWaitingInfo(t,A);if(u)return void u.update(i,r,n,a,s);c.setChannelCurrentCount(t,1);var d=c.getPlayingSoundCache(A);if(d)l.playPlayingSound(i,d,r,n,a,s);else{var h=new egret.Sound;u=new e.WaitingSoundInfo(t,A,h),u.update(i,r,n,a,s),c._loadingMap[h.hashCode]=u,h.addEventListener(e.Evt.ioError,c.onIOError,c),h.addEventListener(e.Evt.complete,c.onLoadSoundComplete,c);var g=RES.getVersionController().getVirtualUrl(A);h.load(g)}},A.unregisterSound=function(e,t,A,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var n=this,o=n.getWaitingInfo(e,t,A);if(o)n.setChannelCurrentCount(e,-1),o.sound&&n.removeWaitingInfo(o.sound.hashCode,!0,r);else{var a=n.getPlayer(e);a.stopSound(t,A,i,r)}},A.unregisterChannelSound=function(e,t){void 0===t&&(t=0);var A,i=this,r=[],n=i._loadingMap;for(var o in n)A=n[o],A.channel==e&&r.push(A);for(var a=0,s=r;a<s.length;a++){var c=s[a];c&&c.sound&&(i.setChannelCurrentCount(e,-1),i.removeWaitingInfo(c.sound.hashCode,!0,!0))}var l=i.getPlayer(e);l.stopSound(null,0/0,t,!0)},A.unregisterHashCodeSound=function(e,t,A){void 0===A&&(A=0);var i,r=this,n=[],o=r._loadingMap;for(var a in o)i=o[a],i.channel==e&&i.hashCode==t&&n.push(i);for(var s=0,c=n;s<c.length;s++){var l=c[s];l&&l.sound&&(r.setChannelCurrentCount(e,-1),r.removeWaitingInfo(l.sound.hashCode,!0,!0))}var u=r.getPlayer(e);u.stopSound(null,t,A,!0)},A.stopWaitSound=function(e,t,A,i){void 0===i&&(i=!1);var r=this,n=r.getWaitingInfo(e,t,A);return n?(r.setChannelCurrentCount(e,-1),n.sound&&r.removeWaitingInfo(n.sound.hashCode,!0,i),!0):!1},A.stopPlayingSound=function(e,t,A,i,r){void 0===i&&(i=0),void 0===r&&(r=!1);var n=this.getPlayer(e);n.stopSound(t,A,i,r)},A.changeSoundLoop=function(e,t,A,i){var r=this.getPlayer(e);r.changeSoundLoop(t,A)},A.pauseSound=function(e,t,A){void 0===t&&(t=null),void 0===A&&(A=0/0);var i=this.getPlayer(e);i.pauseSound(t,A)},A.resumeSound=function(e,t,A){void 0===t&&(t=null),void 0===A&&(A=0/0);var i=this.getPlayer(e);i.resumeSound(t,A)},A.onIOError=function(t){e.GameLog.error("SoundPlayer onIOError",t.currentTarget.url);var A=t.target,i=this._loadingMap[A.hashCode];i&&(this.setChannelCurrentCount(i.channel,-1),this.removeWaitingInfo(A.hashCode,!0,!0))},A.onLoadSoundComplete=function(e){var t=e.target,A=this._loadingMap[t.hashCode];if(A){var i=A.url,r=A.hashCode,n=A.volume,o=A.loop,a=A.fadeTime,s=A.callback;this.removeWaitingInfo(t.hashCode,!1,!1);var c=this.getPlayer(A.channel);c.playSound(i,r,t,n,o,a,s)}},A.getWaitingInfo=function(e,t,A){void 0===A&&(A=0/0);var i,r=this._loadingMap;for(var n in r)if(i=r[n],i.channel==e&&i.url==t&&(isNaN(A)||A==i.hashCode))return i;return null},A.getOldestWaitingInfo=function(e){var t,A,i=this._loadingMap,r=0/0;for(var n in i)t=i[n],t.channel==e&&(isNaN(r)?(r=t.regTime,A=t):r>t.regTime&&(r=t.regTime,A=t));if(!A)for(var n in i)t=i[n],2!=t.channel&&(isNaN(r)?(r=t.regTime,A=t):r>t.regTime&&(r=t.regTime,A=t));return A},A.removeWaitingInfo=function(t,A,i){void 0===A&&(A=!0),void 0===i&&(i=!1);var r=this,n=r._loadingMap,o=n[t];if(o){var a=o.sound;a&&(a.removeEventListener(e.Evt.ioError,r.onIOError,r),a.removeEventListener(e.Evt.complete,r.onLoadSoundComplete,r),A&&a.close());var s=o.callback;o.sound=null,o.callback=null,i&&null!=s&&s()}delete n[t]},A.addPlayingSoundCache=function(e,t){if(void 0===t&&(t=3e3),e){var A=e.url,i=this._playingSoundCaches,r=0;for(var n in i)i[n]&&(r+=i[n].length);if(r>=this.maxLimitCount-5)return this.onExecute(),void e.destroy();var o=i[e.url];o||(o=[],i[A]=o),-1==o.indexOf(e)&&(e.delTime=egret.getTimer(),e.delay=t,o.push(e))}},A.getPlayingSoundCache=function(e){var t=this._playingSoundCaches[e];return t&&t.length?t.shift():null},A.removePlayingSoundCache=function(e){if(!e)return!1;var t=egret.getTimer();if(e.delay<0||t<e.delTime+e.delay)return!1;var A=this._playingSoundCaches[e.url];if(!A||!A.length)return delete this._playingSoundCaches[e.url],!1;var i=A.indexOf(e);-1!=i&&A.splice(i,1),e.destroy()},A.onExecute=function(){var e=this._playingSoundCaches,t=null,A=egret.getTimer(),i=[];for(var r in e)if(t=e[r])for(var n=0,o=t;n<o.length;n++){var a=o[n];a.delay>=0&&A>=a.delTime+a.delay&&i.push(a)}for(var s=0,c=i;s<c.length;s++){var l=c[s];this.removePlayingSoundCache(l)}},A.destroySoundGroup=function(e){if(RES.isGroupLoaded(e))for(var t,A=RES.getGroupByName(e),i=0,r=A;i<r.length;i++){var n=r[i];t=RES.getRes(n.name),t instanceof egret.Sound&&t.close()}},A._soundPlayers={},A._loadingMap={},A._playingSoundCaches={},A._channelLimitCounts={},A._channelCurCounts={},A.maxLimitCount=15,A.curSoundCount=0,A}(egret.EventDispatcher);e.SoundPlayer=t,__reflect(t.prototype,"core.SoundPlayer"),window.SoundPlayer=t}(core||(core={}));var core;!function(e){var t=function(){function e(e,t,A){this.channel=0,this.url="",this.hashCode=0,this.volume=1,this.loop=!1,this.fadeTime=0,this.sound=null,this.callback=null,this.regTime=0,this.channel=e,this.url=t,this.sound=A,this.regTime=Date.now()}return e.prototype.update=function(e,t,A,i,r){var n=this;n.hashCode=e,n.volume=t,n.loop=A,n.fadeTime=i,n.callback=r,n.regTime=Date.now()},e}();e.WaitingSoundInfo=t,__reflect(t.prototype,"core.WaitingSoundInfo"),window.WaitingSoundInfo=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i){return void 0===A&&(A=!1),void 0===i&&(i=!1),e.call(this,t,A,i)||this}return __extends(t,e),t.ACTION_PLAY_END="ROLE_ACTION_PLAY_END",t}(egret.Event);e.ActionEvent=t,__reflect(t.prototype,"core.ActionEvent"),window.ActionEvent=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.addEvent=function(t,A,i,r){if(t){var n=this._eventMap[t.hashCode];n||(n={},this._eventMap[t.hashCode]=n);var o=n[A];o||(o=[],n[A]=o);var a=e.CallbackInfo.getCallbackInfo(o,i,r);a||(a=e.CallbackInfo.create(i,r),o.push(a))}},t.addProxy=function(e,t){var A=this;A._proxyMap[e.hashCode]=t;var i=A._eventMap[e.hashCode];if(i){var r=A._eventMap[t.hashCode];r||(r={},A._eventMap[t.hashCode]=r)}},t.removeProxy=function(e){delete this._proxyMap[e.hashCode]},t.removeEvent=function(t,A,i,r){if(t){var n=this._eventMap[t.hashCode];if(n){var o=n[A];if(o){var a=e.CallbackInfo.getCallbackInfo(o,i,r);if(a){var s=o.indexOf(a);s>=0&&o.splice(s,1),a.dispose()}}}}},t.execute=function(e,t){for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];var r=this.checkProxy(e);r!=e&&this.execute.apply(this,[r,t].concat(A));var n=this._eventMap[e.hashCode];if(n){var o=n[t];o&&o.concat().forEach(function(e){e.applyL.apply(e,A)})}},t.checkProxy=function(e){var t=this._proxyMap[e.hashCode];return t?t:e},t.clearTarget=function(e){this.clearEvent(e.hashCode),delete this._eventMap[e.hashCode]},t.clearEvent=function(e){var t=this._eventMap[e];if(t)for(var A in t){var i=t[A];i&&i.forEach(function(e){e.dispose()})}},t.dispose=function(){var e=this;for(var t in e._eventMap)e.clearTarget(Number(t));e._eventMap={},e._proxyMap={}},t._eventMap={},t._proxyMap={},t}();e.EventCenter=t,__reflect(t.prototype,"core.EventCenter"),window.EventCenter=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;e._maxLayer=0,e._textures={},e._layerBitmaps={},e.curFrame=-1,e.frameRate=24,e.autoPlay=!0,e.endAndHide=!0,e.byObjectPool=!1;var A=e;return A.contentLayer=new egret.DisplayObjectContainer,A.addChild(A.contentLayer),e}return __extends(A,t),A.prototype.init=function(){this.byObjectPool=!0},A.prototype.load=function(t,A,i,r,n,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=1),void 0===o&&(o=!1);var a=this;a.clear(),a.resId=t,a.url=A,a.jsonUrl=A+t+".json",a.level=n,a.textures={},a.color=r,a.skipSound=o,a.updateFlag(i),a.loader=a.loader||e.ObjectPool.pop(e.LoadMgr),a.loader.init(),"BattleMmeEffect"==a.$cname&&e.Functor.assert(e.LoadUtils.hasRes(a.jsonUrl),"战斗内使用了未预加载的资源-MmeEffect，url:"+A+t),e.LoadUtils.loadResByUrl(a.jsonUrl,n,a.onLoadDataComplete,a,!1)},A.prototype.updateFlag=function(e){if(void 0===e&&(e=null),e){var t=this;t.flag={},e.forEach(function(e){t.flag[e]=1})}},A.prototype.unload=function(){this.clear()},A.prototype.onLoadDataComplete=function(e,t){var A=this;if(!e)return void A.dispatchLoadedEvent(!0);A.data=e,A.frameRate=e.frameRate||A.frameRate;var i,r=[],n={},o=A.resId;if(t=A.url,e.group)for(var a=0,s=e.group;a<s.length;a++){var c=s[a];i=t+o+"_"+c+".png",n[i]=c,r.push(i)}else i=t+o+".png",n[i]=o,r.push(i);A.loader.loadResByUrls(r,A.level,A.onLoadTextureComplete,A,!1,n)},A.prototype.onLoadTextureComplete=function(e,t,A){var i=this;for(var r in e){if(!t[r])return void i.dispatchLoadedEvent(!0);i.textures[e[r]]=t[r]}i.isLoaded=!0,i.curActionName&&(i.setCurActionData(),i.autoPlay?i.play():i.updateFrame()),i.dispatchLoadedEvent(!1)},A.prototype.setCurActionData=function(){var t=this,A=t.curActionName;if(!t.preActionName||t.preActionName!=A){var i=t.data.mc[A];if(!i)return void e.GameLog.error("资源地址："+t.url+" 资源id："+t.resId+" 动作名称："+t.curActionName+"资源不存在");t.curActionData=t.data.mc[A],t.preActionName=A;var r=t.curActionData.labels[e.MmeUtils.correctDir(t.direction)]||1;t.beginFrame=1,t.endFrame=r,t.totalFrame=r,!t.curActionData.initialized&&e.MmeUtils.initActionData(t.curActionData)}},A.prototype.updateDirection=function(t){this.direction!=t&&(this.direction=t,this.contentLayer.scaleX=e.MmeUtils.checkDirMirror(t)?-1:1)},A.prototype.playAction=function(e,t,A,i,r,n){void 0===A&&(A=0),void 0===i&&(i=!1),void 0===r&&(r=!0),void 0===n&&(n=!0);var o=this;o.isLoop=i,o.autoPlay=r,o.endAndHide=n,o.curActionName=e,o.curFrame=A||1,o.direction=t,o._isPlayEnd=!1,o.isLoaded&&o.setCurActionData(),r?o.isLoaded&&o.play():(o.isLoaded&&o.updateFrame(),o.stop())},A.prototype.play=function(){var t=this,A=e.RenderUtils.getSameFrame(this,this.resId,this.curActionName);A>-1&&(this.curFrame=A),t.isPlaying||(t.isPlaying=!0,!t.isLoop&&t.endAndHide&&(t.visible=!0),e.TimerManager.addCycleTask(1e3/t.frameRate,t.onEnterFrame,t,10),t.updateFrame())},A.prototype.stop=function(){var t=this;t.isPlaying&&(t.isPlaying=!1,!t.isLoop&&t.endAndHide&&(t.visible=!1),e.TimerManager.removeTask(t.hashCode))},A.prototype.pause=function(){this.isPause=!0},A.prototype.resume=function(){this.isPause=!1},A.prototype.onEnterFrame=function(){this.isLoaded&&this.curActionName&&this.manualEnterFrame()},A.prototype.manualEnterFrame=function(){var e=this;if(!e.isPause){if(e._isPlayEnd&&(e._isPlayEnd=!1,e.dispatchEndEvent(),!e.isLoop))return void e.stop();var t=e.curFrame,A=t+1;A>e.endFrame&&(A=e.isLoop?e.beginFrame:e.endFrame),A!=e.curFrame?(e.curFrame=A,e.isLoaded&&e.updateFrame()):e.isLoaded&&e.isLoop&&e.updateLayers(),e.curFrame!=e.endFrame||t==e.curFrame&&1!=e.totalFrame||(e._isPlayEnd=!0)}},A.prototype.updateFrame=function(){var e=this;if(e.curActionData&&(e.updateLayers(),e.curActionData.events)){var t=e.curActionData.events[e.curFrame];t&&e.dispatchFrameEvent(e.curActionName,e.curActionData,e.curFrame)}},A.prototype.updateLayers=function(){var t=this;if(!t.curActionData)return void e.Functor.assert(!!t.curActionData,"资源地址："+t.url+" 资源id："+t.resId+" 动作名称："+t.curActionName+"资源不存在");for(var A=t.curActionData.layer.length,i=A-1;i>=0;i--){var r=t.updateLayerFrame(t.curActionName,t.curActionData,i,t.curFrame,A-1);if(!r){var n=t._layerBitmaps[i];n&&(n.texture=null)}}if(A<t._maxLayer)for(var i=A;i<t._maxLayer;i++){var n=t._layerBitmaps[i];n&&(n.texture=null)}t._maxLayer=A},A.prototype.updateLayerFrame=function(t,A,i,r,n){var o=this,a=e.MmeUtils.getFrameRenderInfo(t,A,i,r),s=o._layerBitmaps[i];if(s||(s=e.ObjectPool.pop(egret.Bitmap,"MRBitmap"),s.pixelHitTest=!e.DeviceUtils.isXYX,o._layerBitmaps[i]=s,o.contentLayer.addChildAt(s,n-i)),!a||!a.res||o.flag&&a.res in o.data.flags&&!o.flag[o.data.flags[a.res]])return!1;var c=o.data.res[a.res],l=o._textures[a.res];if(null==l){var u=o.textures[A.group||o.resId];l=e.Utils.createTexture(u?u.$bitmapData:null,c[0],c[1],c[2],c[3]),o._textures[a.res]=l}s.texture=l;var d=a.da,h=a.cx,g=a.cy,p=a.dr,f=a.dsx,v=a.dsy,m=a.dx,I=a.dy,E=a.blendMode,C=16777215;if(o.color){var y=o.data.colors[o.color];y&&y[a.res]&&(C=y.color)}return E=E||egret.BlendMode.NORMAL,s.$alpha!=d&&(s.alpha=d),s.$anchorOffsetX!=h&&(s.anchorOffsetX=h),s.$anchorOffsetY!=g&&(s.anchorOffsetY=g),s.$rotation!=p&&(s.rotation=p),s.$scaleX!=f&&(s.scaleX=f),s.$scaleY!=v&&(s.scaleY=v),s.$x!=m&&(s.x=m),s.$y!=I&&(s.y=I),s.$blendMode!=E&&(s.blendMode=E),s.tint!=C&&(s.tint=C),!0},A.prototype.dispatchLoadedEvent=function(t){var A=this;A.hasEventListener("loaded")&&(A._readyEvent=A._readyEvent||new e.MmeEvent("loaded"),A._readyEvent.fail=t,egret.$callAsync(A.dispatchEvent,A,A._readyEvent))},A.prototype.dispatchFrameEvent=function(t,A,i){var r=this;if(A.events){var n=A.events[i];if(n&&r.hasEventListener("frame_event"))for(var o=0,a=n;o<a.length;o++){var s=a[o],c=s[0];if(!("playShake"==c&&e.DeviceUtils.isWxGame||"sound"==c&&r.skipSound)){var l=r._frameEvent=r._frameEvent||new e.MmeEvent("frame_event");l.frame=r.curFrame,l.actionName=r.curActionName,l.frameEventName=c,l.frameEventParam=s[1],r.dispatchEvent(l)}}}},A.prototype.dispatchEndEvent=function(){var t=this;if(t.hasEventListener("action_play_end")){var A=t._playEndEvent=t._playEndEvent||new e.MmeEvent("action_play_end");A.actionName=t.curActionName,t.dispatchEvent(A)}},A.prototype.getRefPoint=function(e){var t=egret.Point.create(0,0),A=this.data?this.data[e]:null;return A&&t.setTo(A[0],A[1]),t},A.prototype.clear=function(){var t=this;t.stop();var A=t._layerBitmaps;for(var i in A){var r=A[i];r&&(r.tint=16777215,r.texture=null,e.ObjectPool.push(r))}var n=t._textures||{};for(var o in n){var a=n[o];a&&(a.$bitmapData=null,e.ObjectPool.push(a))}t._isPlayEnd=!1,t._maxLayer=0,t._textures={},t._layerBitmaps={},t.contentLayer.removeChildren(),t.loader&&t.loader.unload(),e.LoadUtils.cancleLoadTarget(t),t.resId=null,t.url=null,t.level=1,t.jsonUrl=null,t.flag=null,t.color=null,t.isLoaded=!1,t.data=null,t.textures=null,t.preActionName=null,t.curActionName=null,t.curActionData=null,t.direction=0,t.curFrame=-1,t.beginFrame=1,t.endFrame=1,t.totalFrame=0,t.isLoop=!1,t.skipSound=!1,t.autoPlay=!0,t.endAndHide=!0,t.isPlaying=!1,t.isPause=!1,t.visible=!0,t.filters=null},A.prototype.dispose=function(){var t=this;t.x=t.y=0,t.rotation=0,t.alpha=1,t.scaleX=t.scaleY=1,t.anchorOffsetX=t.anchorOffsetY=0,t.touchEnabled=!0,t.touchChildren=!0,t.visible=!0,t.clear(),t.loader&&(t.loader.destroy(),t.loader=null),t.byObjectPool&&(t.parent&&t.parent.removeChild(t),e.ObjectPool.push(t))},A}(eui.Component);e.MmeEffect=t,__reflect(t.prototype,"core.MmeEffect"),window.MmeEffect=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i){void 0===A&&(A=!1),void 0===i&&(i=!1);var r=e.call(this,t,A,i)||this;return r.frame=0,r}return __extends(t,e),t}(egret.Event);e.MmeEvent=t,__reflect(t.prototype,"core.MmeEvent"),window.MmeEvent=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e}();e.MmePosInfo=t,__reflect(t.prototype,"core.MmePosInfo"),window.MmePosInfo=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;e._maxLayer=0,e._textures={},e._layerBitmaps={},e.curFrame=-1;var A=e;return A.contentLayer=new egret.DisplayObjectContainer,A.addChild(A.contentLayer),e}return __extends(A,t),A.prototype.load=function(t,A,i,r,n,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=3),void 0===o&&(o=!1);var a=this;a.clear(),a.resId=t,a.url=A,a.jsonUrl=A+t+".json",a.level=n,a.textures={},a.color=r,a.skipSound=o,a.updateFlag(i),a.loader=a.loader||e.ObjectPool.pop(e.LoadMgr),a.loader.init(),"BattleMmeRender"==a.$cname&&e.Functor.assert(e.LoadUtils.hasRes(a.jsonUrl),"战斗内使用了未预加载的资源-MmeRender，url:"+A+t),e.LoadUtils.loadResByUrl(a.jsonUrl,n,a.onLoadDataComplete,a,!1)},A.prototype.updateFlag=function(e){if(void 0===e&&(e=null),e){var t=this;t.flag={},e.forEach(function(e){t.flag[e]=1})}},A.prototype.unload=function(){this.clear()},A.prototype.onLoadDataComplete=function(e,t){var A=this;if(!e)return void A.dispatchLoadedEvent(!0);A.data=e;var i,r=[],n={},o=A.resId;if(t=A.url,e.group)for(var a=0,s=e.group;a<s.length;a++){var c=s[a];i=t+o+"_"+c+".png",n[i]=c,r.push(i)}else i=t+o+".png",n[i]=o,r.push(i);A.textureUrls=r,A.loader.loadResByUrls(r,A.level,A.onLoadTextureComplete,A,!1,n)},A.prototype.onLoadTextureComplete=function(e,t,A){var i=this;for(var r in e){if(!t[r])return void i.dispatchLoadedEvent(!0);i.textures[e[r]]=t[r]}i.isLoaded=!0,i.curActionName&&(i.setCurActionData(),i.update()),i.dispatchLoadedEvent(!1)},A.prototype.setCurActionData=function(){var t=this;t.curActionData=t.data.mc[t.curActionName];var A=t.data.mc[t.curActionName];if(!A)return void e.GameLog.error("资源地址："+t.url+" 资源id："+t.resId+" 动作名称："+t.curActionName+"资源不存在");var i=t.curActionData.labels[e.MmeUtils.correctDir(t.direction)]||1;t.beginFrame=1,t.endFrame=i,t.totalFrame=i,!t.curActionData.initialized&&e.MmeUtils.initActionData(t.curActionData)},A.prototype.updateDirection=function(t){this.direction=t,this.contentLayer.scaleX=e.MmeUtils.checkDirMirror(t)?-1:1},A.prototype.gotoAction=function(e,t,A,i){var r=this,n=!1;r.direction!=t&&r.updateDirection(t),r.curActionName!=e&&(r.curActionName=e,r.isLoaded&&r.setCurActionData(),n=!0),(r.totalFrame!=A||r.curFrame!=i)&&(r.beginFrame=1,r.endFrame=A,r.totalFrame=A,r.curFrame=Math.min(i,r.endFrame),n=!0),r.isLoaded&&n&&r.update()},A.prototype.playAction=function(e,t,A,i){void 0===A&&(A=0),void 0===i&&(i=!1);var r=this,n=!1;A=A||1,r.isLoop=i,r._isPlayEnd=!1,r.direction!=t&&r.updateDirection(t),r.curActionName!=e&&(r.curActionName=e,r.isLoaded&&r.setCurActionData(),n=!0),r.curFrame!=A&&(r.beginFrame=1,r.curFrame=Math.min(A,r.endFrame),n=!0),r.isLoaded&&n&&r.update()},A.prototype.pause=function(){this.isPause=!0},A.prototype.resume=function(){this.isPause=!1},A.prototype.manualEnterFrame=function(){var e=this;if(!e.isPause&&e.isLoaded&&e.curActionName&&(!e._isPlayEnd||(e._isPlayEnd=!1,e.dispatchEndEvent(),e.isLoop))){var t=e.curFrame,A=t+1;A>e.endFrame&&(A=e.isLoop?e.beginFrame:e.endFrame),A!=e.curFrame?(e.curFrame=A,e.isLoaded&&e.update()):e.isLoaded&&e.isLoop&&e.updateLayers(),e.curFrame!=e.endFrame||t==e.curFrame&&1!=e.totalFrame||(e._isPlayEnd=!0)}},A.prototype.update=function(){var e=this;e.updateLayers()},A.prototype.updateLayers=function(){var t=this;if(!t.curActionData)return void e.Functor.assert(!!t.curActionData,"资源地址："+t.url+" 资源id："+t.resId+" 动作名称："+t.curActionName+"资源不存在");for(var A=t.curActionData.layer.length,i=A-1;i>=0;i--){var r=t.updateLayerFrame(t.curActionName,t.curActionData,i,t.curFrame,A-1);r||t.clearLayerBitmap(i,!1)}if(A<t._maxLayer)for(var i=A;i<t._maxLayer;i++)t.clearLayerBitmap(i,!1);t._maxLayer=A},A.prototype.updateLayerFrame=function(t,A,i,r,n){var o=this,a=e.MmeUtils.getFrameRenderInfo(t,A,i,r),s=o._layerBitmaps[i];if(s||(s=e.ObjectPool.pop(egret.Bitmap,"MRBitmap"),s.pixelHitTest=!e.DeviceUtils.isXYX,o._layerBitmaps[i]=s,o.contentLayer.addChildAt(s,n-i)),!a||!a.res||o.flag&&a.res in o.data.flags&&!o.flag[o.data.flags[a.res]])return!1;var c=o.data.res[a.res],l=o._textures[a.res];if(null==l){var u=o.textures[A.group||o.resId];l=e.Utils.createTexture(u?u.$bitmapData:null,c[0],c[1],c[2],c[3]),o._textures[a.res]=l}s.texture=l;var d=e.MmeUtils.getPosInfo(t,A,r),h=a.da,g=a.cx,p=a.cy,f=a.dr,v=a.dsx,m=a.dsy,I=a.dx,E=a.dy,C=a.blendMode,y=16777215;if(o.color){var B=o.data.colors[o.color];B&&B[a.res]&&(y=B.color)}return C=C||egret.BlendMode.NORMAL,d&&(I-=d.dx,E-=d.dy),s.$anchorOffsetX!=g&&(s.anchorOffsetX=g),s.$anchorOffsetY!=p&&(s.anchorOffsetY=p),s.$rotation!=f&&(s.rotation=f),s.$scaleX!=v&&(s.scaleX=v),s.$scaleY!=m&&(s.scaleY=m),s.$x!=I&&(s.x=I),s.$y!=E&&(s.y=E),s.$blendMode!=C&&(s.blendMode=C),s.tint!=y&&(s.tint=y),s.$alpha!=h&&(s.alpha=h),!0},A.prototype.clearLayerBitmap=function(t,A){var i=this._layerBitmaps[t];i&&(i.tint=16777215,i.texture=null,i.filters=null,A&&e.ObjectPool.push(i))},A.prototype.dispatchLoadedEvent=function(t){var A=this;A.hasEventListener("loaded")&&(A._readyEvent=A._readyEvent||new e.MmeEvent("loaded"),A._readyEvent.fail=t,egret.$callAsync(A.dispatchEvent,A,A._readyEvent))},A.prototype.dispatchEndEvent=function(){var t=this;if(t.hasEventListener("action_play_end")){var A=t._playEndEvent=t._playEndEvent||new e.MmeEvent("action_play_end");A.actionName=t.curActionName,t.dispatchEvent(A)}},A.prototype.getAllResName=function(){var e=this.textureUrls,t=e?e.concat():[],A=this.jsonUrl;return A&&t.push(A),t},A.prototype.getRefPoint=function(e){var t=egret.Point.create(0,0),A=this.data?this.data[e]:null;return A&&t.setTo(A[0],A[1]),t},A.prototype.clear=function(){var t=this,A=t._layerBitmaps;for(var i in A)t.clearLayerBitmap(+i,!0);var r=t._textures||{};for(var n in r){var o=r[n];o&&(o.$bitmapData=null,e.ObjectPool.push(o))}t._isPlayEnd=!1,t._maxLayer=0,t._textures={},t._layerBitmaps={},t.contentLayer.removeChildren(),t.loader&&t.loader.unload(),e.LoadUtils.cancleLoadTarget(t),t.resId=null,t.url=null,t.level=1,t.jsonUrl=null,t.flag=null,t.color=null,t.isLoaded=!1,t.data=null,t.textures=null,t.textureUrls=null,t.curActionName=null,t.curActionData=null,t.direction=0,t.curFrame=-1,t.beginFrame=1,t.endFrame=1,t.totalFrame=0,t.isLoop=!1,t.skipSound=!1,t.isPause=!1,t.depth=0,t.tempDepth=0,t.filters=null,t.owner=null},A.prototype.dispose=function(){var t=this;t.tint=16777215,t.x=t.y=0,t.rotation=0,t.alpha=1,t.scaleX=t.scaleY=1,t.anchorOffsetX=t.anchorOffsetY=0,t.touchEnabled=!0,t.touchChildren=!0,t.visible=!0,t.clear(),t.loader&&(t.loader.destroy(),t.loader=null),t.parent&&t.parent.removeChild(t),e.ObjectPool.push(t)},A}(e.DSprite);e.MmeRender=t,__reflect(t.prototype,"core.MmeRender"),window.MmeRender=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e}();e.MmeRenderInfo=t,__reflect(t.prototype,"core.MmeRenderInfo"),window.MmeRenderInfo=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.correctDir=function(e){switch(e){case 6:return 4;case 7:return 3;case 8:return 2;default:return e}},t.checkDirMirror=function(e){return 6==e||7==e||8==e},t.initActionData=function(e){if(!e.initialized){if(e.initialized=!0,e.layer){e.layers={};for(var t=0,A=e.layer.length;A>t;t++){e.layers[t]={};for(var i=0,r=e.layer[t];i<r.length;i++)for(var n=r[i],o=n[1],a=n[2],s=o+a;s>o;)e.layers[t][o]=n,o++}}if(e.pos)for(var c in e.pos){var l=e.pos[c],o=l[0],a=l[1],s=o+a;if(a>1)for(o++;s>o;)e.pos[o]=l,o++}if(e.aps)for(var u in e.aps){var d=e.aps[u],o=d[0],a=d[1],s=o+a;if(a>1)for(o++;s>o;)e.aps[o]=d,o++}}},t.getFrameRenderInfo=function(t,A,i,r){A.initialized||this.initActionData(A);var n=A.layers[i][r];if(!n||!n[0])return null;A.renders=A.renders||{};var o=A.renders[i]=A.renders[i]||{},a=o[r];if(!a){a=e.ObjectPool.pop(e.MmeRenderInfo),o[r]=a;var s=n[7],c=n[8],l=n[10],u=n[9],d=n[3],h=n[4],g=n[5],p=n[6],f=d,v=h,m=s,I=c,E=l,C=u,y=void 0;if(n[11]&&n[2]>1){var B=n[2],_=n[1],Q=A.layers[i][_+B],b=r-_;Q&&Q[0]==n[0]&&(f=e.Fixed.value(Q[3]).sub(d).mul(b).div(B).add(d).value,v=e.Fixed.value(Q[4]).sub(h).mul(b).div(B).add(h).value,m=e.Fixed.value(Q[7]).sub(s).mul(b).div(B).add(s).value,I=e.Fixed.value(Q[8]).sub(c).mul(b).div(B).add(c).value,E=e.Fixed.value(Q[10]).sub(l).mul(b).div(B).add(l).value,C=e.Fixed.value(Q[9]).sub(u).mul(b).div(B).add(u).value)}y=1!=m||1!=I||0!=E,g=y?g:0,p=y?p:0,a.res=n[0],a.blendMode=n[12]||egret.BlendMode.NORMAL,a.cx=g,a.cy=p,a.da=C,a.dr=E,a.dsx=m,a.dsy=I,a.dx=e.Fixed.value(f).add(g).value,a.dy=e.Fixed.value(v).add(p).value}return a},t.getPosInfo=function(t,A,i){if(!A.pos)return null;A.initialized||this.initActionData(A);var r=A.pos[i];if(!r)return null;A.posInfos=A.posInfos=A.posInfos||{};var n=A.posInfos[i];if(!n){n=e.ObjectPool.pop(e.MmePosInfo),A.posInfos[i]=n;var o=r[2],a=r[3],s=o,c=a;if(r[4]&&r[1]>1){var l=r[1],u=r[0],d=A.pos[u+l],h=i-u;d&&(s=e.Fixed.value(d[2]).sub(o).mul(h).div(l).add(o).value,c=e.Fixed.value(d[3]).sub(a).mul(h).div(l).add(a).value)}n.dx=s||0,n.dy=c||0}return n},t.getApInfo=function(t,A,i){if(!A.aps)return null;A.initialized||this.initActionData(A);var r=A.aps[i];if(!r)return null;A.apInfos=A.apInfos=A.apInfos||{};var n=A.apInfos[i];if(!n){n=e.ObjectPool.pop(e.MmePosInfo),A.apInfos[i]=n;var o=r[2],a=r[3],s=o,c=a;if(r[4]&&r[1]>1){var l=r[1],u=r[0],d=A.aps[u+l],h=i-u;d&&(s=e.Fixed.value(d[2]).sub(o).mul(h).div(l).add(o).value,c=e.Fixed.value(d[3]).sub(a).mul(h).div(l).add(a).value)}n.dx=s,n.dy=c}return n},t}();e.MmeUtils=t,__reflect(t.prototype,"core.MmeUtils"),window.MmeUtils=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){return t.call(this)||this}return __extends(A,t),A.prototype.initialize=function(e){var t=this;t._target=e,t._shadows=[],t._running=!1,t._fadeTime=200,t._gap=20,t._refer=null,t._filterType=0},A.prototype.start=function(t){void 0===t&&(t=0);var A=this;A._running||(A._refer=null,A._running=!0,A._filterType=t,e.TimerManager.addFrameTask(A.render,A,1e4))},A.prototype.stop=function(){this._running=!1},A.prototype.interpolate=function(){var t=this;if(t._target&&t._target.stage&&t._target.visible&&!(t._target.alpha<A.ALPHA_THRESHOLD)){var i,r;if(t._gap){if(!t._refer)return void(t._refer=egret.Point.create(t._target.x,t._target.y));var n=egret.Point.create(t._target.x,t._target.y);if(i=egret.Point.distance(n,t._refer),egret.Point.release(n),r=t._gap?Math.floor(i/t._gap):1,!r||r>=50)return}else r=1;var o=t._target.getBounds(),a=e.ObjectPool.pop(egret.RenderTexture);a.drawToTexture(t._target,o,1);for(var s,c=Math.atan2(t._target.y-t._refer.y,t._target.x-t._refer.x),l=1;r>=l;l++)s=e.ObjectPool.pop(e.MotionShadowBitmap),s.createBitmap(o.x,o.y,a),s.alpha=Math.min(.7,t._target.alpha),s.x=t._refer.x+Math.cos(c)*t._gap*l>>0,s.y=t._refer.y+Math.sin(c)*t._gap*l>>0,t.addFilter(s),t._target.parent.addChildAt(s,t._target.parent.getChildIndex(t._target)),t._shadows.push(s);var u=t._refer;t._refer=egret.Point.create(t._target.x,t._target.y),egret.Point.release(u)}},A.prototype.render=function(){var t=this;if(t._shadows.length||t._running){t._running&&t.interpolate();for(var i,r=e.TimerManager.lastFrameCost/t._fadeTime,n={},o={},a=0;a<t._shadows.length;a++)i=t._shadows[a],i.alpha<A.ALPHA_THRESHOLD?(i.shadow&&i.shadow.texture&&(n[i.shadow.texture.hashCode]=i.shadow.texture),i.parent&&i.parent.removeChild(i),i.destroy(),t._shadows.splice(a--,1),e.ObjectPool.push(i)):(i.shadow&&i.shadow.texture&&(o[i.shadow.texture.hashCode]=1),i.alpha=Math.max(0,i.alpha-r));var s;for(var c in n)s=n[c],o[s.hashCode]||e.ObjectPool.push(s);t._shadows.length||t._running||e.TimerManager.removeTask(t.hashCode)}},A.prototype.addFilter=function(e){if(e)switch(this._filterType){case A.MOTION_FILTER_TYPE_BLACK:e.filters=A.BLACK_FILTERS;break;default:e.filters=null}},A.prototype.dispose=function(){var t=this;t.stop(),e.TimerManager.removeTask(t.hashCode);for(var A={};t._shadows.length;){var i=t._shadows.pop();i.shadow&&i.shadow.texture&&(A[i.shadow.texture.hashCode]=i.shadow.texture),i.parent&&i.parent.removeChild(i),i.destroy(),e.ObjectPool.push(i)}var r;
for(var n in A)r=A[n],e.ObjectPool.push(r);t._shadows=null,egret.Point.release(t._refer),t._refer=null},Object.defineProperty(A.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"target",{get:function(){return this._target},set:function(e){this._target=e},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"fadeTime",{get:function(){return this._fadeTime},set:function(e){this._fadeTime=Math.max(1,e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=e},enumerable:!0,configurable:!0}),A.BLACK_FILTERS=[new egret.ColorMatrixFilter([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0])],A.ALPHA_THRESHOLD=.01,A.MOTION_FILTER_TYPE_NULL=0,A.MOTION_FILTER_TYPE_BLACK=1,A}(egret.HashObject);e.MotionShadow=t,__reflect(t.prototype,"core.MotionShadow"),window.MotionShadow=t}(core||(core={}));var core;!function(e){var t=function(e){function t(){var t=e.call(this)||this,A=t;return A.touchEnabled=!1,A.touchChildren=!1,A.shadow=new egret.Bitmap,A.shadow.smoothing=!1,A.addChild(A.shadow),t}return __extends(t,e),t.prototype.createBitmap=function(e,t,A){this.shadow.texture=A,this.shadow.x=e,this.shadow.y=t},t.prototype.destroy=function(){var e=this;e.filters=null,e.alpha=1,e.shadow.texture=null},t}(e.DSprite);e.MotionShadowBitmap=t,__reflect(t.prototype,"core.MotionShadowBitmap"),window.MotionShadowBitmap=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this,A=e;return A._deadFilter1=new egret.ColorMatrixFilter([.3,0,0,0,180,0,.3,0,0,180,0,0,.3,0,180,0,0,0,1,0]),A._deadFilter2=new egret.ColorMatrixFilter([0,0,0,0,240,0,0,0,0,240,0,0,0,0,240,0,0,0,1,0]),A._hitFilter=new egret.ColorMatrixFilter([.3,0,0,0,180,0,.3,0,0,180,0,0,.3,0,180,0,0,0,1,0]),A._lightFilter=new egret.GlowFilter(16777215,1,15,15,5,2,!1,!1),A._batiExtraFilter=new egret.GlowFilter(16776960,1,15,15,200,2,!1,!1),A._blurs=[15,14,13,12,11,10,9,8,7,6,5,4,3,4,5,6,7,8,9,10,11,12,13,14],A._alphaList=[.95,.91,.86,.81,.76,.71,.67,.62,.57,.52,.48,.43,.38,.33,.29,.24,.19,.14,.09,.05,0,.05,.09,.14,.19,.24,.29,.33,.38,.43,.48,.52,.57,.62,.67,.71,.76,.81,.86,.91,.95,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],A._colorMatrixFilter=new egret.ColorMatrixFilter([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),e}return __extends(A,t),Object.defineProperty(A.prototype,"actionName",{get:function(){var e=this.parts[1],t=e?e.curMme||e.nextMme:null;return t?t.curActionName:null},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"curFrame",{get:function(){var e=this.parts[1],t=e?e.curMme||e.nextMme:null;return t?t.curFrame:0},enumerable:!0,configurable:!0}),A.prototype.initialize=function(t,A){var i=this;i.clear(),i.isLoaded=!1,i.parts={},i.level=A,i.filterList=[],i.defaultImg=e.ObjectPool.pop(e.UIImage,"UnitDefaultImage"),i.defaultImg.source="hero_default",i.defaultImg.width=51,i.defaultImg.height=147,i.defaultImg.anchorOffsetX=25,i.defaultImg.anchorOffsetY=147,i.defaultImg.visible=!0,i.addChild(i.defaultImg);var r;for(var n in t)r=t[n],i.createPart(+n,r.url,r.id,r.flag,r.color);i.layout()},A.prototype.createPart=function(t,A,i,r,n){var o=this,a=o.parts[t];a?(a.id=i,a.url=A,a.flag=r,a.color=n):a=o.parts[t]={part:t,id:i,url:A,flag:r,color:n};var s,c,l,u,d,h=a.curMme,g=a.nextMme;g?!h&&g.curActionName&&(h=g,s=h.curActionName,c=h.direction,l=h.totalFrame,u=h.curFrame,d=h.isLoop):(a.onPartLoaded=o.onPartLoaded.bind(o,a),g=a.nextMme=e.ObjectPool.pop(e.MmeRender),g.visible=!1,g.addEventListener("loaded",a.onPartLoaded,o),g.addEventListener("frame_event",o.onFrameEvent,o),1==t&&g.addEventListener("action_play_end",o.onActionEnd,o)),i!=g.resId||A!=g.url?(g.load(i,A,r,n,o.level),s&&(g.gotoAction(s,c,l,u),g.isLoop=d)):(n!=g.color&&(g.color=n),r!=g.flag&&g.updateFlag(r))},A.prototype.removePart=function(t){var A=this;if(t in A.parts){var i=A.parts[t],r=i.curMme,n=i.nextMme;r&&(r.removeEventListener("loaded",i.onPartLoaded,A),r.removeEventListener("frame_event",A.onFrameEvent,A),1==t&&r.removeEventListener("action_play_end",A.onActionEnd,A),r.dispose()),n&&(n.removeEventListener("loaded",i.onPartLoaded,A),n.removeEventListener("frame_event",A.onFrameEvent,A),1==t&&n.removeEventListener("action_play_end",A.onActionEnd,A),n.dispose()),e.ObjectUtils.clearKeys(i,["flag","color","curMme","nextMme","onPartLoaded"]),delete A.parts[t]}},A.prototype.onPartLoaded=function(t,A){var i=this;if(t.nextMme.removeEventListener("loaded",t.onPartLoaded,i),!A.fail){var r=1==t.part&&!i.isLoaded;if(r){i.isLoaded=!0,i.defaultImg.visible=!1;var n=i.parts,o=void 0;for(var a in n)o=n[a],o.curMme&&(o.curMme.visible=!0),o.nextMme&&(o.nextMme.visible=!0)}var s=t.curMme,c=t.nextMme;s&&(c.gotoAction(s.curActionName,s.direction,s.totalFrame,s.curFrame),c.isLoop=s.isLoop,s.removeEventListener("loaded",t.onPartLoaded,i),s.removeEventListener("frame_event",i.onFrameEvent,i),1==t.part&&s.removeEventListener("action_play_end",i.onActionEnd,i),s.dispose()),c.visible=!0,t.curMme=c,t.nextMme=null,i.addChild(c),i.layout(),r&&e.EventCenter.execute(i,"ready",A.fail)}},A.prototype.onFrameEvent=function(t){null!=t.frameEventParam?e.EventCenter.execute(this,"frameEvent",t.frameEventName,t.frameEventParam):e.EventCenter.execute(this,"frameEvent",t.frameEventName)},A.prototype.onActionEnd=function(t){e.EventCenter.execute(this,"actionPlayEnd",t.actionName)},A.prototype.changePart=function(e,t,A,i,r){void 0===i&&(i=null),void 0===r&&(r=null),A?this.createPart(e,t,A,i,r):this.removePart(e)},A.prototype.layout=function(){for(var e,t=[],i=A.PART_DEPTHS,r=0,n=i.length;n>r;r++)0==i[r]?t.push(this.defaultImg):(e=this.parts[i[r]],e&&e.curMme&&t.push(e.curMme));for(var r=0,n=t.length;n>r;r++)this.setChildIndex(t[r],r)},A.prototype.gotoAction=function(e,t,A,i){var r,n,o=this.parts;for(var a in o)r=o[a],n=r.curMme||r.nextMme,n&&n.gotoAction(e,t,A,i)},A.prototype.playAction=function(e,t,A,i){void 0===A&&(A=0),void 0===i&&(i=!1);var r,n,o=this.parts;for(var a in o)r=o[a],n=r.curMme||r.nextMme,n.playAction(e,t,A,i)},A.prototype.manualEnterFrame=function(e){if(void 0===e&&(e=null),this.isLoaded){var t=this.parts,A=t[1],i=A.curMme;if(i.curActionName){var r=i.curActionName,n=i.direction,o=i.totalFrame,a=i.curFrame;e&&r!=e&&i.gotoAction(e,n,o,a),i.manualEnterFrame();for(var s in t)A=t[s],1!=A.part&&(i=A.curMme||A.nextMme,i&&i.gotoAction(r,n,o,a))}}},A.prototype.afterEnterFrame=function(){this.updateFilter(!1)},A.prototype.updateDirection=function(e){var t,A,i=this.parts;for(var r in i)t=i[r],A=t.curMme||t.nextMme,A&&A.updateDirection(e)},A.prototype.getPartData=function(e){return this.parts[e]},A.prototype.getRefPoint=function(e){var t=this.parts[1],A=t.curMme||t.nextMme;return A?A.getRefPoint(e):egret.Point.create(0,0)},A.prototype.playNormalFilter=function(e){var t=this,A=e.cfg.filter;t.effectInfo=e,t.normalFilter=A,t.normalIndex=0,t.alpha=1,t.wudiStopFrame=0,t.wudiToMin=!0,4==A?t.resetColorMatrix():2==A||3==A||7==A?t.playBatiExtraFilter(A):9==A&&98!=t.invisibleFilter&&(t.invisibleStopFrame=0,t.invisibleToMin=!0),t.updateFilter(!0)},A.prototype.stopNormalFilter=function(e){void 0===e&&(e=!0);var t=this;t.effectInfo&&(4==t.normalFilter&&t.resetColorMatrix(),98!=t.invisibleFilter&&(t.invisibleStopFrame=0,t.invisibleToMin=!0),t.effectInfo=null,t.normalFilter=0,t.normalIndex=0,t.alpha=1,t.wudiStopFrame=0,t.wudiToMin=!0,e&&t.updateFilter(!0))},A.prototype.playSpecialFilter=function(e){var t=this;t.specialFilter=e,t.specialFrame=14,t.updateFilter(!0)},A.prototype.stopSpecialFilter=function(e){void 0===e&&(e=!0);var t=this;t.specialFilter&&(t.specialFilter=0,t.specialFrame=0,e&&t.updateFilter(!0))},A.prototype.playBatiExtraFilter=function(e){var t=this;t.batiFilter=99,t.batiNormal=e,t.batiFrame=10,t.batiIndex=0,t.batiStrength=50,t.updateFilter(!0)},A.prototype.stopBatiExtraFilter=function(e){void 0===e&&(e=!0);var t=this;t.batiFilter&&(t.batiFilter=0,t.batiNormal=0,t.batiFrame=0,t.batiIndex=0,t.batiStrength=0,e&&t.updateFilter(!0))},A.prototype.playInvisibleFilter=function(){var e=this;e.invisibleFilter=98,9!=e.normalFilter&&(e.invisibleStopFrame=0,e.invisibleToMin=!0),e.updateFilter(!0)},A.prototype.stopInvisibleFilter=function(e){void 0===e&&(e=!0);var t=this;t.invisibleFilter=0,9!=t.normalFilter&&(t.invisibleStopFrame=0,t.invisibleToMin=!0),e&&t.updateFilter(!0)},A.prototype.stopFilter=function(){var e=this;e.stopSpecialFilter(!1),e.stopBatiExtraFilter(!1),e.stopNormalFilter(!1),e.stopInvisibleFilter(!1),e.updateFilter(!0)},A.prototype.updateFilter=function(e){var t=this,A=t.normalFilter,i=t.specialFilter,r=t.batiFilter,n=t.invisibleFilter;if(!(A||i||r||n))return void(t.hasFilter&&(t.hasFilter=!1,t.alpha=1,t.filters=null,t.spineBody&&(t.spineBody.filters=null)));var o=!1,a=!1,s=!1,c=t.filterList,l=1;if(c.length=0,98==n||9==A){var u=t.alpha;s=!0,t.invisibleStopFrame>0?(t.invisibleStopFrame--,l=u):t.invisibleToMin?(l=u-.015,0>=l&&(l=0,t.invisibleStopFrame=2,t.invisibleToMin=!1)):(l=u+.015,l>=.68&&(l=.68,t.invisibleStopFrame=2,t.invisibleToMin=!0))}if(1==i)if(e||t.specialFrame--,t.specialFrame<0)t.stopSpecialFilter();else{var d=t.specialFrame<=9&&t.specialFrame>5?null:t._hitFilter;d&&!a&&(a=!0,c.push(d))}if(99==r)if(e||t.batiFrame--,t.batiFrame<0)t.stopBatiExtraFilter();else if(t.batiIndex++,!o){var d=t._batiExtraFilter,h=t.batiNormal;o=!0,d.color=2==h?16776960:7==h?16711680:16777215,d.strength=t.batiIndex<=5?50:Math.max(50-50*(t.batiIndex-5),20),c.push(d)}if(2==A||3==A||7==A){e||(t.normalIndex=t.normalIndex+1);var g=t.normalIndex;if(g>=24&&(g=t.normalIndex=0),!o){var p=t._lightFilter;o=!0,p.color=2==A?16776960:7==A?16711680:16777215,p.blurX=p.blurY=t._blurs[g],c.push(p)}}else if(4==A){e||(t._alphaIndex+=2),t._alphaIndex>=t._alphaList.length-1&&(t._alphaIndex=0);var f=.6,v=.4,m=v+(f-v)*t._alphaList[t._alphaIndex],I=1,E=16598032,C=t._colorMatrixFilter,y=(16711680&E)>>16,B=(65280&E)>>8,_=255&E,Q=-1==m?f:m,b=C.matrix;b[0]=1-Q,b[6]=1-Q,b[12]=1-Q,b[18]=I,b[4]=y*Q,b[9]=B*Q,b[14]=_*Q,C.matrix=b,a||(s||(s=!0,l=I),a=!0,c.push(C))}else if(5==A)a||(a=!0,c.push(t._deadFilter1));else if(6==A)a||(a=!0,c.push(t._deadFilter2));else if(8==A){var u=t.alpha;s=!0,t.wudiStopFrame>0?(t.wudiStopFrame--,l=u):t.wudiToMin?(l=u-.2,0>=l&&(l=0,t.wudiStopFrame=5,t.wudiToMin=!1)):(l=u+.2,l>=.8&&(l=.8,t.wudiStopFrame=1,t.wudiToMin=!0))}t.hasFilter=!0,t.alpha=l,c.length>=1?(t.filters=c,t.spineBody&&(t.spineBody.filters=c)):(t.filters=null,t.spineBody&&(t.spineBody.filters=null))},A.prototype.resetColorMatrix=function(){var e=this._colorMatrixFilter.matrix;e[0]=1,e[6]=1,e[12]=1,e[18]=1,e[4]=0,e[9]=0,e[14]=0,e[19]=0},A.prototype.clear=function(){var t=this;for(var A in t.parts)t.removePart(+A);var i=t.defaultImg;i&&(i.source=null,i.parent&&i.parent.removeChild(i),e.ObjectPool.push(i),t.defaultImg=null),t.spineBody&&(t.spineBody.filters=null,t.spineBody=null),t.filters=null,t.isLoaded=!1,t.parts=null,t.level=0,t.specialFilter=0,t.specialFrame=0,t.batiFilter=0,t.batiNormal=0,t.batiFrame=0,t.batiIndex=0,t.batiStrength=0,t.effectInfo=null,t.normalFilter=0,t.normalIndex=-1,t.invisibleFilter=0,t.invisibleStopFrame=0,t.invisibleToMin=!1,t.wudiStopFrame=0,t.wudiToMin=!1,t._alphaIndex=0,t.hasFilter=!1},A.prototype.destroy=function(){var t=this;t.visible=!0,t.alpha=1,t.scaleX=t.scaleY=1,t.x=t.y=0,t.rotation=0,t.anchorOffsetY=t.anchorOffsetX=0,t.clear(),e.ObjectPool.push(t)},A.PART_DEPTHS=[3,0,1,2],A}(egret.DisplayObjectContainer);e.UnitPlayer=t,__reflect(t.prototype,"core.UnitPlayer"),window.UnitPlayer=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.endian=egret.Endian.LITTLE_ENDIAN,e}return __extends(A,t),A.prototype.toHex=function(){return e.ByteArrayUtils.toHex(this," ",">>>")},A.prototype.toString=function(){return"<ByteArrayLittle len="+this.length+",pos="+this.position+">"},A}(egret.ByteArray);e.ByteArrayLittle=t,__reflect(t.prototype,"core.ByteArrayLittle"),window.ByteArrayLittle=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.send=function(t,A,i,r,n,o,a){void 0===a&&(a=!0);var s=this;A=A||{},i=i||egret.URLRequestMethod.GET,i=i.toLowerCase();var c=s.dataToString(A),l=t+"?"+s.dataToString(A);if(!s._loadList[l]){var u=new egret.URLLoader;u.dataFormat=egret.URLLoaderDataFormat.TEXT;var d=new egret.URLRequest(t);d.method=i;var h=new egret.URLVariables(c);h.variables=A,d.data=h,u.addEventListener(egret.Event.COMPLETE,s.onComplete,s),u.addEventListener(egret.HTTPStatusEvent.HTTP_STATUS,s.onHTTPStatus,s),u.addEventListener(egret.IOErrorEvent.IO_ERROR,s.onIOError,s);var g={urlLoader:u,sucessFunc:r,errorFunc:n,thisObject:o,isJson:a};s._loadList[l]=g,u.load(d),e.GameLog.log("发送http请求："+t)}},t.onComplete=function(t){var A=this,i=t.currentTarget;for(var r in A._loadList)if(A._loadList[r].urlLoader==i){var n=A._loadList[r].sucessFunc;e.GameLog.log("收到http数据："+i.data);var o,a=A._loadList[r].isJson;if(a)try{o=e.Functor.parse(i.data)}catch(s){e.GameLog.error("收到http数据异常：",o,s),o={}}else o=i.data;n.call(A._loadList[r].thisObject,o),delete A._loadList[r]}},t.onIOError=function(e){this.loadError(e.currentTarget,e)},t.onHTTPStatus=function(e){200!=e.status&&this.loadError(e.currentTarget,e.status)},t.loadError=function(e,t){var A=this;for(var i in A._loadList)if(A._loadList[i].urlLoader==e){var r=A._loadList[i].errorFunc;r&&r.call(A._loadList[i].thisObject,t),delete A._loadList[i]}},t.dataToString=function(e){var t="";for(var A in e)t+=encodeURI(A)+"="+encodeURI(e[A])+"&";return t},t._loadList={},t}();e.HttpMgr=t,__reflect(t.prototype,"core.HttpMgr"),window.HttpMgr=t}(core||(core={}));var core;!function(e){var t=function(){function t(){this.HEXES="0123456789ABCDEF",this.host="",this.port=0,e.GameLog.debug("use KcpSocket")}return t.prototype.setChannel=function(e){this.channel=e},t.prototype.addCallBacks=function(e,t,A,i,r){this.onConnect=e,this.onClose=t,this.onSocketData=A,this.onError=i,this.thisObject=r},t.prototype.connect=function(e,t){this.host=e,this.port=t;var A={channel:this.channel,ip:e,port:t};egret_native.sendFastCall?egret_native.sendFastCall("connect",JSON.stringify(A)):egret.ExternalInterface.call("connect",JSON.stringify(A)),this._bindEvent()},t.prototype.connectByUrl=function(e){var t="",A=0;0==e.indexOf("ws://")?e=e.substring(5):0==e.indexOf("wss://")&&(e=e.substring(6)),e=e.replace("]","").replace("[","");var i=e.lastIndexOf(":");i>=0&&(t=e.substring(0,i),A=+e.substring(i+1));var r={channel:this.channel,ip:t,port:A};egret_native.sendFastCall?egret_native.sendFastCall("connect",JSON.stringify(r)):egret.ExternalInterface.call("connect",JSON.stringify(r)),this._bindEvent()},t.prototype._bindEvent=function(){var t=this;egret.ExternalInterface.addCallback("onOpen:"+this.channel,function(A){e.GameLog.log(A),t.onConnect&&t.onConnect.call(t.thisObject)}),egret.ExternalInterface.addCallback("onClose:"+this.channel,function(A){e.GameLog.log(A),t.onClose&&t.onClose.call(t.thisObject)}),egret.ExternalInterface.addCallback("onError:"+this.channel,function(A){e.GameLog.log(A),t.onError&&t.onError.call(t.thisObject)}),egret.ExternalInterface.addCallback("onMessage:"+this.channel,function(A){try{var i=JSON.parse(A),r=t.hexToBytes(i.message);t.onSocketData&&r.byteLength&&t.onSocketData.call(t.thisObject,r)}catch(n){e.GameLog.error("KcpSocket._bindEvent error：",n)}})},t.prototype.byteToHex=function(e){for(var t=new Int8Array(e),A=this.HEXES,i=[],r=0;r<t.byteLength;r++){var n=t[r];i.push(A.charAt((240&n)>>4)),i.push(A.charAt(15&n))}return i.join("")},t.prototype.hexToBytes=function(e){e=e.length%2!=0?"0"+e:e;for(var t=[],A=e.length/2,i=0;A>i;i++){var r=2*i,n=parseInt(e.substring(r,r+2),16);t.push(n)}return new Uint8Array(t)},t.prototype.send=function(e){var t={data:this.byteToHex(e),channel:this.channel};egret_native.sendFastCall?egret_native.sendFastCall("send",JSON.stringify(t)):egret.ExternalInterface.call("send",JSON.stringify(t))},t.prototype.close=function(){var e={channel:this.channel};egret_native.sendFastCall?egret_native.sendFastCall("close",JSON.stringify(e)):egret.ExternalInterface.call("close",JSON.stringify(e))},t.prototype.disconnect=function(){var e={channel:this.channel};egret_native.sendFastCall?egret_native.sendFastCall("disconnect",JSON.stringify(e)):egret.ExternalInterface.call("disconnect",JSON.stringify(e))},t}();e.KcpSocket=t,__reflect(t.prototype,"core.KcpSocket",["egret.ISocket"]),window.KcpSocket=t,egret.ExternalInterface.addCallback("useKcpSocket",function(t){e.GameLog.log("useKcpSocket"),window.useKcpSocket=!0})}(core||(core={}));var core;!function(e){var t=function(){function t(){this.HEXES="0123456789ABCDEF",this.host="",this.port=0,e.GameLog.debug("use NativeWebSocket")}return t.prototype.setChannel=function(e){this.channel=e},t.prototype.addCallBacks=function(e,t,A,i,r){this.onConnect=e,this.onClose=t,this.onSocketData=A,this.onError=i,this.thisObject=r},t.prototype.connect=function(e,t){this.host=e,this.port=t;var A="ws://"+this.host+":"+this.port,i={channel:this.channel,address:A};egret.ExternalInterface.call("connect",JSON.stringify(i)),this._bindEvent()},t.prototype.connectByUrl=function(e){var t={channel:this.channel,address:e};egret.ExternalInterface.call("connect",JSON.stringify(t)),this._bindEvent()},t.prototype._bindEvent=function(){var t=this;egret.ExternalInterface.addCallback("onOpen:"+this.channel,function(e){t.onConnect&&t.onConnect.call(t.thisObject)}),egret.ExternalInterface.addCallback("onClose:"+this.channel,function(e){t.onClose&&t.onClose.call(t.thisObject)}),egret.ExternalInterface.addCallback("onError:"+this.channel,function(e){t.onError&&t.onError.call(t.thisObject)}),egret.ExternalInterface.addCallback("onMessage:"+this.channel,function(A){try{var i=JSON.parse(A),r=t.hexToBytes(i.message);t.onSocketData&&r.byteLength&&t.onSocketData.call(t.thisObject,r)}catch(n){e.GameLog.error("NativeWebSocket._bindEvent error：",n)}})},t.prototype.byteToHex=function(e){for(var t=new Int8Array(e),A=this.HEXES,i=[],r=0;r<t.byteLength;r++){var n=t[r];i.push(A.charAt((240&n)>>4)),i.push(A.charAt(15&n))}return i.join("")},t.prototype.hexToBytes=function(e){e=e.length%2!=0?"0"+e:e;for(var t=[],A=e.length/2,i=0;A>i;i++){var r=2*i,n=parseInt(e.substring(r,r+2),16);t.push(n)}return new Uint8Array(t)},t.prototype.send=function(e){var t={data:this.byteToHex(e),channel:this.channel};egret.ExternalInterface.call("send",JSON.stringify(t))},t.prototype.close=function(){var e={channel:this.channel};egret.ExternalInterface.call("close",JSON.stringify(e))},t.prototype.disconnect=function(){var e={channel:this.channel};egret.ExternalInterface.call("disconnect",JSON.stringify(e))},t}();e.NativeWebSocket=t,__reflect(t.prototype,"core.NativeWebSocket",["egret.ISocket"]),window.NativeWebSocket=t,egret.ExternalInterface.addCallback("useNativeWebSocket",function(A){e.GameLog.log("useNativeWebSocket"),egret.ISocket=t})}(core||(core={}));var core;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"rpcVersion",{get:function(){return e.RpcDef.version},enumerable:!0,configurable:!0}),t.initialize=function(t,A,i,r,n,o,a,s){var c=this;c.rpcStaticCls=A,c.onConnect=i,c.onConnectFail=r,c.onDisconnect=n,c.onError=o,c.onSendError=a,c.onRecvError=s,e.RpcDef.initialize(t)},t.registerEntityClass=function(t,A){e.RpcDef.registerEntityClass(t,A)},t.socket=function(t){var A=this.sockets[t];return A||(A=this.sockets[t]=new e.SocketService(t)),A},t.entityMgr=function(t){var A=this.entityMgrs[t];return A||(A=this.entityMgrs[t]=new e.EntityMgr(t)),A},t.rpcStatic=function(e){var t=this.rpcStatics[e];return t||(t=this.rpcStatics[e]=new this.rpcStaticCls(e),t.staticMethods={}),t},t.gateway=function(e){var t=this.socket(e);return t.gateway},t.connected=function(e){var t=this.socket(e);return t.connected},t.connect=function(e,t,A,i){var r=this.socket(e),n=!0;window.useKcpSocket||(n=!1),r.connect(t,A,i,n)},t.disconnect=function(e,t){var A=this.socket(e);A.disconnect(t)},t.disconnectAll=function(e){for(var t in this.sockets){var A=this.sockets[t];A.disconnect(e)}},t.onSocketDisconnect=function(e){var t=this.rpcStatic(e);t.onDisconnect()},t.setEncryptSeed=function(t,A){if(e.GameConfig.CTX_PACKET){var i=this.socket(t);i.encryptSeed=A}},t.setToken=function(e,t){var A=this.socket(e);A.token=t},t.getToken=function(e){var t=this.socket(e);return t.token},t.sendRpcPacket=function(e,t){var A=this.socket(e);A.sendPacket(t)},t.addEntity=function(e,t){var A=this.entityMgr(e);return A.addEntity(t)},t.getEntity=function(e,t){var A=this.entityMgr(e);return A.getEntity(t)},t.removeEntity=function(e,t){var A=this.entityMgr(e);return A.removeEntity(t)},t.getEntityCount=function(e,t){void 0===t&&(t=null);var A=this.entityMgr(e);return A.getEntityCount()},t.getEntities=function(e){var t=this.entityMgr(e);return t.getEntities()},t.getClassEntities=function(e,t){var A=this.entityMgr(e);return A.getClassEntities(t)},t.removeClassEntities=function(e,t){for(var A=this.getClassEntities(e,t),i=0,r=A;i<r.length;i++){var n=r[i];this.removeEntity(e,n.$eid)}},t.removeEntities=function(e){for(var t=this.getEntities(e),A=0,i=t;A<i.length;A++){var r=i[A];this.removeEntity(e,r.$eid)}},t.removeAllEntities=function(){for(var e in this.sockets)this.removeEntities(+e)},t.createEntity=function(e,t,A,i,r,n){void 0===i&&(i=0),void 0===r&&(r=null),void 0===n&&(n=null);var o=this.entityMgr(e);return o.createEntity(t,A,i,r,n)},t.refEntity=function(e,t,A,i,r){void 0===i&&(i=0),void 0===r&&(r=null);var n=this.entityMgr(e);return n.refEntity(t,A,i,r)},t.getStaticMethod=function(e,t){var A=this.rpcStatic(e);if(!(t.name in A.staticMethods)){var i=A[t.name];A.staticMethods[t.name]=i.bind(A)}return A.staticMethods[t.name]},t.checkVersion=function(e){var t=this.socket(e);if(t.encryptSeed&&t.connected){var A=this.rpcStatic(e);A.checkVersion()}},t.newStruct=function(t){return e.RpcDef.newStruct(t)},t.newArray=function(t){return e.RpcDef.newArray(t)},t.createGameCom=function(t,A,i,r){if(void 0===i&&(i=!1),void 0===r&&(r=!1),!t)throw new TypeError("GameCom class not found: "+t);var n=r?e.ObjectPool.pop(t):new t;return n.initialize(A),i&&(n.useOnCreate=n.validate=!0,n.onCreate()),n},t.makeRpcStruct=function(t,A,i){void 0===A&&(A={}),void 0===i&&(i={});var r=this.newStruct(t);if(!r)return A;var n=e.RpcDef.getTypeDef(t);if(!n)return A;for(var o=n.fields,a=n.defs,s=0,c=o;s<c.length;s++){var l=c[s],u=a[l],d=e.RpcDef.getTypeDef(u),h=void 0;if("array"===u||"ar"===u){var g=i[l]||{};h=this.makeRpcArray(g.type,A[l],g.miniType)}else h=!d||d.id<e.RpcDef.STRUCT_BASE_ID?void 0!==A[l]?A[l]:"bool"===l?!1:"string"===l||"lstring"===l?"":0:this.makeRpcStruct(u,A[l]);r.setKey(l,h)}return r},t.makeRpcArray=function(e,t,A){var i=this.newArray(e);if(!i)return i;for(var r=0,n=t;r<n.length;r++){var o=n[r];i.push(this.makeRpcStruct(e,o,A))}return i},t.simSendDelayTime=-1,t.simRecvDelayTime=-1,t.sockets={},t.entityMgrs={},t.rpcStatics={},t}();e.ServiceMgr=t,__reflect(t.prototype,"core.ServiceMgr"),window.ServiceMgr=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e){var A=t.call(this)||this;return A._packetLen=0,A.catchRecvErrors=!0,A.channel=0,A.host="127.0.0.1",A.port=0,A.token="",A.channel=e,A}return __extends(A,t),Object.defineProperty(A.prototype,"connected",{get:function(){return this._socket&&this._socket.connected},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"encryptSeed",{get:function(){return this._encryptSeed},set:function(t){var i=this;t=Math.floor(t),i._encryptSeed!=t&&(i._encryptSeed=t,e.GameLog.socketdebug("Set socket encrypt seed to: "+t),t&&(i._encrypter=new e.Ctx(t^A.GENIUS_NUMBER),i._decrypter=new e.Ctx(t^A.GENIUS_NUMBER)))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"gateway",{get:function(){var t=this;return t._gateway||(t._gateway=e.Mailbox.createNew("Gateway","server",0,t.channel)),t._gateway},enumerable:!0,configurable:!0}),A.prototype.connect=function(t,A,i,r){var n=this;n.disconnect(i),n.host=t,n.port=A,e.GameLog.socketdebug("Connect to socket: "+t+":"+A),n.initSocket(r);var o;1==e.GameConfig.WS_TYPE?(A=5e4+A%1e4,o="wss://"+t+":"+A):(A=3e4+A%1e4,o="ws://"+t+":"+A),n._socket.connectByUrl(o)},A.prototype.disconnect=function(t,A){void 0===A&&(A=!1);var i=this;i._socket&&(e.GameLog.socketdebug("Disconnect socket: "+i.host+":"+i.port),i.onRealDisconnect(t,A))},A.prototype.initSocket=function(t){void 0===t&&(t=!1);var A=this;if(!A._socket){t?A._socket=new e.WebKcpSocket("",0,e.KcpSocket):A._socket=new e.WebKcpSocket("",0,egret.web.HTML5WebSocket);var i=A._socket.socket;i.setChannel&&i.setChannel(A.channel),A._socket.type=e.WebKcpSocket.TYPE_BINARY,A._socket.addEventListener(e.Evt.connect,A.onConnect,A),A._socket.addEventListener(e.Evt.close,A.onDisconnect,A),A._socket.addEventListener(e.Evt.socketData,A.onData,A),A._socket.addEventListener(e.Evt.ioError,A.onError,A),A._readBuffer=new e.ByteArrayLittle,A._writeBuffer=new e.ByteArrayLittle}},A.prototype.clearSocket=function(){var t=this;t._socket&&(t._socket.removeEventListener(e.Evt.connect,t.onConnect,t),t._socket.removeEventListener(e.Evt.close,t.onDisconnect,t),t._socket.removeEventListener(e.Evt.socketData,t.onData,t),t._socket.removeEventListener(e.Evt.ioError,t.onError,t),t._socket.connected&&t._socket.close(),t._socket=null,t._readBuffer.clear(),t._readBuffer=null,t._writeBuffer.clear(),t._writeBuffer=null,t._packetLen=0,t._encryptSeed=0,t._gateway=null)},A.prototype.onConnect=function(t){e.GameLog.socketdebug("Socket connected with: "+this.host+":"+this.port),e.ServiceMgr.onConnect(this.channel)},A.prototype.onDisconnect=function(e){this.onRealDisconnect(507)},A.prototype.onRealDisconnect=function(t,A){void 0===A&&(A=!1);var i=this;i.clearSocket(),e.GameLog.socketdebug("Socket disconnected from: "+i.host+":"+i.port),!A&&e.ServiceMgr.onDisconnect(i.channel,t)},A.prototype.onData=function(t){var A=this;A._socket.readBytes(A._readBuffer,A._readBuffer.length),e.GameLog.socketdebug("Receiving socket data: "+A._readBuffer.length);var i=new e.RpcPacket(0,0,A.channel);if(A.catchRecvErrors)for(;A._readBuffer&&A.readPacket(i);)e.GameLog.socketdebug("Handling packet: "+i),i.handle();else for(;A._readBuffer&&A.readPacket(i);)e.GameLog.socketdebug("Handling packet: "+i),i.handle();A._readBuffer&&0==e.ByteArrayUtils.readAvailable(A._readBuffer)&&(A._readBuffer.length=0)},A.prototype.onError=function(t){e.GameLog.socketerror("Socket connection error: "+t),this.connected?e.ServiceMgr.onError(this.channel):e.ServiceMgr.onConnectFail(this.channel)},A.prototype.readPacket=function(t){var i=this,r=i._packetLen;if(!r){if(e.ByteArrayUtils.readAvailable(i._readBuffer)<A.INT_SIZE)return!1;i._encryptSeed&&i._decrypter.encode(i._readBuffer,A.INT_SIZE,i._readBuffer.position),r=i._readBuffer.readUnsignedInt();var n=r>>24&255;if(r&=16777215,0==r||r>A.BAD_LEN||n!=r%255)throw new Error("Invalid packet size: "+r);r>A.MAX_LEN&&e.GameLog.socketerror("Packet too large: "+r),i._packetLen=r}return e.ByteArrayUtils.readAvailable(i._readBuffer)>=r?(i._packetLen=0,i._encryptSeed&&i._decrypter.encode(i._readBuffer,r,i._readBuffer.position),t.read(i._readBuffer,r)):!1},A.prototype.sendPacket=function(t){var i=this;if(!i.connected)return void e.GameLog.socketerror("Socket not connected for sending packet, channel:"+i.channel+", host:"+i.host+", port:"+i.port);var r=t.write();if(r){if(r>A.BAD_LEN)throw new Error("Invalid packet size: "+r);e.GameLog.socketdebug("Sending packet: "+t);var n=r%255<<24|r;i._writeBuffer.length=r+A.INT_SIZE,i._writeBuffer.position=0,i._writeBuffer.writeUnsignedInt(n),i._writeBuffer.writeBytes(t.content),i._encryptSeed&&i._encrypter.encode(i._writeBuffer,i._writeBuffer.length),i._socket.writeBytes(i._writeBuffer),i._socket.flush()}},A.prototype.clearBuffer=function(){var e=this;e._readBuffer&&0==e._readBuffer.length&&e._readBuffer.clear(),e._writeBuffer&&e._writeBuffer.clear()},A.GENIUS_NUMBER=84048153,A.INT_SIZE=4,A.MAX_LEN=65535,A.BAD_LEN=16776960,A}(egret.HashObject);e.SocketService=t,__reflect(t.prototype,"core.SocketService"),window.SocketService=t}(core||(core={}));var core;!function(e){var t=function(e){function t(A,i,r){void 0===A&&(A=""),void 0===i&&(i=0);var n=e.call(this)||this;return n._writeMessage="",n._readMessage="",n._connected=!1,n._connecting=!1,n._isReadySend=!1,n._bytesWrite=!1,n._type=t.TYPE_STRING,n._connected=!1,n._writeMessage="",n._readMessage="",n.socket=new r,n.socket.addCallBacks(n.onConnect,n.onClose,n.onSocketData,n.onError,n),n}return __extends(t,e),t.prototype.connect=function(e,t){this._connecting||this._connected||(this._connecting=!0,this.socket.connect(e,t))},t.prototype.connectByUrl=function(e){this._connecting||this._connected||(this._connecting=!0,this.socket.connectByUrl(e))},t.prototype.close=function(){this._connected&&this.socket.close()},t.prototype.onConnect=function(){this._connected=!0,this._connecting=!1,this.dispatchEventWith(egret.Event.CONNECT)},t.prototype.onClose=function(){this._connected=!1,this.dispatchEventWith(egret.Event.CLOSE)},t.prototype.onError=function(){this._connecting&&(this._connecting=!1),this.dispatchEventWith(egret.IOErrorEvent.IO_ERROR)},t.prototype.onSocketData=function(e){"string"==typeof e?this._readMessage+=e:this._readByte._writeUint8Array(new Uint8Array(e)),egret.ProgressEvent.dispatchProgressEvent(this,egret.ProgressEvent.SOCKET_DATA)},t.prototype.flush=function(){return this._connected?(this._writeMessage&&(this.socket.send(this._writeMessage),this._writeMessage=""),this._bytesWrite&&(this.socket.send(this._writeByte.buffer),this._bytesWrite=!1,this._writeByte.clear()),void(this._isReadySend=!1)):void egret.$warn(3101)},t.prototype.writeUTF=function(e){return this._connected?(this._type==t.TYPE_BINARY?(this._bytesWrite=!0,this._writeByte.writeUTF(e)):this._writeMessage+=e,void this.flush()):void egret.$warn(3101)},t.prototype.readUTF=function(){var e;return this._type==t.TYPE_BINARY?(this._readByte.position=0,e=this._readByte.readUTF(),this._readByte.clear()):(e=this._readMessage,this._readMessage=""),e},t.prototype.writeBytes=function(e,t,A){return void 0===t&&(t=0),void 0===A&&(A=0),this._connected?this._writeByte?(this._bytesWrite=!0,this._writeByte.writeBytes(e,t,A),void this.flush()):void egret.$warn(3102):void egret.$warn(3101)},t.prototype.readBytes=function(e,t,A){return void 0===t&&(t=0),void 0===A&&(A=0),this._readByte?(this._readByte.position=0,this._readByte.readBytes(e,t,A),void this._readByte.clear()):void egret.$warn(3102)},Object.defineProperty(t.prototype,"connected",{get:function(){return this._connected},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,e!=t.TYPE_BINARY||this._writeByte||(this._readByte=new egret.ByteArray,this._writeByte=new egret.ByteArray)},enumerable:!0,configurable:!0}),t.TYPE_STRING="webSocketTypeString",t.TYPE_BINARY="webSocketTypeBinary",t.URI="ws://",t}(egret.EventDispatcher);e.WebKcpSocket=t,__reflect(t.prototype,"core.WebKcpSocket"),window.WebKcpSocket=t}(core||(core={}));var core;!function(e){var t=function(t){function A(A,i){var r=t.call(this,A)||this;return r.script=null,r.step=null,i instanceof e.PlotStep?(r.step=i,r.script=i.script):i instanceof e.PlotScript?r.script=i:e.GameLog.warning("PlotEvent data error! type: "+A+", typeof plot: "+typeof i),r}return __extends(A,t),A}(egret.Event);e.PlotEvent=t,__reflect(t.prototype,"core.PlotEvent"),window.PlotEvent=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;e.skipping=!1;var A=e;return A.name="",A.stepList=[],A._indexMap={},A._tagMap={},A._prevMap={},A._prevTypeMap={},A._nextMap={},e}return __extends(A,t),A.prototype.toString=function(){var e=this;return""+e.name},A.prototype.parseJson=function(e){var t=this;t.config=e=e||{},t.id=e.id,t.name=e.name;var A=e.steps;if(A)for(var i=0,r=void 0,n=0,o=A;n<o.length;n++){var a=o[n];r=t.addStep(a,i),r&&++i}t.makeStepChain()},A.prototype.addStep=function(t,A){var i=this,r=e.PlotStep.createStep(t.type,i,A);return r&&(r.parseJson(t),i.stepList.push(r),r.tag&&(i._tagMap[r.tag]=r),i._indexMap[A]=r,i._prevTypeMap[A]=r.prevIsOr),r
},A.prototype.pause=function(t){var A=this.stepList;this.pausing=!0,e.GameLog.plotlog(this+" 暂停, 时间: "+egret.getTimer());for(var i=0,r=A;i<r.length;i++){var n=r[i];(t||n.isOperating())&&n.pause()}},A.prototype.resume=function(t){var A=this.stepList;this.pausing=!1,e.GameLog.plotlog(this+" 恢复, 时间: "+egret.getTimer());for(var i=0,r=A;i<r.length;i++){var n=r[i];(t||n.isOperating()&&n.pausing)&&n.resume()}},A.prototype.start=function(t){void 0===t&&(t=!1);var A=this,i=A.stepList||[];if(!i||!i.length)return void A.dispatch("plotFinish");var r=A.running;if(r){if(!t)return;A.cleanUp()}A.running=!0,A.runningCount=0,A.runningList=[],A.finishList=[],A.skipList=[],A.continueList=[],A.pausing=!1,r?A.dispatch("plotRestart"):A.dispatch("plotStart");for(var n=0,o=i;n<o.length;n++){var a=o[n],s=A._prevMap[a.index];s&&s.length||A.doStep(a)}A.checkAllDone(),e.GameLog.plotlog(this+" 启动, 时间: "+egret.getTimer()+", 重启: "+t)},A.prototype.stepDoing=function(e){this.running&&(++this.runningCount,this.runningList.push(e))},A.prototype.stepDone=function(t,A){if(this.running){if(5!==A){--this.runningCount;var i=this.runningList.indexOf(t);i>=0?this.runningList.splice(i,1):e.GameLog.plotlog("Plot runningCount error")}switch(A){case 3:this.finishList.push(t);break;case 4:this.skipList.push(t);break;case 5:this.continueList.push(t)}}},A.prototype.getStep=function(t,A){return void 0===A&&(A=!1),A||e.GameLog.warning("PlotScript#getStep WARNING: 调用者没有进行二次确认。"),"number"==typeof t?this.getStepByIndex(t):this.getStepByTag(t)},A.prototype.getStepByIndex=function(e){return this.stepList[e]},A.prototype.getStepByTag=function(e){var t=this._tagMap[e];return t?t:this.getStepByIndex(Number(e)-1)},A.prototype.getPrevSteps=function(e){return this._prevMap[e]},A.prototype.getNextSteps=function(e){return this._nextMap[e]},A.prototype.notifyStepFinish=function(e,t){if(this.doneStep(e),this.running&&t){var A=this._nextMap[e.index];if(!A||!A.length)return;for(var i=0,r=A;i<r.length;i++){var n=r[i];this.doStep(n)}}},A.prototype.dispatch=function(t,A){this.dispatchEvent(new e.PlotEvent(t,A||this))},A.prototype.isPrevStepsDone=function(e){if(!e)return!0;var t=this.getPrevSteps(e.index);if(!t||!t.length)return!0;var A=this._prevTypeMap[e.index],i=function(e){return e.isDone()};return A?t.some(i):t.every(i)},A.prototype.doStep=function(e){return this.isPrevStepsDone(e)?(e.doStart(!0),!0):!1},A.prototype.abort=function(){e.GameLog.plotlog(this+" 中止, 时间: "+egret.getTimer()),this.cleanUp(),this.dispatch("plotAbort")},A.prototype.destroy=function(){this.cleanUp()},A.prototype.skip=function(){this.skipping=!0;for(var t=this.stepList,A=0,i=t;A<i.length;A++){var r=i[A];r.isOperating()?r.doSkip(!1):0===r.status&&r.handle()}e.GameLog.plotlog(this+" 跳过, 时间: "+egret.getTimer()),this.skipping=!1,this.cleanUp(),this.dispatch("plotSkip")},A.prototype.next=function(){for(var e=this.stepList,t=[],A=0,i=e;A<i.length;A++){var r=i[A];r.isOperating()&&t.push(r)}for(var n=0,o=t;n<o.length;n++){var r=o[n];r.isOperating()&&r.doSkip(!0)}},A.prototype.checkAllDone=function(){var t=this;if(!this.skipping){var A=t.stepList;if(A){for(var i=!1,r=0,n=A;r<n.length;r++){var o=n[r];if(!o.isDone()){i=!0;break}}i||(e.GameLog.plotlog(this+" 结束, 时间: "+egret.getTimer()),this.cleanUp(),t.dispatch("plotFinish"))}}},A.prototype.makeStepChain=function(){for(var e,t=this,A=0,i=t.stepList;A<i.length;A++){var r=i[A],n=r.getPrev();if(n instanceof Array)for(var o=0,a=n;o<a.length;o++){var s=a[o];e=t.getStepByTag(s),e&&t.chainStep(r,e)}else"number"==typeof n&&(e=t.getStepByIndex(n),e&&t.chainStep(r,e))}},A.prototype.cleanUp=function(){for(var e=this,t=e.stepList,A=0,i=t;A<i.length;A++){var r=i[A];r.status=0,r.cleanUp()}e.running=!1,e.runningCount=0,e.runningList=void 0,e.finishList=void 0,e.skipList=void 0,e.continueList=void 0,e.pausing=!1},A.prototype.chainStep=function(e,t){if(e&&t){var A=e.index,i=t.index,r=this;r._prevMap[A]=r._prevMap[A]||[],r._prevMap[A].push(t),r._nextMap[i]=r._nextMap[i]||[],r._nextMap[i].push(e)}},A.prototype.doneStep=function(e){var t=this;t.finishList.length+t.skipList.length+t.continueList.length===t.stepList.length&&t.checkAllDone()},A}(egret.EventDispatcher);e.PlotScript=t,__reflect(t.prototype,"core.PlotScript"),window.PlotScript=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e,A,i){var r=t.call(this)||this,n=r;n.type=e,n.index=i,n._delayOperateId=0,n.pausing=!1,n.status=0,n.script=A;var o=n.translateMap={};return o[0]="空",o[1]="开始",o[2]="执行",o[3]="结束",o[4]="跳过",o[5]="继续",r}return __extends(A,t),A.registerStepType=function(t,A){this._stepClassMap[t]&&e.GameLog.error("Plot step class of type "+t+" already exists and is overwritten"),this._stepClassMap[t]=A},A.createStep=function(t,A,i){var r=this._stepClassMap[t];return r?new r(t,A,i):void e.GameLog.error("Plot step class not registered: "+t)},A.prototype.isDoing=function(){return 1===this.status||2===this.status},A.prototype.isOperating=function(){return 1===this.status||2===this.status||5===this.status},A.prototype.isDone=function(){var e=this.status;return this.skipNext&&this.skipFlag?!0:3===e||4===e||5===e},A.prototype.isClean=function(){return 0===this.status||3===this.status||4===this.status},A.prototype.parseJson=function(e){var t=this;t.config=e=e||{},t.tag=e.tag,t.delay=e.delay,t.prevIsOr=!!e.prevIsOr,t._prev=e.prev},A.prototype.getPrev=function(){var e=this._prev;return e?"*"===e?void 0:e.split(","):this.index-1},A.prototype.pause=function(){this.pausing=!0,this._nextStatus=[]},A.prototype.resume=function(){var e=this;e.pausing=!1;var t=e._nextStatus;if(t&&t.length){for(var A=0,i=t;A<i.length;A++){var r=i[A];switch(r.status){case 1:e.doStart(r.next);break;case 2:e.doOperate(r.next);break;case 3:e.doFinish(r.next);break;case 5:e.doContinue(r.next)}}e._nextStatus=void 0}},A.prototype.toString=function(){var e=this;return e.script.name+" ["+(e.index+1)+"]-"+e.type+" "+e.status},A.prototype.cleanUp=function(){var e=this;e._delayOperateId&&(clearTimeout(e._delayOperateId),e._delayOperateId=0),e.pausing=!1,e._nextStatus=void 0,e.skipFlag=!1,e.skipNext=!1},A.prototype.doStart=function(t){var A=this;if(A.script.running){if(A.pausing)return void A._nextStatus.push({status:1,next:t});if(0!==A.status)return e.GameLog.warning("PlotStep can't start."),void A.stepStatusError(A.status,1);A._delayTime=A.config.delay||0,A.status=1,A.stepStatusChange(1,t),A.script.stepDoing(A),A.skipFlag||A.script.skipping?A.doSkip(A.skipFlag?A.skipNext:!0):(A.start(),A.onStart(t),A.script.dispatch("plotStepStart",A))}},A.prototype.doRestart=function(t){var A=this;if(!A.script.skipping&&A.script.running){if(A.pausing)return void A._nextStatus.push({status:1,next:t});if(A.isDoing())return e.GameLog.warning("PlotStep can't restart."),void A.stepStatusError(A.status,1);5===A.status&&A.cleanUp(),A._delayTime=A.config.delay||0;var i;switch(A.status){case 3:i=A.script.finishList;break;case 4:i=A.script.skipList;break;case 5:i=A.script.continueList;var r=A.script.runningList,n=r.indexOf(A);n>=0&&(--A.script.runningCount,r.splice(n,1))}if(i&&i.length){var n=i.indexOf(A);n>=0&&i.splice(n,1)}A.status=1,A.stepStatusChange(1,t),A.script.stepDoing(A),A.start(),A.onStart(t),A.script.dispatch("plotStepRestart",A)}},A.prototype.doOperate=function(t){var A=this;return A._delayOperateId=0,!A.script.skipping&&A.script.running?A.pausing?void A._nextStatus.push({status:2,next:t}):1!==A.status?(e.GameLog.warning("PlotStep can't operate."),void A.stepStatusError(A.status,2)):void(A._delayTime?(A._delayOperateId=e.Functor.delay(A.doOperate,A._delayTime,A,t),A._delayTime=0):(A.status=2,A.stepStatusChange(2,t),A.operate(),A.onOperate(t))):void 0},A.prototype.doFinish=function(t){var A=this;if(!A.script.skipping&&A.script.running){if(A.pausing)return void A._nextStatus.push({status:3,next:t});if(!A.isDoing())return e.GameLog.warning("PlotStep can't finish."),void A.stepStatusError(A.status,3);A.status=3,A.stepStatusChange(3,t),A.script.stepDone(A,3),A.finish(),A.onFinish(t,!0),A.script.dispatch("plotStepFinish")}},A.prototype.doSkip=function(e){var t=this;if(t.isClean())return t.skipFlag=!0,void(t.skipNext=e);var A=5===t.status;t.status=4,t.stepStatusChange(4,e),A?t.cleanUp():(t.script.stepDone(t,4),t.skip(),t.onFinish(e,!0)),t.script.dispatch("plotStepSkip")},A.prototype.doContinue=function(t){var A=this;if(!A.script.skipping&&A.script.running){if(A.pausing)return void A._nextStatus.push({status:5,next:t});if(!A.isDoing())return e.GameLog.warning("PlotStep can't continue."),void A.stepStatusError(A.status,5);A.status=5,A.stepStatusChange(5,t),A.script.stepDone(A,5),A["continue"](),A.onFinish(t,!1),A.script.dispatch("plotStepContinue")}},A.prototype.handle=function(){},A.prototype.start=function(){},A.prototype.operate=function(){},A.prototype.finish=function(){},A.prototype.skip=function(){},A.prototype["continue"]=function(){},A.prototype.onStart=function(e){e&&this.doOperate(!0)},A.prototype.onOperate=function(e){e&&this.doFinish(!0)},A.prototype.onFinish=function(e,t){t&&this.cleanUp(),this.script.notifyStepFinish(this,e)},A.prototype.stepStatusChange=function(t,A){e.GameLog.plotlog(this+" 状态: "+this.translateMap[t]+", 时间: "+egret.getTimer()+", next: "+A)},A.prototype.stepStatusError=function(t,A){e.GameLog.plotlog(this+" 状态从 "+this.translateMap[t]+" 转到 "+this.translateMap[A]+", 时间: "+egret.getTimer())},A._stepClassMap={},A}(egret.HashObject);e.PlotStep=t,__reflect(t.prototype,"core.PlotStep"),window.PlotStep=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.init=function(t,A){e.srcbuffer=new ArrayBuffer(8),e.srcDataView=new DataView(e.srcbuffer),e.srcArray32=new Uint32Array(e.srcbuffer),e.srcDataView.setUint32(0,t),e.srcDataView.setUint32(4,A),e.dstbuffer=new ArrayBuffer(8),e.dstDataView=new DataView(e.dstbuffer),e.dstArray32=new Uint32Array(e.dstbuffer)},e.encode=function(t){return e.dstDataView.setFloat64(0,t),e.dstArray32[0]^=e.srcArray32[0],e.dstArray32[1]^=e.srcArray32[1],e.dstDataView.getFloat64(0)},e.decode=function(t){return e.dstDataView.setFloat64(0,t),e.dstArray32[0]^=e.srcArray32[0],e.dstArray32[1]^=e.srcArray32[1],e.dstDataView.getFloat64(0)},e}();e.XorDouble=t,__reflect(t.prototype,"core.XorDouble"),window.XorDouble=t,t.init(4275738742,10086)}(core||(core={}));var core;!function(e){var t=function(t){function A(e){var A=t.call(this)||this;return A.channel=0,A.entities={},A.classEntities={},A.clientEID=0,A.channel=e,A}return __extends(A,t),A.prototype.addEntity=function(t){var A=this;if(A.getEntity(t.$eid))throw new TypeError("Entity already exist: "+t.$eid+", entity className："+t.$className);return t.$channel=A.channel,e.GameLog.rpcdebug("Adding entity: "+t),A.entities[t.$eid]=t,A.classEntities[t.$className]||(A.classEntities[t.$className]={}),A.classEntities[t.$className][t.$eid]=t,t.onAdd(),!0},A.prototype.getEntity=function(e){return this.entities[e]},A.prototype.removeEntity=function(t){var A=this.getEntity(t);return A&&(e.GameLog.rpcdebug("Removing entity: "+A),delete this.entities[t],delete this.classEntities[A.$className][t],A.onRemove()),A},A.prototype.getEntityCount=function(t){void 0===t&&(t=null);var A=t?this.classEntities[t]:this.entities;return A?e.ObjectUtils.getCount(A):0},A.prototype.getEntities=function(){var e=[];for(var t in this.entities)e.push(this.entities[t]);return e},A.prototype.getClassEntities=function(e){var t=[],A=this.classEntities[e];if(A)for(var i in A)t.push(A[i]);return t},A.prototype.createEntity=function(t,A,i,r,n){void 0===i&&(i=0),void 0===r&&(r=null),void 0===n&&(n=null);var o=e.RpcDef.getEntityClass(t);if(!o)throw new TypeError("Entity class not found: "+t);e.GameLog.rpcdebug("Creating entity: "+egret.getQualifiedClassName(o)+", eid="+i+", serverProps="+r);var a=new o(A,i||this.genClientEID(),r,n);return this.addEntity(a),a},A.prototype.refEntity=function(t,A,i,r){void 0===i&&(i=0),void 0===r&&(r=null);var n=e.RpcDef.getEntityClass(t);if(!n)throw new TypeError("Entity class not found: "+t);e.GameLog.rpcdebug("Ref entity: "+egret.getQualifiedClassName(n)+", eid="+i+", serverProps="+r);var o=this.getEntity(i);if(!o)throw new TypeError("Entity not found: "+t+", eid="+i);return o.refServerProps(A,r),o},A.prototype.genClientEID=function(){for(;this.getEntity(++this.clientEID););return this.clientEID},A}(egret.HashObject);e.EntityMgr=t,__reflect(t.prototype,"core.EntityMgr"),window.EntityMgr=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.validate=!1,e}return __extends(A,t),Object.defineProperty(A.prototype,"commands",{get:function(){return[]},enumerable:!0,configurable:!0}),A.prototype.initialize=function(t){var i=this;i.times={},A.COM_INDEX=A.COM_INDEX+1,i.sortIndex=A.COM_INDEX,i.useOnCreate=!1,i.owner=t,i.owner.coms[i.hashCode]=i,i.commands.forEach(function(t){e.App.addL(t,i.handleCommandHandler,i)})},A.prototype.onCreate=function(){},A.prototype.handleCommandHandler=function(e){this.command(e.type,e.data||{})},A.prototype.command=function(e,t){},A.prototype.destroy=function(){var t=this;if(t.validate){t.validate=!1,t.commands.forEach(function(A){e.App.removeL(A,t.handleCommandHandler,t)});for(var A in t.times)t.owner.delTimer(parseInt(A));t.owner&&t.owner.coms&&t.owner.coms[t.hashCode]&&delete t.owner.coms[t.hashCode],t.times={},t.sortIndex=0,t.useOnCreate=!1,t.onDestroy(),t.owner=null}},A.prototype.onDestroy=function(){},A.prototype.addOnceTimer=function(e,t){for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];var r=this,n=0;return n=r.owner.addOnceTimer(e,function(){t.apply(r,A),delete r.times[n]}),r.times[n]=1,n},A.prototype.addLoopTimer=function(e,t){for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];var r=this,n=0;return n=r.owner.addLoopTimer(e,function(){var e=t.apply(r,A);return e||delete r.times[n],e}),r.times[n]=2,n},A.prototype.delTimer=function(e){if(this.times[e]){var t=this.owner.delTimer(e);return delete this.times[e],t}return!1},A.prototype.addListener=function(e,t,A){this.owner.addListener(e,t,A)},A.prototype.removeListener=function(e,t,A){this.owner.removeListener(e,t,A)},A.prototype.removeListen=function(e){this.owner.removeListen(e)},A.prototype.dispatch=function(e,t){this.owner.dispatch(e,t)},A.prototype.setLogEnable=function(t){var A=this.logName=this.logName||egret.getQualifiedClassName(this);e.GameLog.logMap[A]=t},A.prototype.log=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];var i=this.logName=this.logName||egret.getQualifiedClassName(this);e.GameLog.logP.apply(e.GameLog,[i].concat(t))},A.COM_INDEX=0,A}(egret.HashObject);e.GameCom=t,__reflect(t.prototype,"core.GameCom"),window.GameCom=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e,A,i,r){void 0===A&&(A=0),void 0===i&&(i=null),void 0===r&&(r=null);var n=t.call(this,e,A,i,r)||this;return n.times={},n.coms={},n.valid=!0,n.eventMap={},n}return __extends(A,t),Object.defineProperty(A.prototype,"battle",{get:function(){var t=this;return t._battle||(t._battle=e.Mailbox.createNew(t.$className,"battle",t.$eid,t.$channel)),t._battle},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"gateway",{get:function(){var t=this;return t._gateway||(t._gateway=e.Mailbox.createNew(t.$className,"gateway",t.$eid,t.$channel)),t._gateway},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"hall",{get:function(){var t=this;return t._hall||(t._hall=e.Mailbox.createNew(t.$className,"hall",t.$eid,t.$channel)),t._hall},enumerable:!0,configurable:!0}),A.prototype.onChannelChange=function(){this._gateway=null,this._hall=null,this._battle=null},A.prototype.addOnceTimer=function(t,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=0,o=this;return n=e.TimerManager.setTimeout(function(){A.apply(o,i),e.TimerManager.clearTimeout(n),delete o.times[n]},1e3*t),o.times[n]=1,n},A.prototype.addLoopTimer=function(t,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=0,o=this;return n=e.TimerManager.setInterval(function(){var t=A.apply(o,i);t||(e.TimerManager.clearInterval(n),delete o.times[n])},1e3*t),o.times[n]=2,n},A.prototype.delTimer=function(t){var A=this;return A.times[t]?(1==A.times[t]?(e.TimerManager.clearTimeout(t),delete A.times[t]):(e.TimerManager.clearInterval(t),delete A.times[t]),!0):!1},A.prototype.onAdd=function(){t.prototype.onAdd.call(this);var e=this;e.onAddRecord(),e.onCreate(),e.createCom(),e.onComCreated()},A.prototype.onRemove=function(){var A=this;A.onRemoveRecord(),A.onDestroy();for(var i in A.times)1==A.times[i]?e.TimerManager.clearTimeout(parseInt(i)):e.TimerManager.clearInterval(parseInt(i));A.times={};for(var r in A.eventMap)A.removeListen(r);A.eventMap={};for(var n in A.coms){var o=A.coms[n];o&&o.destroy()}A.coms={},t.prototype.onRemove.call(this)},A.prototype.onPropChange=function(e,t){var A="on_"+e;this[A]&&this[A](t)},A.prototype.destroy=function(){var t=this;t.valid&&(t.valid=!1,e.ServiceMgr.removeEntity(t.$channel,t.$eid))},A.prototype.onAddRecord=function(){},A.prototype.onCreate=function(){},A.prototype.onDestroy=function(){},A.prototype.createCom=function(){},A.prototype.onComCreated=function(){var t=[];for(var A in this.coms)t.push(this.coms[A]);e.ArrayUtils.sortOn(t,"sortIndex",16);for(var i=0,r=t.length;r>i;i++){var n=t[i];n&&!n.useOnCreate&&(n.useOnCreate=n.validate=!0,n.onCreate())}},A.prototype.onRemoveRecord=function(){},A.prototype.addListener=function(t,A,i){var r=this.eventMap[t];r||(r=[],this.eventMap[t]=r);var n=e.CallbackInfo.getCallbackInfo(r,A,i);n||(n=e.CallbackInfo.create(A,i),r.push(n))},A.prototype.removeListener=function(t,A,i){if(this.eventMap[t]){var r=this.eventMap[t],n=e.CallbackInfo.getCallbackInfo(r,A,i);if(n){var o=r.indexOf(n);o>=0&&r.splice(o,1)}r.length||delete this.eventMap[t],n&&n.dispose()}},A.prototype.removeListen=function(e){var t=this;if(this.eventMap[e]){var A=this.eventMap[e],i=A.concat();i.forEach(function(A){t.removeListener(e,A.callback,A.thisObject)})}},A.prototype.dispatch=function(e,t){if(this.eventMap[e]){var A=this.eventMap[e],i=A.concat();i.forEach(function(e){e&&e.callback&&e.applyL(t)})}},A}(e.Entity);e.GameEntity=t,__reflect(t.prototype,"core.GameEntity"),window.GameEntity=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"version",{get:function(){return this._version},enumerable:!0,configurable:!0}),t.initialize=function(e){var t=this;t._version=e.Digi,t.initMethodList(e.MethodList),t.initPropList(e.PropList),t.initEntityList(e.EntityList),t.initTypeList(e.TypeList),t.undelayDefs={createEntity:!0,removeEntity:!0,syncProperty:!0,openScene:!0,onSyncChangeOrder:!0,onAgentStartGame:!0,startScene:!0,onSyncFrame:!0,onSceneStarted:!0,enterScene:!0,leaveScene:!0}},t.initMethodList=function(t){for(var A=this,i=0,r=t;i<r.length;i++){var n=r[i],o=new e.MethodDef(n);A._methodDefs[o.id]=o,A._classMethods[o.className]||(A._classMethods[o.className]={}),A._classMethods[o.className][o.server]||(A._classMethods[o.className][o.server]={}),A._classMethods[o.className][o.server][o.name]=o}},t.initPropList=function(t){for(var A=this,i=0,r=t;i<r.length;i++){var n=r[i];if("CLIENT"==n.flag||"ALLCLIENTS"==n.flag){var o=new e.PropDef(n);A._propDefs[o.id]=o,A._classProps[o.className]||(A._classProps[o.className]={}),A._classProps[o.className][o.id]=o,A._classProps[o.className][o.name]=o}}},t.initEntityList=function(e){for(var t=0,A=e;t<A.length;t++){var i=A[t];this._entityClasses[i.id]=i.className,this._entityClasses[i.className]=null}},t.initTypeList=function(A){for(var i=this,r=0,n=A;r<n.length;r++){var o=n[r],a=new e.TypeDef(o);i._typeDefs[a.id]=i._typeDefs[a.name]=a;var s=a.id<t.STRUCT_BASE_ID?a.name:"struct",c=e.RpcType[s+"Writer"].bind(e.RpcType),l=e.RpcType[s+"Reader"].bind(e.RpcType);i._typeWriters[a.id]=c,i._typeWriters[a.name]=c,i._typeReaders[a.id]=l,i._typeReaders[a.name]=l}},t.getMethodDef=function(e){return this._methodDefs[e]},t.getPropDef=function(e){return this._propDefs[e]},t.getClassMethods=function(e,t){return this._classMethods[e]?this._classMethods[e][t]||{}:{}},t.getClassProps=function(e){return this._classProps[e]||{}},t.registerEntityClass=function(t,A){var i=this;if(t){if(!(t in i._entityClasses))return void e.GameLog.error("Entity class not defined: "+t);i._entityClasses[t]=A}else for(var r in i._entityClasses)null==i._entityClasses[r]&&(i._entityClasses[r]=A)},t.getEntityClass=function(e){var t=this._entityClasses[e];return"string"==typeof t?this._entityClasses[t]:t},t.getEntityClassName=function(e){var t=e.constructor;for(var A in this._entityClasses)if(this._entityClasses[A]==t)return A;return null},t.getTypeDef=function(e){return this._typeDefs[e]},t.getTypeWriter=function(e){return this._typeWriters[e]},t.getTypeReader=function(e){return this._typeReaders[e]},t.newStruct=function(A){var i=this._typeDefs[A];return i&&i.id>=t.STRUCT_BASE_ID?e.Struct.createNew(i):null},t.newArray=function(t){var A=this._typeDefs[t];return A?new e.TypeArray(A):null},t.STRUCT_BASE_ID=20,t._version=0,t._methodDefs={},t._propDefs={},t._classMethods={},t._classProps={},t._entityClasses={},t._typeDefs={},t._typeWriters={},t._typeReaders={},t}();e.RpcDef=t,__reflect(t.prototype,"core.RpcDef"),window.RpcDef=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e,A,i){void 0===e&&(e=0),void 0===A&&(A=0),void 0===i&&(i=0);var r=t.call(this)||this;return r.reset(e,A,i),r}return __extends(A,t),Object.defineProperty(A.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"eid",{get:function(){return this._eid},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isStatic",{get:function(){return this.method.isStatic},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"params",{get:function(){return this._params},set:function(e){var t=this.method.args,A=e.length;if(t.length!=A)throw new Error("Setting RPC params with wrong count: "+A);this._params=e},enumerable:!0,configurable:!0}),A.prototype.reset=function(t,A,i){void 0===t&&(t=0),void 0===A&&(A=0),void 0===i&&(i=0);var r=this;r._id=t,r._eid=A,r._channel=i,r._params=t?[]:null,r.method=t?e.RpcDef.getMethodDef(t):null},A.prototype.readContent=function(){var t=this;if(t.reset(e.RpcType.uintReader(t.content),0,t._channel),!t.method)return e.GameLog.rpcerror("RPC method not found: "+t._id),!1;t._eid=t.isStatic?0:e.RpcType.int48Reader(t.content);for(var A=t.method.args,i=0;i<A.length;i++){var r=A[i],n=e.RpcDef.getTypeReader(r.type);if(null==n)throw new TypeError("Type reader not found: "+r.type);t._params.push(n(t.content))}return!0},A.prototype.writeContent=function(){var t=this;if(!t.method)return e.GameLog.rpcerror("RPC method not found: "+t._id),!1;e.RpcType.uintWriter(t.content,t._id),t.isStatic||e.RpcType.int48Writer(t.content,t._eid);for(var A=t.method.args,i=0;i<A.length;i++){var r=A[i],n=e.RpcDef.getTypeWriter(r.type);if(null==n)throw new TypeError("Type writer not found: "+r.type);n(t.content,t._params[i])}return!0},A.prototype.handle=function(){var t=this;if(e.ServiceMgr.simRecvDelayTime<0){var A=t.method.name;"heartBeatAck"===A||2==t._channel&&e.RpcDef.undelayDefs[A]?t.realHandle(t._eid,t._channel,t.method,t._params):e.Functor.delay(t.realHandle,0,t,t._eid,t._channel,t.method,t.params)}else e.GameLog.rpcdebug("Receive RPC["+t._channel+"] method: "+t.method+", eid="+t._eid),e.Functor.delay(t.realHandle,e.ServiceMgr.simRecvDelayTime,t,t._eid,t._channel,t.method,t.params)},A.prototype.realHandle=function(t,A,i,r){if(e.GameLog.rpcdebug("Handling RPC["+A+"] method: "+i+" eid="+t),i.isStatic){var n=e.ServiceMgr.getStaticMethod(A,i);if(null==n)return void e.GameLog.rpcerror("Static RPC["+A+"] method not found: "+i);n.apply(null,r)}else{var o=e.ServiceMgr.getEntity(A,t);if(!o)return void e.GameLog.rpcerror("Entity not found: ["+A+"] eid="+t+" "+i);var a=o[i.name];if(null==a)return void e.GameLog.rpcerror("Entity RPC method not found: "+o+" "+i);a.apply(o,r)}},A.prototype.toString=function(){var e=this;return"<RpcPacket["+e._channel+"] id="+e._id+",eid="+e._eid+",method="+e.method+",len="+e.content.length+">"},A}(e.Packet);e.RpcPacket=t,__reflect(t.prototype,"core.RpcPacket"),window.RpcPacket=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.intWriter=function(e,t){e.writeInt(t)},t.intReader=function(e){return e.readInt()},t.int8Writer=function(e,t){e.writeByte(t)},t.int8Reader=function(e){return e.readByte()},t.int16Writer=function(e,t){e.writeShort(t)},t.int16Reader=function(e){return e.readShort()},t.int48Writer=function(e,t){e.writeUnsignedInt(t),e.writeShort(Math.floor(t/4294967296))},t.int48Reader=function(e){return e.readUnsignedInt()+4294967296*e.readShort()},t.uintReader=function(e){return e.readUnsignedInt()},t.uintWriter=function(e,t){e.writeUnsignedInt(t)},t.uint8Writer=function(e,t){e.writeByte(t)},t.uint8Reader=function(e){return e.readUnsignedByte()},t.uint16Writer=function(e,t){e.writeUnsignedShort(t)},t.uint16Reader=function(e){return e.readUnsignedShort()},t.doubleWriter=function(e,t){e.writeDouble(t)},t.doubleReader=function(e){return e.readDouble()},t.floatWriter=function(e,t){e.writeFloat(t)},t.floatReader=function(e){return e.readFloat()},t.boolWriter=function(e,t){e.writeBoolean(t)},t.boolReader=function(e){return e.readBoolean()},t.stringWriter=function(e,t){var A=this;A._buffer.length=0,A._buffer.writeUTFBytes(t),A._buffer.length>65535&&(A._buffer.length=65535),e.writeUnsignedShort(A._buffer.length),e.writeBytes(A._buffer)},t.stringReader=function(e){var t=e.readUnsignedShort();return e.readUTFBytes(t)},t.lstringWriter=function(e,t){var A=this;A._buffer.length=0,A._buffer.writeUTFBytes(t),e.writeUnsignedInt(A._buffer.length),e.writeBytes(A._buffer)},t.lstringReader=function(e){var t=e.readUnsignedInt();return e.readUTFBytes(t)},t.arWriter=function(e,t){e.writeBytes(t)},t.arReader=function(e){var t=new e.constructor;return e.readBytes(t),t},t.vintWriter=function(e,t){for(;t>=128;)e.writeByte(128|t),t=Math.floor(t/128);e.writeByte(t)},t.vintReader=function(t){for(var A=t.readByte(),i=127&A,r=128;128&A&&e.ByteArrayUtils.readAvailable(t)>0;r*=128)A=t.readByte(),i+=(127&A)*r;return i},t.float2Writer=function(e,t){e.writeFloat(t.x),e.writeFloat(t.y)},t.float2Reader=function(e){return new egret.Point(e.readFloat(),e.readFloat())},t.arrayWriter=function(t,A){t.writeShort(A.$type.id),t.writeShort(A.length);var i=e.RpcDef.getTypeWriter(A.$type.name);if(null==i)throw new TypeError("Type writer not found: "+A.$type.name);for(var r=0,n=A;r<n.length;r++){var o=n[r];i(t,o)}},t.arrayReader=function(t){var A=t.readShort(),i=e.RpcDef.newArray(A);if(!i)throw new TypeError("Invalid array type id: "+A);var r=t.readShort(),n=e.RpcDef.getTypeReader(i.$type.name);if(null==n)throw new TypeError("Type reader not found: "+i.$type.name);for(var o=0;r>o;o++)i.push(n(t));return i},t.varrayWriter=function(t,A){t.writeShort(A.length);for(var i=0,r=A;i<r.length;i++){var n=r[i],o=e.RpcDef.getTypeWriter(n.$type.name);if(null==o)throw new TypeError("Type writer not found: "+n.$type.name);o(t,n)}},t.varrayReader=function(e){for(var t=e.readShort(),A=[],i=0;t>i;i++){var r=this.structReader(e);A.push(r)}return A},t.tableWriter=function(e,t){},t.tableReader=function(e){return null},t.lzoWriter=function(e,t){},t.lzoReader=function(e){return null},t.structWriter=function(t,A){t.writeShort(A.$type.id);for(var i=A.$type.defs,r=0,n=A.$type.fields;r<n.length;r++){var o=n[r],a=e.RpcDef.getTypeWriter(i[o]);if(null==a)throw new TypeError("Type writer not found: "+A.$type.name+"."+o+":"+i[o]);a(t,A[o])}},t.structReader=function(t){var A=t.readShort(),i=e.RpcDef.newStruct(A);if(!i)throw new TypeError("Invalid struct type id: "+A);for(var r=i.$type.defs,n=0,o=i.$type.fields;n<o.length;n++){var a=o[n],s=e.RpcDef.getTypeReader(r[a]);if(null==s)throw new TypeError("Type reader not found: "+i.$type.name+"."+a+":"+r[a]);i[a]=s(t)}return i},t.clearBuffer=function(){this._buffer.clear()},t._buffer=new egret.ByteArray,t}();e.RpcType=t,__reflect(t.prototype,"core.RpcType"),window.RpcType=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t){var A=e.call(this)||this;return A.name=t.name,A.type=t.type,A}return __extends(t,e),t.prototype.toString=function(){var e=this;return null==e._info&&(e._info=e.name+":"+e.type),e._info},t}(egret.HashObject);e.ArgDef=t,__reflect(t.prototype,"core.ArgDef"),window.ArgDef=t}(core||(core={}));var core;!function(e){var t=function(t){function A(A){var i=t.call(this)||this;i.args=[];var r=i;r.id=A.id,r.name=A.name,r.className=A.className,r.server=A.server,r.isStatic=A.isStatic;for(var n=0,o=A.args;n<o.length;n++){var a=o[n];r.args.push(new e.ArgDef(a))}return i}return __extends(A,t),A.prototype.toString=function(){var e=this;return null==e._info&&(e._info="<Method "+e.className+"@"+e.server+"."+e.name+"("+e.args.join(",")+")"+(e.isStatic?" static>":">")),e._info},A}(egret.HashObject);e.MethodDef=t,__reflect(t.prototype,"core.MethodDef"),window.MethodDef=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e){var A=t.call(this)||this,i=A;return i.id=e.id,i.name=e.name,i.className=e.className,i.type=e.type,i._defVal=e.defVal,A}return __extends(A,t),Object.defineProperty(A.prototype,"defVal",{get:function(){switch(this.type){case"float2":return new egret.Point;case"array":return[]}return this._defVal},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"writer",{get:function(){var t=this;if(t._writer||(t._writer=e.RpcDef.getTypeWriter(t.type)),null==t._writer)throw new TypeError("Property writer not found: "+t);return t._writer},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"reader",{get:function(){var t=this;if(t._reader||(t._reader=e.RpcDef.getTypeReader(t.type)),null==t._reader)throw new TypeError("Property reader not found: "+t);return t._reader},enumerable:!0,configurable:!0}),A.prototype.toString=function(){var e=this;return null==e._info&&(e._info="<Prop "+e.className+"."+e.name+":"+e.type+">"),e._info},A}(egret.HashObject);e.PropDef=t,__reflect(t.prototype,"core.PropDef"),window.PropDef=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t){var A=e.call(this)||this;A.defs={},A.fields=[];var i=A;i.id=t.id,i.name=t.name;for(var r=0,n=t.defs;r<n.length;r++){var o=n[r];i.fields.push(o.name),i.defs[o.name]=o.type}return A}return __extends(t,e),t.prototype.toString=function(){var e=this;if(null==e._info){for(var t=[],A=0,i=e.fields;A<i.length;A++){var r=i[A];t.push(r+":"+e.defs[r])}e._info="<Type "+e.name+" {"+t.join(",")+"}>"}return e._info},t}(egret.HashObject);e.TypeDef=t,__reflect(t.prototype,"core.TypeDef"),window.TypeDef=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e){var A=t.call(this)||this;return A._items={},A._type=e,A}return __extends(A,t),A.createNew=function(t){var i=A._classMap[t.name];if(!i){i=function(e){A.call(this,e)},e.Functor.__extends(i,A);for(var r=0,n=t.fields;r<n.length;r++){var o=n[r];Object.defineProperty(i.prototype,o,{set:e.Functor.functorLeft(A.prototype.setKey,null,o),get:e.Functor.functor(A.prototype.getKey,null,o),enumerable:!0})}A._classMap[t.name]=i}return new i(t)},Object.defineProperty(A.prototype,"$type",{get:function(){return this._type},enumerable:!0,configurable:!0}),A.prototype.hasKey=function(e){return null!=this._type.defs[e]},A.prototype.setKey=function(t,A){return this.hasKey(t)?void(this._items[t]=A):void e.GameLog.rpcerror("Setting struct member not defined: "+t)},A.prototype.getKey=function(t){return this.hasKey(t)?this._items[t]:(e.GameLog.rpcerror("Getting struct member not defined: "+t),null)},A.prototype.toString=function(){for(var e=[],t=0,A=this._type.fields;t<A.length;t++){var i=A[t];e.push(i+"="+this._items[i])}return"<"+this._type.name+" "+e.join(",")+">"},A._classMap={},A}(egret.HashObject);e.Struct=t,__reflect(t.prototype,"core.Struct"),window.Struct=t
}(core||(core={}));var core;!function(e){var t=function(e){function t(A,i){var r=e.call(this)||this;r.__proto__=t.prototype;var n=r;return n._type=A,i&&i.length>0&&n.push.apply(n,i),n}return __extends(t,e),Object.defineProperty(t.prototype,"$type",{get:function(){return this._type},enumerable:!0,configurable:!0}),t.prototype.concat=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];for(var i=new t(this._type,this),r=0,n=e;r<n.length;r++){var o=n[r];o instanceof Array?i.push.apply(i,o):i.push(o)}return i},t.prototype.slice=function(A,i){return void 0===A&&(A=0),void 0===i&&(i=16777215),new t(this._type,e.prototype.slice.call(this,A,i))},t.prototype.splice=function(A,i){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return void 0===i?new t(this._type,e.prototype.splice.call(this,A)):new t(this._type,e.prototype.splice.apply(this,[A,i].concat(r)))},t.prototype.toString=function(){return"<TypeArray type="+this._type.name+" ["+this.join(",")+"]>"},t}(Array);e.TypeArray=t,__reflect(t.prototype,"core.TypeArray"),window.TypeArray=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A){return e.call(this,t,A)||this}return __extends(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){var e=this.filter;return e&&e.uniforms?e.uniforms.alpha:1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){var e=this.uniforms;return e&&e.change?e.change.x:0},set:function(e){var t=this.uniforms=this.filter.uniforms;if(t){var A=t.change;A&&(A.x=e,this.filter.onPropertyChange())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){var e=this.uniforms;return e&&e.change?e.change.y:0},set:function(e){var t=this.uniforms=this.filter.uniforms;if(t){var A=t.change;A&&(A.y=e,this.filter.onPropertyChange())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"v",{get:function(){var e=this.uniforms;return e&&e.change?e.change.z:0},set:function(e){var t=this.uniforms=this.filter.uniforms;if(t){var A=t.change;A&&(A.z=e,this.filter.onPropertyChange())}},enumerable:!0,configurable:!0}),t.prototype.getFragmentSrc=function(){var e=this.useKtx&&this.isSupportCompressTexture();return e?"\nprecision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nuniform sampler2D uSamplerAlphaMask;\nuniform vec3 change;\nuniform float alpha;\nvec3 rgb2hsv(vec4 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main()\n{\n    // 获取坐标处颜色\n    vec4 colorR = texture2D(uSampler, vTextureCoord);\n    float alphaMask = texture2D(uSamplerAlphaMask, vTextureCoord).r;\n    vec4 color;\n    if (alphaMask < 0.0039)\n    {\n        discard;\n    }\n    colorR.rgb = colorR.rgb * alphaMask;\n    colorR.a = alphaMask;\n\n    vec3 hsv = rgb2hsv(colorR);\n    hsv += change;\n\n    color = vec4(hsv2rgb(hsv), colorR.a) * alphaMask;\n    gl_FragColor = color * vColor;\n}\n":"\n/**\n * 修改 hsv 颜色\n */\n\nprecision mediump float;\n\n// 坐标\nvarying vec2 vTextureCoord;\n\n// 纹理\nuniform sampler2D uSampler;\n\n// 修改数据\nuniform vec3 change;\n\n// 透明度\nuniform float alpha;\n\nvarying vec4 vColor;\n\n/**\n * rgb 转 hsv\n * @param {vec4} c rgb 颜色， rgb 取值范围 0~1\n * @return {vec3} hsv 颜色， h 取值范围 0~360 ， sv 取值范围 0~1\n */\nvec3 rgb2hsv(vec4 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main()\n{\n    // 获取坐标处颜色\n    vec4 colorR = texture2D(uSampler, vTextureCoord);\n    vec4 color;\n\n    vec3 hsv = rgb2hsv(colorR);\n\n    hsv += change;\n\n    color = vec4(hsv2rgb(hsv), colorR.a) * alpha;\n\n    gl_FragColor = color * vColor;\n}\n"},t.prototype.initial=function(e,t,A,i,r){void 0===r&&(r=!0);var n=this;if(n.filter){var o=n.uniforms=n.filter.uniforms;o.alpha=i,o.change.x=e,o.change.y=t,o.change.z=A}else{var a=this;a.uniforms={alpha:i,change:{x:e,y:t,z:A}},a.useKtx=r,a.filter=a.createFilter()}n.filter.onPropertyChange()},t}(e.ShaderBase);e.ChangeHSVShader=t,__reflect(t.prototype,"core.ChangeHSVShader",["core.ChangeHSVShaderUniforms"]),window.ChangeHSVShader=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e){return t.call(this,{x1:0,y1:0,x2:0,y2:0,alpha:1},e)||this}return __extends(A,t),Object.defineProperty(A.prototype,"alpha",{get:function(){return this.filter.uniforms.alpha},set:function(e){this.filter.uniforms.alpha=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"x1",{get:function(){return this.filter.uniforms.x1},set:function(e){this.filter.uniforms.x1=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"x2",{get:function(){return this.filter.uniforms.x2},set:function(e){this.filter.uniforms.x2=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"y1",{get:function(){return this.filter.uniforms.y1},set:function(e){this.filter.uniforms.y1=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"y2",{get:function(){return this.filter.uniforms.y2},set:function(e){this.filter.uniforms.y2=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),A.prototype.initialize=function(A){var i=this.uniforms;e.ObjectUtils.assignKeysNum(A,i,["x1","x2","y1","y2","alpha"]),t.prototype.initialize.call(this,A),this.filter.onPropertyChange()},A.prototype.setUniformByEgret=function(e,t,A,i,r,n,o,a){var s=this.uniforms=this.filter.uniforms,c=r*(o-1)/2,l=n*(o-1)/2;s.x1=(e-c)/A,s.y1=(t-l)/i,s.x2=(e+r+c)/A,s.y2=(t+n+l)/i,void 0!==a&&(s.alpha=a),this.filter.onPropertyChange()},A.prototype.setUniformByEgretContainer=function(e,t,A,i,r,n,o,a){var s=this.uniforms=this.filter.uniforms,c=r*(o-1)/2,l=n*(o-1)/2;s.x1=(e-c)/A,s.y1=1-(t+n+l)/i,s.x2=(e+r+c)/A,s.y2=1-(t-l)/i,void 0!==a&&(s.alpha=a),this.filter.onPropertyChange()},A.prototype.getFragmentSrc=function(){var e=this.useKtx&&this.isSupportCompressTexture();return e?"\n/**\n * 矩形挖孔效果\n */\n\nprecision mediump float;\n\nuniform sampler2D uSampler;\nuniform sampler2D uSamplerAlphaMask;\n\nvarying vec2 vTextureCoord;\n\nuniform float x1;\nuniform float x2;\nuniform float y1;\nuniform float y2;\nuniform float alpha;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    float alphaMask = texture2D(uSamplerAlphaMask, vTextureCoord).r;\n    if (alphaMask < 0.0039) { discard; }\n\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color.rgb = color.rgb * alphaMask;\n    color.a = alphaMask;\n    \n    float x = vTextureCoord.x;\n    float y = vTextureCoord.y;\n\n    // 在矩形内则不渲染\n    if (x1 <= x && x <= x2 && y1 <= y && y <= y2)\n    {\n        discard;\n    }\n\n    gl_FragColor = color * alpha * vColor;\n}\n":"\n/**\n * 矩形挖孔效果\n */\n\nprecision mediump float;\n\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\n\nuniform float x1;\nuniform float x2;\nuniform float y1;\nuniform float y2;\nuniform float alpha;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float x = vTextureCoord.x;\n    float y = vTextureCoord.y;\n\n    // 在矩形内则不渲染\n    if (x1 <= x && x <= x2 && y1 <= y && y <= y2)\n    {\n        discard;\n    }\n    gl_FragColor = color * alpha * vColor;\n}\n"},A}(e.ShaderBase);e.EraserRectShader=t,__reflect(t.prototype,"core.EraserRectShader",["core.EraserRectShaderUniforms"]),window.EraserRectShader=t}(core||(core={}));var core;!function(e){var t=function(t){function A(e,A,i){void 0===i&&(i=!1);var r=t.call(this,void 0,i)||this,n=r;return n.uniforms={t:0,scale:1,edge:.1},n.filter=n.createFilter(A),n.filter.onPropertyChange(),r}return __extends(A,t),Object.defineProperty(A.prototype,"edge",{get:function(){return this.uniforms.edge},set:function(e){var t=this.uniforms=this.filter.uniforms;t.edge=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"scale",{get:function(){return this.uniforms.scale},set:function(e){var t=this.uniforms=this.filter.uniforms;t.scale=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"t",{get:function(){return this.uniforms.t},set:function(e){var t=this.uniforms=this.filter.uniforms;t.t=e,this.filter.onPropertyChange()},enumerable:!0,configurable:!0}),A.prototype.initialize=function(A){var i=this.uniforms=this.filter.uniforms;e.ObjectUtils.assignKeys(A,i,["t","scale","edge"],{t:0,scale:1,edge:.1}),t.prototype.initialize.call(this,A),this.filter.onPropertyChange()},A.prototype.createFilter=function(e){return new egret.CustomFilter(this.getVertexSrc(),this.getFragmentSrc(e),this.uniforms)},A.prototype.getFragmentSrc=function(e){var t=this.useKtx&&this.isSupportCompressTexture();return t?"\n/**\n * 填充效果，未填充部分降低透明度\n */\nprecision mediump float;\n\nuniform float t;\nuniform float scale;\nuniform float edge;\n\nuniform sampler2D uSampler;\nuniform sampler2D uSamplerAlphaMask;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    float alphaMask = texture2D(uSamplerAlphaMask, vTextureCoord).r;\n    if (alphaMask < 0.0039) { discard; }\n    vec4 color = texture2D(uSampler, vTextureCoord); \n    color.rgb = color.rgb * alphaMask;\n    color.a = alphaMask;\n    color *= (1.0 - scale) / 2.0 + scale * smoothstep(t - edge, t, vTextureCoord."+(e||"x")+");\n    gl_FragColor = color * vColor;\n}\n":"\n/**\n * 填充效果，未填充部分降低透明度\n */\nprecision mediump float;\n\nuniform float t;\nuniform float scale;\nuniform float edge;\n\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    color *= (1.0 - scale) / 2.0 + scale * smoothstep(t - edge, t, vTextureCoord."+(e||"x")+");\n\n    gl_FragColor = color * vColor;\n}\n"},A}(e.ShaderBase);e.FillOutShader=t,__reflect(t.prototype,"core.FillOutShader",["core.FillOutShaderUniforms"]),window.FillOutShader=t}(core||(core={}));var core;!function(e){var t=function(t){function A(A){var i=t.call(this)||this;i._loopId=-1,i._frames=new Array,i._currentFrame=-1,i._isPlaying=!1,i.animationSource="demo{0}_png",i.autoPlay=!0,i.loop=!0,i.loopTime=0,i.frameRate=24,i.frameNum=0,i.stopAndVisible=!1;var r=i;return r.addEventListener(e.Evt.removedFromStage,r.onRemoved,r),r.addEventListener(e.Evt.addedToStage,r.onAdded,r),r.animationSource=A,i}return __extends(A,t),Object.defineProperty(A.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"currentFrame",{get:function(){return this._currentFrame},enumerable:!0,configurable:!0}),A.prototype.onRemoved=function(e){this.stop()},A.prototype.onAdded=function(e){this.refresh()},A.prototype.childrenCreated=function(){this.getResources()},A.prototype.getResources=function(){var t=this;if(t._frames=[],0==t.frameNum)for(var A=0;RES.getRes(e.StringUtils.format(t.animationSource,A));)t._frames.push(e.StringUtils.format(t.animationSource,A)),A++;else for(var A=0;A<t.frameNum;A++)t._frames.push(e.StringUtils.format(t.animationSource,A))},A.prototype.play=function(){var e=this;e.visible=!0,e._isPlaying&&e.stop(),e._timerId=setInterval(e.onInterval.bind(e),e.frameRate),e._isPlaying=!0},A.prototype.stop=function(){var e=this;e._currentFrame=0,clearInterval(e._timerId),e._isPlaying=!1,-1!=e._loopId&&clearTimeout(e._loopId)},A.prototype.refresh=function(){var e=this;e.stop(),e.autoPlay?(e.onInterval(),e.play()):e.source=e._frames[e.currentFrame]},A.prototype.onInterval=function(){var t=this;e.Utils.isVisible(t)&&(t.source=t._frames[t.currentFrame],t._currentFrame++,t._currentFrame==t._frames.length&&(t.loop?(t._currentFrame=0,t.loopTime>0&&(t.stop(),t._loopId=e.Functor.delay(t.play,t.loopTime,t))):(t.stop(),t.visible=!t.stopAndVisible),t._completeEvent||(t._completeEvent=new egret.Event(e.Evt.ended)),t.dispatchEvent(t._completeEvent)))},A.prototype.destroy=function(){var t=this;t.removeEventListener(e.Evt.removedFromStage,t.onRemoved,t),t.removeEventListener(e.Evt.addedToStage,t.onAdded,t)},A}(e.UIImage);e.Animation=t,__reflect(t.prototype,"core.Animation"),window.Ani=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=null!==t&&t.apply(this,arguments)||this;return e.stopAndVisible=!1,e.valid=!0,e.dataMap={},e.byObjectPool=!1,e}return __extends(A,t),A.prototype.init=function(){this.stopAndVisible=!1,this.valid=!0,this.defaultMainData=void 0,this.mainData=void 0,this.dataMap={}},A.prototype.isPlaying=function(){var e=this.mainData,t=e.armatureDisplay;return t?t.animation&&t.animation.isPlaying:!1},A.prototype.setStopAndVisible=function(e){this.stopAndVisible!=e&&(this.stopAndVisible=e,this.updateVisible())},A.prototype.setDefaultMainData=function(e){e&&(this.defaultMainData={url:e.url,resName:e.resName,armatureName:e.armatureName,animationName:e.animationName,isGroup:e.isGroup})},A.prototype.initialData=function(t){if(this.destroyData(t),t&&!t.isInitial){void 0===t.isMain&&(t.isMain=void 0===t.id),t.armatureName=t.armatureName||t.resName,t.animationName=t.animationName||"idle",t.isGroup=t.isGroup||!1,t.isLoaded=!1,t.isLoop=t.isLoop||!1,t.autoPlay=void 0!==t.autoPlay?t.autoPlay:!0;var A=t.isGroup?"_json":".json",i=t.isGroup?"":t.url;t.skeUrl=i+t.resName+"_ske"+A,t.texCUrl=i+t.resName+"_tex"+A,t.texUrl=i+t.resName+"_tex"+(t.isGroup?"_png":".png"),t.loader=t.loader||e.ObjectPool.pop(e.LoadMgr),t.loader.unload(),t.factory=new dragonBones.EgretFactory,t.isInitial=!0,t.isUsed=!0,t.isParsed=!1}},A.prototype.destroyData=function(e){if(e){e.isMain?this.stop():this.unloadArmature(e.id),this.destroyArmature(e);var t=e.loader;t&&(t.destroy(),e.loader=null),e.factory=null,e.dragonBonesData=null,e.textureData=null,e.texture=null,e.isInitial=!1}},A.prototype.playAnimator=function(e,t){for(var A=this,i=0,r=e;i<r.length;i++){var n=r[i];if(n.resName){n.isGroup=n.isGroup||!1,n.isUsed=!0;var o=A.dataMap[n.id];o&&o.url===n.url&&o.resName===n.resName&&o.isGroup===n.isGroup?A.play(n.id):(A.initialData(n),n.isMain&&(!A.defaultMainData&&A.setDefaultMainData(n),A.mainData&&A.destroyData(A.mainData),A.mainData=n),o&&A.destroyData(o),A.dataMap[n.id]=n,A.loadRes(n.id))}else A.unloadArmature(n.id)}},A.prototype.loadRes=function(e){var t=this.dataMap[e];t&&t.loader.loadResByUrls([t.skeUrl,t.texCUrl,t.texUrl],1,this.onLoadCallback,this,!1,e)},A.prototype.unloadArmature=function(e){var t=this,A=t.dataMap[e];if(A)if(A.isUsed=!1,A.isMain){var i=t.defaultMainData;A.url=i.url,A.resName=i.resName,A.armatureName=i.armatureName,A.animationName=i.animationName,A.isGroup=i.isGroup,A.isInitial=!1,t.initialData(A),t.loadRes(e)}else{var r=t.mainData;if(!(r&&r.isLoaded&&r.factory&&r.armatureDisplay))return;var n=r.factory.getArmatureData(r.armatureName);if(!n)return;var o=t.getSlotsName(A),a=t.getSlotsName(r,o);r.factory.replaceSkin(r.armatureDisplay.armature,n.defaultSkin,!1,a)}},A.prototype.unloadRes=function(){var e=this;e.stop();for(var t in e.dataMap){var A=e.dataMap[t];A&&e.destroyData(A)}e.stopAndVisible=!1,e.defaultMainData=e.mainData=null,e.dataMap={}},A.prototype.getSlotsName=function(e,t){var A=[];if(t=t||[],e.factory){var i=e.factory.getArmatureData(e.armatureName);if(i){var r=i.slots||{};for(var n in r){var o=r[n];o&&-1===t.indexOf(o.name)&&A.push(o.name)}}}return A},A.prototype.onLoadCallback=function(e,t,A){var i=this,r=i.dataMap[e];if(r){if(!t[r.skeUrl]||!t[r.texCUrl]||!t[r.texUrl])return void(r.isMain&&i.dispatchLoadedEvent(!0));r.isLoaded=!0,r.dragonBonesData=t[r.skeUrl],r.textureData=t[r.texCUrl],r.texture=t[r.texUrl],i.parseData(r),i.dispatchLoadedEvent(!1),r.autoPlay?i.play(e):i.updateVisible()}},A.prototype.dispatchLoadedEvent=function(e){this.dispatchEventWith("loaded",!1,{fail:e})},A.prototype.parseData=function(e){if(e&&e.isLoaded){var t=e.factory;if(t||(e.factory=t=new dragonBones.EgretFactory),e.isParsed||(t.parseDragonBonesData(e.dragonBonesData),t.parseTextureAtlasData(e.textureData,e.texture),e.isParsed=!0),e.isMain){var A=e.armatureDisplay;if(!A||!A.armature||A.armature.name!==e.armatureName){var i=this;A&&i.destroyArmature(e),e.armatureDisplay=A=t.buildArmatureDisplay(e.armatureName),A.addEventListener(dragonBones.EventObject.COMPLETE,i.onAnimationComplete,i),i.addChild(A)}}}},A.prototype.play=function(e,t){var A=this,i=A.dataMap[e];if(i&&i.isLoaded)if(i.isParsed||A.parseData(i),i.isMain){var r=i.isLoop?0:1,n=0;i.armatureDisplay&&i.armatureDisplay.animation||A.parseData(i);var o=i.armatureDisplay,a=o.animation.lastAnimationState;i.isLoop&&a&&(n=a.currentTime||0);for(var s in A.dataMap){var c=A.dataMap[s];if(c&&!c.isMain&&c.isLoaded&&c.isUsed&&c.factory){var l=c.factory.getArmatureData(c.armatureName);if(!l)continue;c.factory.replaceSkin(i.armatureDisplay.armature,l.defaultSkin)}}o.animation.gotoAndPlayByTime(t||i.animationName,n,r),A.updateVisible()}else{var u=A.mainData;if(u&&u.isLoaded){var l=i.factory.getArmatureData(i.armatureName);if(!l)return;i.factory.replaceSkin(u.armatureDisplay.armature,l.defaultSkin)}}},A.prototype.stop=function(){var e=this.mainData;if(e){var t=e.armatureDisplay;t&&t.animation&&(t.animation.stop(e.animationName),this.updateVisible())}},A.prototype.onAnimationComplete=function(e){this.updateVisible(),this.dispatchEventWith("action_play_end")},A.prototype.updateVisible=function(){var e=this;if(e.isPlaying()){var t=e.mainData;e.visible=t&&t.isLoaded}else e.visible=!e.stopAndVisible},A.prototype.destroy=function(){this.valid&&(this.valid=!1,this.onDestroy())},A.prototype.destroyArmature=function(e){var t=e.armatureDisplay;t&&(t.removeEventListener(dragonBones.EventObject.COMPLETE,this.onAnimationComplete,this),t.parent&&t.parent.removeChild(t),t.dispose()),e.armatureDisplay=null},A.prototype.onDestroy=function(){this.byObjectPool&&e.ObjectPool.push(this),this.unloadRes()},A}(eui.Component);e.Animator=t,__reflect(t.prototype,"core.Animator"),window.Animator=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.playCount=0,e.isFirst=!0,e.$renderNode=new egret.sys.BitmapNode,e}return __extends(A,t),A.prototype.setStopHandler=function(e,t){return e&&(this.stopHandler=e.bind(t)),this},A.prototype.setPauseHandler=function(e,t){return e&&(this.pauseHandler=e.bind(t)),this},A.prototype.setCompleteHandler=function(e,t){return e&&(this.completeHandler=e.bind(t)),this},A.prototype.setCanPlayHandler=function(e,t){return e&&(this.canPlayHandler=e.bind(t)),this},A.prototype.play=function(t){var A=this;void 0==t.isFull&&(t.isFull=!0);var i=A.videoInfo=t;i.url&&-1!=i.url.lastIndexOf(".mp4")&&(i.url=RES.getVirtualUrl(i.url.split(".mp4")[0]+".ts")),isNaN(i.start)||(i.start=Math.max(0,i.start/1e3)),isNaN(i.end)||(i.end=Math.max(0,i.end/1e3)),isNaN(i.loopStart)||(i.loopStart=Math.max(0,i.loopStart/1e3)),isNaN(i.loopEnd)||(i.loopEnd=Math.max(0,i.loopEnd/1e3)),isNaN(i.showSkipTime)||(i.showSkipTime=i.start+Math.max(0,i.showSkipTime/1e3));var r={disableGl:!0,loop:!1,progressive:e.DeviceUtils.isPcNative?!1:!0,chunkSize:1048576*(i.preloadSize||1),autoplay:!1,throttled:!1,disableWebAssembly:!0,canvas:window.canvas,onSourceEstablished:function(e){A.loaded=!0,i.autoPlay&&(A.player&&A.player.play(),A.setCurrentTime(i.start)),A.canPlayHandler&&A.canPlayHandler()},onPlay:function(e){A.isPlayed=!0,i.isLoop&&A.getCurrentTime()>=i.loopEnd&&(A.playCount+=1),A.onVideoPlay()},onPause:function(e){A.isPlayed=!1,A.pauseHandler&&A.pauseHandler()},onEnded:function(e){A.isPlayed=!1,A.onVideoEnd()},onVideoDecode:function(e,t){A.$renderDirty=!0},onAudioDecode:function(e,t){A.$renderDirty=!0}};A.player=new JSMpeg.Player(i.url,r),A.x=i.x||0,A.y=i.y||0,A.width=i.w||0,A.height=i.h||0,i.canSkip&&(A.btnSkip=new e.UIImage,A.btnSkip.visible=!1,A.btnSkip.source="preload_skip",A.addChild(A.btnSkip),A.btnSkip.touchEnabled=!0,A.btnSkip.addEventListener(e.Evt.touchTap,A.onSkip,A))},A.prototype.onSkip=function(){this.onVideoEnd(),this.dispose()},A.prototype.onVideoPlay=function(){var t=this,A=t.videoInfo;1==t.playCount?t.getCurrentTime()<=A.start&&t.setCurrentTime(A.start):t.getCurrentTime()<=A.loopStart&&t.setCurrentTime(A.loopStart),egret.startTick(t.onTick,t),e.App.dispatch("video_play_begin",A)},A.prototype.onTick=function(e){var t=this,A=t.videoInfo;if(A){var i=t.getCurrentTime();return t.isFirst?A.end>0&&i>=A.end&&(t.pause(),t.onVideoEnd()):A.end>0&&A.isLoop&&i>=A.loopEnd&&(t.pause(),t.onVideoEnd()),!0}},A.prototype.onVideoEnd=function(){var t=this,A=t.videoInfo;t.isFirst=!1,A.isLoop?(t.setCurrentTime(A.loopStart||0),t.resume()):t.completeHandler&&t.completeHandler(A.uid),egret.stopTick(t.onTick,t),e.App.dispatch("video_play_end",A)},A.prototype.getCurrentTime=function(){return this.player&&this.player.video?this.player.video.decodedTime:0},A.prototype.setCurrentTime=function(e){return this.player?this.player.setCurrentTime(e||0):void 0},A.prototype.getVolume=function(){return this.player?this.player.volume:0},A.prototype.setVolume=function(e){return this.player?this.player.setVolume(e||0):void 0},A.prototype.paused=function(){return this.player?this.player.paused:!0},A.prototype.resume=function(){this.player&&this.player.play()},A.prototype.pause=function(){this.player&&this.player.pause()},A.prototype.stop=function(){this.player&&this.player.stop()},A.prototype.getCanvas=function(){var e=this.player;return e&&e.renderer?e.renderer.canvas:null},Object.defineProperty(A.prototype,"bitmapData",{get:function(){var e=this.getCanvas();return this.player&&this.loaded&&e?(this._bitmapData||(this._bitmapData=new egret.BitmapData(e),this._bitmapData.$deleteSource=!1),this._bitmapData):null},enumerable:!0,configurable:!0}),A.prototype.$updateRenderNode=function(){var e=this,t=e.$renderNode,A=e.bitmapData,i=e.getPlayWidth(),r=e.getPlayHeight(),n=e.videoInfo;e.btnSkip&&n.canSkip&&(e.btnSkip.visible=e.getCurrentTime()>=n.showSkipTime,e.btnSkip.x=i-e.btnSkip.width-30,e.btnSkip.y=25),A&&(t.image=A,t.imageWidth=A.width,t.imageHeight=A.height,egret.WebGLUtils.deleteWebGLTexture(A.webGLTexture),A.webGLTexture=null,t.drawImage(0,0,A.width,A.height,0,0,i,r))},A.prototype.getPlayWidth=function(){return this.width},A.prototype.getPlayHeight=function(){return this.height},A.prototype.dispose=function(){var t=this;t.btnSkip&&t.btnSkip.removeEventListener(e.Evt.touchTap,t.onSkip,t),t._bitmapData&&(t._bitmapData.$dispose(),t._bitmapData=null),t.player&&(t.player.destroy(),t.player=null),t.completeHandler=null,t.pauseHandler=null,t.stopHandler=null,t.playCount=0},A}(egret.DisplayObjectContainer);e.EgretVideo=t,__reflect(t.prototype,"core.EgretVideo"),window.EgretVideo=t,window.JSMpeg=function(){var t={Player:null,VideoElement:null,BitBuffer:null,Source:{},Demuxer:{},Decoder:{},Renderer:{},AudioOutput:{},Now:function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},CreateVideoElements:function(){for(var e=document.querySelectorAll(".jsmpeg"),A=0;A<e.length;A++)new t.VideoElement(e[A])},Fill:function(e,t){if(e.fill)e.fill(t);else for(var A=0;A<e.length;A++)e[A]=t},Base64ToArrayBuffer:function(e){for(var t=window.atob(e),A=t.length,i=new Uint8Array(A),r=0;A>r;r++)i[r]=t.charCodeAt(r);return i.buffer},WASM_BINARY_INLINED:null};return t.Player=function(){"use strict";var e=function(e,A){if(this.options=A||{},A.source?(this.source=new A.source(e,A),A.streaming=!!this.source.streaming):e.match(/^wss?:\/\//)?(this.source=new t.Source.WebSocket(e,A),A.streaming=!0):A.progressive!==!1?(this.source=new t.Source.AjaxProgressive(e,A),A.streaming=!1):(this.source=new t.Source.Ajax(e,A),A.streaming=!1),this.maxAudioLag=A.maxAudioLag||.25,this.loop=A.loop!==!1,this.autoplay=!!A.autoplay||A.streaming,this.demuxer=new t.Demuxer.TS(A),this.source.connect(this.demuxer),!A.disableWebAssembly&&t.WASMModule.IsSupported()&&(this.wasmModule=t.WASMModule.GetModule(),A.wasmModule=this.wasmModule),A.video!==!1&&(this.video=A.wasmModule?new t.Decoder.MPEG1VideoWASM(A):new t.Decoder.MPEG1Video(A),this.renderer=!A.disableGl&&t.Renderer.WebGL.IsSupported()?new t.Renderer.WebGL(A):new t.Renderer.Canvas2D(A),this.demuxer.connect(t.Demuxer.TS.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),A.audio!==!1&&t.AudioOutput.WebAudio.IsSupported()&&(this.audio=A.wasmModule?new t.Decoder.MP2AudioWASM(A):new t.Decoder.MP2Audio(A),this.audioOut=new t.AudioOutput.WebAudio(A),this.demuxer.connect(t.Demuxer.TS.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this.paused=!0,this.unpauseOnShow=!1,A.pauseWhenHidden!==!1&&(this.handleShowHide=this.showHide.bind(this),document.addEventListener("visibilitychange",this.handleShowHide)),this.wasmModule)if(this.wasmModule.ready)this.startLoading();else if(t.WASM_BINARY_INLINED){var i=t.Base64ToArrayBuffer(t.WASM_BINARY_INLINED);this.wasmModule.loadFromBuffer(i,this.startLoading.bind(this))}else this.wasmModule.loadFromFile("jsmpeg.wasm",this.startLoading.bind(this));else this.startLoading()};return e.prototype.startLoading=function(){this.source.start(),this.autoplay&&this.play()},e.prototype.showHide=function(e){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},e.prototype.play=function(e){this.animationId||(this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0,this.paused=!1)},e.prototype.pause=function(e){this.paused||(cancelAnimationFrame(this.animationId),this.animationId=null,this.wantsToPlay=!1,this.isPlaying=!1,this.paused=!0,this.audio&&this.audio.canPlay&&(this.audioOut.stop(),this.seek(this.currentTime)),this.options.onPause&&this.options.onPause(this))},e.prototype.getVolume=function(){return this.audioOut?this.audioOut.volume:0},e.prototype.setVolume=function(e){this.audioOut&&(this.audioOut.volume=e)},e.prototype.stop=function(e){this.pause(),this.seek(0),this.video&&this.options.decodeFirstFrame!==!1&&this.video.decode()},e.prototype.destroy=function(){this.pause(),this.source.destroy(),this.video&&this.video.destroy(),this.renderer&&this.renderer.destroy(),this.audio&&this.audio.destroy(),this.audioOut&&this.audioOut.destroy(),this.options.pauseWhenHidden!==!1&&this.handleShowHide&&(document.removeEventListener("visibilitychange",this.handleShowHide),this.handleShowHide=null),this.video=null,this.audio=null,this.renderer=null,this.audioOut=null,this.source=null},e.prototype.seek=function(e){var A=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(e+A),this.audio&&this.audio.seek(e+A),this.startTime=t.Now()-e},e.prototype.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},e.prototype.setCurrentTime=function(e){this.seek(e)},e.prototype.update=function(){return this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=t.Now()-this.currentTime,this.options.onPlay&&this.options.onPlay(this)),void(this.options.streaming?this.updateForStreaming():this.updateForStaticFile())):void(this.renderer&&this.renderer.renderProgress(this.source.progress))},e.prototype.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){var e=!1;do this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),e=this.audio.decode();while(e);this.audioOut.enabled=!0}},e.prototype.nextFrame=function(){return this.source.established&&this.video?this.video.decode():!1},e.prototype.updateForStaticFile=function(){var e=!1,A=0;if(this.audio&&this.audio.canPlay){for(var i=!1;!i&&this.audio.decodedTime-this.audio.currentTime<.25;)i=!this.audio.decode();this.video&&this.video.currentTime-this.audio.currentTime<.25&&(e=!this.video.decode()),e=e&&i,A=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var r=t.Now()-this.startTime+this.video.startTime,n=r-this.video.currentTime,o=1/this.video.frameRate;this.video&&n>0&&(n>2*o&&(this.startTime+=n),e=!this.video.decode()),A=this.demuxer.currentTime-r}this.source.resume(A),e&&this.source.completed?this.loop?this.seek(0):(this.pause(),this.options.onEnded&&this.options.onEnded(this)):e&&this.options.onStalled&&this.options.onStalled(this)},e}(),t.BitBuffer=function(){"use strict";var e=function(t,A){"object"==typeof t?(this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(t||1048576),this.byteLength=0),this.mode=A||e.MODE.EXPAND,this.index=0};return e.prototype.resize=function(e){var t=new Uint8Array(e);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,e),t.set(this.bytes,0,this.byteLength)),this.bytes=t,this.index=Math.min(this.index,this.byteLength<<3)},e.prototype.evict=function(e){var t=this.index>>3,A=this.bytes.length-this.byteLength;return this.index===this.byteLength<<3||e>A+t?(this.byteLength=0,void(this.index=0)):void(0!==t&&(this.bytes.copyWithin?this.bytes.copyWithin(0,t,this.byteLength):this.bytes.set(this.bytes.subarray(t,this.byteLength)),this.byteLength=this.byteLength-t,this.index-=t<<3))},e.prototype.write=function(t){var A="object"==typeof t[0],i=0,r=this.bytes.length-this.byteLength;if(A)for(var i=0,n=0;n<t.length;n++)i+=t[n].byteLength;else i=t.byteLength;if(i>r)if(this.mode===e.MODE.EXPAND){var o=Math.max(2*this.bytes.length,i-r);this.resize(o)}else this.evict(i);if(A)for(var n=0;n<t.length;n++)this.appendSingleBuffer(t[n]);else this.appendSingleBuffer(t);return i},e.prototype.appendSingleBuffer=function(e){e=e instanceof Uint8Array?e:new Uint8Array(e),this.bytes.set(e,this.byteLength),this.byteLength+=e.length},e.prototype.findNextStartCode=function(){for(var e=this.index+7>>3;e<this.byteLength;e++)if(0==this.bytes[e]&&0==this.bytes[e+1]&&1==this.bytes[e+2])return this.index=e+4<<3,this.bytes[e+3];return this.index=this.byteLength<<3,-1},e.prototype.findStartCode=function(e){for(var t=0;;)if(t=this.findNextStartCode(),t===e||-1===t)return t},e.prototype.nextBytesAreStartCode=function(){var e=this.index+7>>3;return e>=this.byteLength||0==this.bytes[e]&&0==this.bytes[e+1]&&1==this.bytes[e+2]},e.prototype.peek=function(e){for(var t=this.index,A=0;e;){var i=this.bytes[t>>3],r=8-(7&t),n=e>r?r:e,o=r-n,a=255>>8-n;A=A<<n|(i&a<<o)>>o,t+=n,e-=n}return A},e.prototype.read=function(e){var t=this.peek(e);return this.index+=e,t},e.prototype.skip=function(e){return this.index+=e},e.prototype.rewind=function(e){this.index=Math.max(this.index-e,0)},e.prototype.has=function(e){return(this.byteLength<<3)-this.index>=e},e.MODE={EVICT:1,EXPAND:2},e}(),t.Source.Ajax=function(){"use strict";var e=function(e,t){this.url=e,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.onEstablishedCallback=t.onSourceEstablished,this.onCompletedCallback=t.onSourceCompleted};return e.prototype.connect=function(e){this.destination=e},e.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&this.onLoad(this.request.response)
}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send()},e.prototype.resume=function(e){},e.prototype.destroy=function(){this.request&&this.request.abort(),this.destination=null},e.prototype.onProgress=function(e){this.progress=e.loaded/e.total},e.prototype.onLoad=function(e){this.established=!0,this.completed=!0,this.progress=1,this.onEstablishedCallback&&this.onEstablishedCallback(this),this.onCompletedCallback&&this.onCompletedCallback(this),this.destination&&this.destination.write(e)},e}(),t.Source.AjaxProgressive=function(){"use strict";var A=function(e,t){this.url=e,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=t.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=t.throttled!==!1,this.aborted=!1,this.onEstablishedCallback=t.onSourceEstablished,this.onCompletedCallback=t.onSourceCompleted};return A.prototype.connect=function(e){this.destination=e},A.prototype.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&(this.fileSize=e.Utils.parseInt(this.request.getResponseHeader("Content-Length")),this.loadNextChunk())}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send()},A.prototype.resume=function(e){if(!this.isLoading&&this.throttled){var t=8*this.loadTime+2;t>e&&this.loadNextChunk()}},A.prototype.destroy=function(){this.request.abort(),this.aborted=!0,this.destination=null},A.prototype.loadNextChunk=function(){var e=this.loadedSize,A=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);return e>=this.fileSize||this.aborted?(this.completed=!0,void(this.onCompletedCallback&&this.onCompletedCallback(this))):(this.isLoading=!0,this.loadStartTime=t.Now(),this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&this.request.status>=200&&this.request.status<300?this.onChunkLoad(this.request.response):this.request.readyState===this.request.DONE&&this.loadFails++<3&&this.loadNextChunk()}.bind(this),0===e&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+e+"-"+A),this.request.setRequestHeader("Range","bytes="+e+"-"+A),this.request.responseType="arraybuffer",void this.request.send())},A.prototype.onProgress=function(e){this.progress=e.loaded/e.total},A.prototype.onChunkLoad=function(e){var A=!this.established;this.established=!0,this.progress=1,this.loadedSize+=e.byteLength,this.loadFails=0,this.isLoading=!1,A&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(e),this.loadTime=t.Now()-this.loadStartTime,this.throttled||this.loadNextChunk()},A}(),t.Demuxer.TS=function(){"use strict";var A=function(e){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0};return A.prototype.connect=function(e,t){this.pesPacketInfo[e]={destination:t,currentLength:0,totalLength:0,pts:0,buffers:[]}},A.prototype.write=function(e){if(this.leftoverBytes){var A=e.byteLength+this.leftoverBytes.byteLength;this.bits=new t.BitBuffer(A),this.bits.write([this.leftoverBytes,e])}else this.bits=new t.BitBuffer(e);for(;this.bits.has(1504)&&this.parsePacket(););var i=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=i>0?this.bits.bytes.subarray(this.bits.index>>3):null},A.prototype.parsePacket=function(){if(71!==this.bits.read(8)&&!this.resync())return!1;var e=(this.bits.index>>3)+187,t=(this.bits.read(1),this.bits.read(1)),A=(this.bits.read(1),this.bits.read(13)),i=(this.bits.read(2),this.bits.read(2)),r=(this.bits.read(4),this.pidsToStreamIds[A]);if(t&&r){var n=this.pesPacketInfo[r];n&&n.currentLength&&this.packetComplete(n)}if(1&i){if(2&i){var o=this.bits.read(8);this.bits.skip(o<<3)}if(t&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),r=this.bits.read(8),this.pidsToStreamIds[A]=r;var a=this.bits.read(16);this.bits.skip(8);var s=this.bits.read(2);this.bits.skip(6);var c=this.bits.read(8),l=this.bits.index+(c<<3),n=this.pesPacketInfo[r];if(n){var u=0;if(2&s){this.bits.skip(4);var d=this.bits.read(3);this.bits.skip(1);var h=this.bits.read(15);this.bits.skip(1);var g=this.bits.read(15);this.bits.skip(1),u=(1073741824*d+32768*h+g)/9e4,this.currentTime=u,-1===this.startTime&&(this.startTime=u)}var p=a?a-c-3:0;this.packetStart(n,u,p)}this.bits.index=l}if(r){var n=this.pesPacketInfo[r];if(n){var f=this.bits.index>>3,v=this.packetAddData(n,f,e),m=!t&&2&i;(v||this.guessVideoFrameEnd&&m)&&this.packetComplete(n)}}}return this.bits.index=e<<3,!0},A.prototype.resync=function(){if(!this.bits.has(9024))return!1;for(var t=this.bits.index>>3,A=0;187>A;A++)if(71===this.bits.bytes[t+A]){for(var i=!0,r=1;5>r;r++)if(71!==this.bits.bytes[t+A+188*r]){i=!1;break}if(i)return this.bits.index=t+A+1<<3,!0}return e.GameLog.warning("JSMpeg: Possible garbage data. Skipping."),this.bits.skip(1496),!1},A.prototype.packetStart=function(e,t,A){e.totalLength=A,e.currentLength=0,e.pts=t},A.prototype.packetAddData=function(e,t,A){e.buffers.push(this.bits.bytes.subarray(t,A)),e.currentLength+=A-t;var i=0!==e.totalLength&&e.currentLength>=e.totalLength;return i},A.prototype.packetComplete=function(e){e.destination.write(e.pts,e.buffers),e.totalLength=0,e.currentLength=0,e.buffers=[]},A.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255},A}(),t.Decoder.Base=function(){"use strict";var e=function(e){this.destination=null,this.canPlay=!1,this.collectTimestamps=!e.streaming,this.bytesWritten=0,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})};return e.prototype.destroy=function(){},e.prototype.connect=function(e){this.destination=e},e.prototype.bufferGetIndex=function(){return this.bits.index},e.prototype.bufferSetIndex=function(e){this.bits.index=e},e.prototype.bufferWrite=function(e){return this.bits.write(e)},e.prototype.write=function(e,t){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=e,this.decodedTime=e),this.timestamps.push({index:this.bytesWritten<<3,time:e})),this.bytesWritten+=this.bufferWrite(t),this.canPlay=!0},e.prototype.seek=function(e){if(this.collectTimestamps){this.timestampIndex=0;for(var t=0;t<this.timestamps.length&&!(this.timestamps[t].time>e);t++)this.timestampIndex=t;var A=this.timestamps[this.timestampIndex];A?(this.bufferSetIndex(A.index),this.decodedTime=A.time):(this.bufferSetIndex(0),this.decodedTime=this.startTime)}},e.prototype.decode=function(){this.advanceDecodedTime(0)},e.prototype.advanceDecodedTime=function(e){if(this.collectTimestamps){for(var t=-1,A=this.bufferGetIndex(),i=this.timestampIndex;i<this.timestamps.length&&!(this.timestamps[i].index>A);i++)t=i;if(-1!==t&&t!==this.timestampIndex)return this.timestampIndex=t,void(this.decodedTime=this.timestamps[this.timestampIndex].time)}this.decodedTime+=e},e.prototype.getCurrentTime=function(){return this.decodedTime},e}(),t.Decoder.MPEG1Video=function(){"use strict";var e=function(e){t.Decoder.Base.call(this,e),this.onDecodeCallback=e.onVideoDecode;var A=e.videoBufferSize||524288,i=e.streaming?t.BitBuffer.MODE.EVICT:t.BitBuffer.MODE.EXPAND;this.bits=new t.BitBuffer(A,i),this.customIntraQuantMatrix=new Uint8Array(64),this.customNonIntraQuantMatrix=new Uint8Array(64),this.blockData=new Int32Array(64),this.currentFrame=0,this.decodeFirstFrame=e.decodeFirstFrame!==!1};return e.prototype=Object.create(t.Decoder.Base.prototype),e.prototype.constructor=e,e.prototype.write=function(A,i){if(t.Decoder.Base.prototype.write.call(this,A,i),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(e.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},e.prototype.decode=function(){var A=t.Now();if(!this.hasSequenceHeader)return!1;if(-1===this.bits.findStartCode(e.START.PICTURE)){this.bits.byteLength-(this.bits.index>>3);return!1}this.decodePicture(),this.advanceDecodedTime(1/this.frameRate);var i=t.Now()-A;return this.onDecodeCallback&&this.onDecodeCallback(this,i),!0},e.prototype.readHuffman=function(e){var t=0;do t=e[t+this.bits.read(1)];while(t>=0&&0!==e[t]);return e[t+2]},e.prototype.frameRate=30,e.prototype.decodeSequenceHeader=function(){var t=this.bits.read(12),A=this.bits.read(12);if(this.bits.skip(4),this.frameRate=e.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),(t!==this.width||A!==this.height)&&(this.width=t,this.height=A,this.initBuffers(),this.destination&&this.destination.resize(t,A)),this.bits.read(1)){for(var i=0;64>i;i++)this.customIntraQuantMatrix[e.ZIG_ZAG[i]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(var i=0;64>i;i++){var r=e.ZIG_ZAG[i];this.customNonIntraQuantMatrix[r]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},e.prototype.initBuffers=function(){this.intraQuantMatrix=e.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=e.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},e.prototype.currentY=null,e.prototype.currentCr=null,e.prototype.currentCb=null,e.prototype.pictureType=0,e.prototype.forwardY=null,e.prototype.forwardCr=null,e.prototype.forwardCb=null,e.prototype.fullPelForward=!1,e.prototype.forwardFCode=0,e.prototype.forwardRSize=0,e.prototype.forwardF=0,e.prototype.decodePicture=function(t){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=e.PICTURE_TYPE.B)){if(this.pictureType===e.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var A=0;do A=this.bits.findNextStartCode();while(A===e.START.EXTENSION||A===e.START.USER_DATA);for(;A>=e.START.SLICE_FIRST&&A<=e.START.SLICE_LAST;)this.decodeSlice(255&A),A=this.bits.findNextStartCode();if(-1!==A&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb,!0),this.pictureType===e.PICTURE_TYPE.INTRA||this.pictureType===e.PICTURE_TYPE.PREDICTIVE){var i=this.forwardY,r=this.forwardY32,n=this.forwardCr,o=this.forwardCr32,a=this.forwardCb,s=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=i,this.currentY32=r,this.currentCr=n,this.currentCr32=o,this.currentCb=a,this.currentCb32=s}}},e.prototype.quantizerScale=0,e.prototype.sliceBegin=!1,e.prototype.decodeSlice=function(e){for(this.sliceBegin=!0,this.macroblockAddress=(e-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);do this.decodeMacroblock();while(!this.bits.nextBytesAreStartCode())},e.prototype.macroblockAddress=0,e.prototype.mbRow=0,e.prototype.mbCol=0,e.prototype.macroblockType=0,e.prototype.macroblockIntra=!1,e.prototype.macroblockMotFw=!1,e.prototype.motionFwH=0,e.prototype.motionFwV=0,e.prototype.motionFwHPrev=0,e.prototype.motionFwVPrev=0,e.prototype.decodeMacroblock=function(){for(var t=0,A=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);34===A;)A=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);for(;35===A;)t+=33,A=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);if(t+=A,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=t;else{if(this.macroblockAddress+t>=this.mbSize)return;for(t>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===e.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));t>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),t--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var i=e.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(i),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!==(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var r=0!==(2&this.macroblockType)?this.readHuffman(e.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,n=0,o=32;6>n;n++)0!==(r&o)&&this.decodeBlock(n),o>>=1},e.prototype.decodeMotionVectors=function(){var t,A,i=0;this.macroblockMotFw?(t=this.readHuffman(e.MOTION),0!==t&&1!==this.forwardF?(i=this.bits.read(this.forwardRSize),A=(Math.abs(t)-1<<this.forwardRSize)+i+1,0>t&&(A=-A)):A=t,this.motionFwHPrev+=A,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),t=this.readHuffman(e.MOTION),0!==t&&1!==this.forwardF?(i=this.bits.read(this.forwardRSize),A=(Math.abs(t)-1<<this.forwardRSize)+i+1,0>t&&(A=-A)):A=t,this.motionFwVPrev+=A,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===e.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},e.prototype.copyMacroblock=function(e,t,A,i,r){var n,o,a,s,c,l,u,d,h,g=this.currentY32,p=this.currentCb32,f=this.currentCr32;n=this.codedWidth,o=n-16,a=e>>1,s=t>>1,c=1===(1&e),l=1===(1&t),u=((this.mbRow<<4)+s)*n+(this.mbCol<<4)+a,d=this.mbRow*n+this.mbCol<<2,h=d+(n<<2);var v,m,I,E;if(c)if(l)for(;h>d;){for(m=A[u]+A[u+n],u++,v=0;4>v;v++)I=A[u]+A[u+n],u++,E=m+I+2>>2&255,m=A[u]+A[u+n],u++,E|=m+I+2<<6&65280,I=A[u]+A[u+n],u++,E|=m+I+2<<14&16711680,m=A[u]+A[u+n],u++,E|=m+I+2<<22&4278190080,g[d++]=E;d+=o>>2,u+=o-1}else for(;h>d;){for(m=A[u++],v=0;4>v;v++)I=A[u++],E=m+I+1>>1&255,m=A[u++],E|=m+I+1<<7&65280,I=A[u++],E|=m+I+1<<15&16711680,m=A[u++],E|=m+I+1<<23&4278190080,g[d++]=E;d+=o>>2,u+=o-1}else if(l)for(;h>d;){for(v=0;4>v;v++)E=A[u]+A[u+n]+1>>1&255,u++,E|=A[u]+A[u+n]+1<<7&65280,u++,E|=A[u]+A[u+n]+1<<15&16711680,u++,E|=A[u]+A[u+n]+1<<23&4278190080,u++,g[d++]=E;d+=o>>2,u+=o}else for(;h>d;){for(v=0;4>v;v++)E=A[u],u++,E|=A[u]<<8,u++,E|=A[u]<<16,u++,E|=A[u]<<24,u++,g[d++]=E;d+=o>>2,u+=o}n=this.halfWidth,o=n-8,a=e/2>>1,s=t/2>>1,c=1===(e/2&1),l=1===(t/2&1),u=((this.mbRow<<3)+s)*n+(this.mbCol<<3)+a,d=this.mbRow*n+this.mbCol<<1,h=d+(n<<1);var C,y,B,_,Q,b;if(c)if(l)for(;h>d;){for(C=i[u]+i[u+n],_=r[u]+r[u+n],u++,v=0;2>v;v++)y=i[u]+i[u+n],Q=r[u]+r[u+n],u++,B=C+y+2>>2&255,b=_+Q+2>>2&255,C=i[u]+i[u+n],_=r[u]+r[u+n],u++,B|=C+y+2<<6&65280,b|=_+Q+2<<6&65280,y=i[u]+i[u+n],Q=r[u]+r[u+n],u++,B|=C+y+2<<14&16711680,b|=_+Q+2<<14&16711680,C=i[u]+i[u+n],_=r[u]+r[u+n],u++,B|=C+y+2<<22&4278190080,b|=_+Q+2<<22&4278190080,f[d]=B,p[d]=b,d++;d+=o>>2,u+=o-1}else for(;h>d;){for(C=i[u],_=r[u],u++,v=0;2>v;v++)y=i[u],Q=r[u++],B=C+y+1>>1&255,b=_+Q+1>>1&255,C=i[u],_=r[u++],B|=C+y+1<<7&65280,b|=_+Q+1<<7&65280,y=i[u],Q=r[u++],B|=C+y+1<<15&16711680,b|=_+Q+1<<15&16711680,C=i[u],_=r[u++],B|=C+y+1<<23&4278190080,b|=_+Q+1<<23&4278190080,f[d]=B,p[d]=b,d++;d+=o>>2,u+=o-1}else if(l)for(;h>d;){for(v=0;2>v;v++)B=i[u]+i[u+n]+1>>1&255,b=r[u]+r[u+n]+1>>1&255,u++,B|=i[u]+i[u+n]+1<<7&65280,b|=r[u]+r[u+n]+1<<7&65280,u++,B|=i[u]+i[u+n]+1<<15&16711680,b|=r[u]+r[u+n]+1<<15&16711680,u++,B|=i[u]+i[u+n]+1<<23&4278190080,b|=r[u]+r[u+n]+1<<23&4278190080,u++,f[d]=B,p[d]=b,d++;d+=o>>2,u+=o}else for(;h>d;){for(v=0;2>v;v++)B=i[u],b=r[u],u++,B|=i[u]<<8,b|=r[u]<<8,u++,B|=i[u]<<16,b|=r[u]<<16,u++,B|=i[u]<<24,b|=r[u]<<24,u++,f[d]=B,p[d]=b,d++;d+=o>>2,u+=o}},e.prototype.dcPredictorY=0,e.prototype.dcPredictorCr=0,e.prototype.dcPredictorCb=0,e.prototype.blockData=null,e.prototype.decodeBlock=function(A){var i,r=0;if(this.macroblockIntra){var n,o;if(4>A?(n=this.dcPredictorY,o=this.readHuffman(e.DCT_DC_SIZE_LUMINANCE)):(n=4===A?this.dcPredictorCr:this.dcPredictorCb,o=this.readHuffman(e.DCT_DC_SIZE_CHROMINANCE)),o>0){var a=this.bits.read(o);0!==(a&1<<o-1)?this.blockData[0]=n+a:this.blockData[0]=n+(-1<<o|a+1)}else this.blockData[0]=n;4>A?this.dcPredictorY=this.blockData[0]:4===A?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,i=this.intraQuantMatrix,r=1}else i=this.nonIntraQuantMatrix;for(var s=0;;){var c=0,l=this.readHuffman(e.DCT_COEFF);if(1===l&&r>0&&0===this.bits.read(1))break;65535===l?(c=this.bits.read(6),s=this.bits.read(8),0===s?s=this.bits.read(8):128===s?s=this.bits.read(8)-256:s>128&&(s-=256)):(c=l>>8,s=255&l,this.bits.read(1)&&(s=-s)),r+=c;var u=e.ZIG_ZAG[r];r++,s<<=1,this.macroblockIntra||(s+=0>s?-1:1),s=s*this.quantizerScale*i[u]>>4,0===(1&s)&&(s-=s>0?1:-1),s>2047?s=2047:-2048>s&&(s=-2048),this.blockData[u]=s*e.PREMULTIPLIER_MATRIX[u]}var d,h,g;4>A?(d=this.currentY,g=this.codedWidth-8,h=this.mbRow*this.codedWidth+this.mbCol<<4,0!==(1&A)&&(h+=8),0!==(2&A)&&(h+=this.codedWidth<<3)):(d=4===A?this.currentCb:this.currentCr,g=(this.codedWidth>>1)-8,h=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===r?(e.CopyValueToDestination(this.blockData[0]+128>>8,d,h,g),this.blockData[0]=0):(e.IDCT(this.blockData),e.CopyBlockToDestination(this.blockData,d,h,g),t.Fill(this.blockData,0)):1===r?(e.AddValueToDestination(this.blockData[0]+128>>8,d,h,g),this.blockData[0]=0):(e.IDCT(this.blockData),e.AddBlockToDestination(this.blockData,d,h,g),t.Fill(this.blockData,0)),r=0},e.CopyBlockToDestination=function(e,t,A,i){for(var r=0;64>r;r+=8,A+=i+8)t[A+0]=e[r+0],t[A+1]=e[r+1],t[A+2]=e[r+2],t[A+3]=e[r+3],t[A+4]=e[r+4],t[A+5]=e[r+5],t[A+6]=e[r+6],t[A+7]=e[r+7]},e.AddBlockToDestination=function(e,t,A,i){for(var r=0;64>r;r+=8,A+=i+8)t[A+0]+=e[r+0],t[A+1]+=e[r+1],t[A+2]+=e[r+2],t[A+3]+=e[r+3],t[A+4]+=e[r+4],t[A+5]+=e[r+5],t[A+6]+=e[r+6],t[A+7]+=e[r+7]},e.CopyValueToDestination=function(e,t,A,i){for(var r=0;64>r;r+=8,A+=i+8)t[A+0]=e,t[A+1]=e,t[A+2]=e,t[A+3]=e,t[A+4]=e,t[A+5]=e,t[A+6]=e,t[A+7]=e},e.AddValueToDestination=function(e,t,A,i){for(var r=0;64>r;r+=8,A+=i+8)t[A+0]+=e,t[A+1]+=e,t[A+2]+=e,t[A+3]+=e,t[A+4]+=e,t[A+5]+=e,t[A+6]+=e,t[A+7]+=e},e.IDCT=function(e){for(var t,A,i,r,n,o,a,s,c,l,u,d,h,g,p,f,v,m,I=0;8>I;++I)t=e[32+I],A=e[16+I]+e[48+I],i=e[40+I]-e[24+I],o=e[8+I]+e[56+I],a=e[24+I]+e[40+I],r=e[8+I]-e[56+I],n=o+a,s=e[0+I],h=(473*r-196*i+128>>8)-n,c=h-(362*(o-a)+128>>8),l=s-t,u=(362*(e[16+I]-e[48+I])+128>>8)-A,d=s+t,g=l+u,p=d+A,f=l-u,v=d-A,m=-c-(473*i+196*r+128>>8),e[0+I]=n+p,e[8+I]=h+g,e[16+I]=f-c,e[24+I]=v-m,e[32+I]=v+m,e[40+I]=c+f,e[48+I]=g-h,e[56+I]=p-n;for(var I=0;64>I;I+=8)t=e[4+I],A=e[2+I]+e[6+I],i=e[5+I]-e[3+I],o=e[1+I]+e[7+I],a=e[3+I]+e[5+I],r=e[1+I]-e[7+I],n=o+a,s=e[0+I],h=(473*r-196*i+128>>8)-n,c=h-(362*(o-a)+128>>8),l=s-t,u=(362*(e[2+I]-e[6+I])+128>>8)-A,d=s+t,g=l+u,p=d+A,f=l-u,v=d-A,m=-c-(473*i+196*r+128>>8),e[0+I]=n+p+128>>8,e[1+I]=h+g+128>>8,e[2+I]=f-c+128>>8,e[3+I]=v-m+128>>8,e[4+I]=v+m+128>>8,e[5+I]=c+f+128>>8,e[6+I]=g-h+128>>8,e[7+I]=p-n+128>>8},e.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],e.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),e.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),e.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),e.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),e.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),e.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),e.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),e.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),e.MACROBLOCK_TYPE=[null,e.MACROBLOCK_TYPE_INTRA,e.MACROBLOCK_TYPE_PREDICTIVE,e.MACROBLOCK_TYPE_B],e.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),e.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),e.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),e.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),e.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),e.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},e.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178},e}(),t.Decoder.MPEG1VideoWASM=function(){"use strict";var A=function(e){t.Decoder.Base.call(this,e),this.onDecodeCallback=e.onVideoDecode,this.module=e.wasmModule,this.bufferSize=e.videoBufferSize||524288,this.bufferMode=e.streaming?t.BitBuffer.MODE.EVICT:t.BitBuffer.MODE.EXPAND,this.decodeFirstFrame=e.decodeFirstFrame!==!1,this.hasSequenceHeader=!1};return A.prototype=Object.create(t.Decoder.Base.prototype),A.prototype.constructor=A,A.prototype.initializeWasmDecoder=function(){return this.module.instance?(this.instance=this.module.instance,this.functions=this.module.instance.exports,void(this.decoder=this.functions._mpeg1_decoder_create(this.bufferSize,this.bufferMode))):void e.GameLog.warning("JSMpeg: WASM module not compiled yet")},A.prototype.destroy=function(){this.decoder&&this.functions._mpeg1_decoder_destroy(this.decoder)},A.prototype.bufferGetIndex=function(){return this.decoder?this.functions._mpeg1_decoder_get_index(this.decoder):void 0},A.prototype.bufferSetIndex=function(e){this.decoder&&this.functions._mpeg1_decoder_set_index(this.decoder,e)},A.prototype.bufferWrite=function(e){this.decoder||this.initializeWasmDecoder();for(var t=0,A=0;A<e.length;A++)t+=e[A].length;for(var i=this.functions._mpeg1_decoder_get_write_ptr(this.decoder,t),A=0;A<e.length;A++)this.instance.heapU8.set(e[A],i),i+=e[A].length;return this.functions._mpeg1_decoder_did_write(this.decoder,t),t},A.prototype.write=function(e,A){t.Decoder.Base.prototype.write.call(this,e,A),!this.hasSequenceHeader&&this.functions._mpeg1_decoder_has_sequence_header(this.decoder)&&this.loadSequnceHeader()},A.prototype.loadSequnceHeader=function(){if(this.hasSequenceHeader=!0,this.frameRate=this.functions._mpeg1_decoder_get_frame_rate(this.decoder),this.codedSize=this.functions._mpeg1_decoder_get_coded_size(this.decoder),this.destination){var e=this.functions._mpeg1_decoder_get_width(this.decoder),t=this.functions._mpeg1_decoder_get_height(this.decoder);this.destination.resize(e,t)}this.decodeFirstFrame&&this.decode()},A.prototype.decode=function(){var e=t.Now();if(!this.decoder)return!1;var A=this.functions._mpeg1_decoder_decode(this.decoder);if(!A)return!1;if(this.destination){var i=this.functions._mpeg1_decoder_get_y_ptr(this.decoder),r=this.functions._mpeg1_decoder_get_cr_ptr(this.decoder),n=this.functions._mpeg1_decoder_get_cb_ptr(this.decoder),o=this.instance.heapU8.subarray(i,i+this.codedSize),a=this.instance.heapU8.subarray(r,r+(this.codedSize>>2)),s=this.instance.heapU8.subarray(n,n+(this.codedSize>>2));this.destination.render(o,a,s,!1)}this.advanceDecodedTime(1/this.frameRate);var c=t.Now()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,c),!0},A}(),t.Decoder.MP2Audio=function(){"use strict";var e=function(A){t.Decoder.Base.call(this,A),this.onDecodeCallback=A.onAudioDecode;var i=A.audioBufferSize||131072,r=A.streaming?t.BitBuffer.MODE.EVICT:t.BitBuffer.MODE.EXPAND;this.bits=new t.BitBuffer(i,r),this.left=new Float32Array(1152),this.right=new Float32Array(1152),this.sampleRate=44100,this.D=new Float32Array(1024),this.D.set(e.SYNTHESIS_WINDOW,0),this.D.set(e.SYNTHESIS_WINDOW,512),this.V=[new Float32Array(1024),new Float32Array(1024)],this.U=new Int32Array(32),this.VPos=0,this.allocation=[new Array(32),new Array(32)],this.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],this.scaleFactor=[new Array(32),new Array(32)],this.sample=[new Array(32),new Array(32)];for(var n=0;2>n;n++)for(var o=0;32>o;o++)this.scaleFactor[n][o]=[0,0,0],this.sample[n][o]=[0,0,0]};return e.prototype=Object.create(t.Decoder.Base.prototype),e.prototype.constructor=e,e.prototype.decode=function(){var e=t.Now(),A=this.bits.index>>3;if(A>=this.bits.byteLength)return!1;var i=this.decodeFrame(this.left,this.right);if(this.bits.index=A+i<<3,!i)return!1;this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate);var r=t.Now()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,r),!0},e.prototype.getCurrentTime=function(){var e=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-e},e.prototype.decodeFrame=function(A,i){var r=this.bits.read(11),n=this.bits.read(2),o=this.bits.read(2),a=!this.bits.read(1);if(r!==e.FRAME_SYNC||n!==e.VERSION.MPEG_1||o!==e.LAYER.II)return 0;var s=this.bits.read(4)-1;if(s>13)return 0;var c=this.bits.read(2),l=e.SAMPLE_RATE[c];if(3===c)return 0;n===e.VERSION.MPEG_2&&(c+=4,s+=14);var u=this.bits.read(1),d=(this.bits.read(1),this.bits.read(2)),h=0;d===e.MODE.JOINT_STEREO?h=this.bits.read(2)+1<<2:(this.bits.skip(2),h=d===e.MODE.MONO?0:32),this.bits.skip(4),a&&this.bits.skip(16);var g=e.BIT_RATE[s],l=e.SAMPLE_RATE[c],p=144e3*g/l+u|0,f=0,v=0;if(n===e.VERSION.MPEG_2)f=2,v=30;else{var m=d===e.MODE.MONO?0:1,I=e.QUANT_LUT_STEP_1[m][s];f=e.QUANT_LUT_STEP_2[I][c],v=63&f,f>>=6}h>v&&(h=v);for(var E=0;h>E;E++)this.allocation[0][E]=this.readAllocation(E,f),this.allocation[1][E]=this.readAllocation(E,f);for(var E=h;v>E;E++)this.allocation[0][E]=this.allocation[1][E]=this.readAllocation(E,f);
for(var C=d===e.MODE.MONO?1:2,E=0;v>E;E++){for(y=0;C>y;y++)this.allocation[y][E]&&(this.scaleFactorInfo[y][E]=this.bits.read(2));d===e.MODE.MONO&&(this.scaleFactorInfo[1][E]=this.scaleFactorInfo[0][E])}for(var E=0;v>E;E++){for(var y=0;C>y;y++)if(this.allocation[y][E]){var B=this.scaleFactor[y][E];switch(this.scaleFactorInfo[y][E]){case 0:B[0]=this.bits.read(6),B[1]=this.bits.read(6),B[2]=this.bits.read(6);break;case 1:B[0]=B[1]=this.bits.read(6),B[2]=this.bits.read(6);break;case 2:B[0]=B[1]=B[2]=this.bits.read(6);break;case 3:B[0]=this.bits.read(6),B[1]=B[2]=this.bits.read(6)}}d===e.MODE.MONO&&(this.scaleFactor[1][E][0]=this.scaleFactor[0][E][0],this.scaleFactor[1][E][1]=this.scaleFactor[0][E][1],this.scaleFactor[1][E][2]=this.scaleFactor[0][E][2])}for(var _=0,Q=0;3>Q;Q++)for(var b=0;4>b;b++){for(var E=0;h>E;E++)this.readSamples(0,E,Q),this.readSamples(1,E,Q);for(var E=h;v>E;E++)this.readSamples(0,E,Q),this.sample[1][E][0]=this.sample[0][E][0],this.sample[1][E][1]=this.sample[0][E][1],this.sample[1][E][2]=this.sample[0][E][2];for(var E=v;32>E;E++)this.sample[0][E][0]=0,this.sample[0][E][1]=0,this.sample[0][E][2]=0,this.sample[1][E][0]=0,this.sample[1][E][1]=0,this.sample[1][E][2]=0;for(var w=0;3>w;w++){this.VPos=this.VPos-64&1023;for(var y=0;2>y;y++){e.MatrixTransform(this.sample[y],w,this.V[y],this.VPos),t.Fill(this.U,0);for(var S=512-(this.VPos>>1),D=this.VPos%128>>1;1024>D;){for(var M=0;32>M;++M)this.U[M]+=this.D[S++]*this.V[y][D++];D+=96,S+=32}for(D=1120-D,S-=480;1024>D;){for(var M=0;32>M;++M)this.U[M]+=this.D[S++]*this.V[y][D++];D+=96,S+=32}for(var T=0===y?A:i,R=0;32>R;R++)T[_+R]=this.U[R]/2147418112}_+=32}}return this.sampleRate=l,p},e.prototype.readAllocation=function(t,A){var i=e.QUANT_LUT_STEP_3[A][t],r=e.QUANT_LUT_STEP4[15&i][this.bits.read(i>>4)];return r?e.QUANT_TAB[r-1]:0},e.prototype.readSamples=function(t,A,i){var r=this.allocation[t][A],n=this.scaleFactor[t][A][i],o=this.sample[t][A],a=0;if(!r)return void(o[0]=o[1]=o[2]=0);if(63===n)n=0;else{var s=n/3|0;n=e.SCALEFACTOR_BASE[n%3]+(1<<s>>1)>>s}var c=r.levels;r.group?(a=this.bits.read(r.bits),o[0]=a%c,a=a/c|0,o[1]=a%c,o[2]=a/c|0):(o[0]=this.bits.read(r.bits),o[1]=this.bits.read(r.bits),o[2]=this.bits.read(r.bits));var l=65536/(c+1)|0;c=(c+1>>1)-1,a=(c-o[0])*l,o[0]=a*(n>>12)+(a*(4095&n)+2048>>12)>>12,a=(c-o[1])*l,o[1]=a*(n>>12)+(a*(4095&n)+2048>>12)>>12,a=(c-o[2])*l,o[2]=a*(n>>12)+(a*(4095&n)+2048>>12)>>12},e.MatrixTransform=function(e,t,A,i){var r,n,o,a,s,c,l,u,d,h,g,p,f,v,m,I,E,C,y,B,_,Q,b,w,S,D,M,T,R,k,L,x,F;r=e[0][t]+e[31][t],n=.500602998235*(e[0][t]-e[31][t]),o=e[1][t]+e[30][t],a=.505470959898*(e[1][t]-e[30][t]),s=e[2][t]+e[29][t],c=.515447309923*(e[2][t]-e[29][t]),l=e[3][t]+e[28][t],u=.53104259109*(e[3][t]-e[28][t]),d=e[4][t]+e[27][t],h=.553103896034*(e[4][t]-e[27][t]),g=e[5][t]+e[26][t],p=.582934968206*(e[5][t]-e[26][t]),f=e[6][t]+e[25][t],v=.622504123036*(e[6][t]-e[25][t]),m=e[7][t]+e[24][t],I=.674808341455*(e[7][t]-e[24][t]),E=e[8][t]+e[23][t],C=.744536271002*(e[8][t]-e[23][t]),y=e[9][t]+e[22][t],B=.839349645416*(e[9][t]-e[22][t]),_=e[10][t]+e[21][t],Q=.972568237862*(e[10][t]-e[21][t]),b=e[11][t]+e[20][t],w=1.16943993343*(e[11][t]-e[20][t]),S=e[12][t]+e[19][t],D=1.48416461631*(e[12][t]-e[19][t]),M=e[13][t]+e[18][t],T=2.05778100995*(e[13][t]-e[18][t]),R=e[14][t]+e[17][t],k=3.40760841847*(e[14][t]-e[17][t]),L=e[15][t]+e[16][t],x=10.1900081235*(e[15][t]-e[16][t]),F=r+L,L=.502419286188*(r-L),r=o+R,R=.52249861494*(o-R),o=s+M,M=.566944034816*(s-M),s=l+S,S=.64682178336*(l-S),l=d+b,b=.788154623451*(d-b),d=g+_,_=1.06067768599*(g-_),g=f+y,y=1.72244709824*(f-y),f=m+E,E=5.10114861869*(m-E),m=F+f,f=.509795579104*(F-f),F=r+g,r=.601344886935*(r-g),g=o+d,d=.899976223136*(o-d),o=s+l,l=2.56291544774*(s-l),s=m+o,m=.541196100146*(m-o),o=F+g,g=1.30656296488*(F-g),F=s+o,s=.707106781187*(s-o),o=m+g,m=.707106781187*(m-g),o+=m,g=f+l,f=.541196100146*(f-l),l=r+d,d=1.30656296488*(r-d),r=g+l,l=.707106781187*(g-l),g=f+d,f=.707106781187*(f-d),g+=f,r+=g,g+=l,l+=f,d=L+E,L=.509795579104*(L-E),E=R+y,R=.601344886935*(R-y),y=M+_,_=.899976223136*(M-_),M=S+b,b=2.56291544774*(S-b),S=d+M,d=.541196100146*(d-M),M=E+y,y=1.30656296488*(E-y),E=S+M,M=.707106781187*(S-M),S=d+y,y=.707106781187*(d-y),S+=y,d=L+b,L=.541196100146*(L-b),b=R+_,_=1.30656296488*(R-_),R=d+b,b=.707106781187*(d-b),d=L+_,L=.707106781187*(L-_),d+=L,R+=d,d+=b,b+=L,E+=R,R+=S,S+=d,d+=M,M+=b,b+=y,y+=L,_=n+x,n=.502419286188*(n-x),x=a+k,a=.52249861494*(a-k),k=c+T,T=.566944034816*(c-T),c=u+D,u=.64682178336*(u-D),D=h+w,h=.788154623451*(h-w),w=p+Q,Q=1.06067768599*(p-Q),p=v+B,B=1.72244709824*(v-B),v=I+C,I=5.10114861869*(I-C),C=_+v,v=.509795579104*(_-v),_=x+p,x=.601344886935*(x-p),p=k+w,w=.899976223136*(k-w),k=c+D,D=2.56291544774*(c-D),c=C+k,C=.541196100146*(C-k),k=_+p,p=1.30656296488*(_-p),_=c+k,k=.707106781187*(c-k),c=C+p,p=.707106781187*(C-p),c+=p,C=v+D,D=.541196100146*(v-D),v=x+w,w=1.30656296488*(x-w),x=C+v,v=.707106781187*(C-v),C=D+w,w=.707106781187*(D-w),C+=w,x+=C,C+=v,D=v+w,v=n+I,n=.509795579104*(n-I),I=a+B,a=.601344886935*(a-B),B=T+Q,Q=.899976223136*(T-Q),T=u+h,h=2.56291544774*(u-h),u=v+T,v=.541196100146*(v-T),T=I+B,B=1.30656296488*(I-B),I=u+T,T=.707106781187*(u-T),u=v+B,B=.707106781187*(v-B),u+=B,v=n+h,n=.541196100146*(n-h),h=a+Q,Q=1.30656296488*(a-Q),a=v+h,h=.707106781187*(v-h),v=n+Q,n=.707106781187*(n-Q),v+=n,a+=v,v+=h,h+=n,I+=a,a+=u,u+=v,v+=T,T+=h,h+=B,B+=n,_+=I,I+=x,x+=a,a+=c,c+=u,u+=C,C+=v,v+=k,k+=T,T+=D,D+=h,h+=p,p+=B,B+=w,w+=n,A[i+48]=-F,A[i+49]=A[i+47]=-_,A[i+50]=A[i+46]=-E,A[i+51]=A[i+45]=-I,A[i+52]=A[i+44]=-r,A[i+53]=A[i+43]=-x,A[i+54]=A[i+42]=-R,A[i+55]=A[i+41]=-a,A[i+56]=A[i+40]=-o,A[i+57]=A[i+39]=-c,A[i+58]=A[i+38]=-S,A[i+59]=A[i+37]=-u,A[i+60]=A[i+36]=-g,A[i+61]=A[i+35]=-C,A[i+62]=A[i+34]=-d,A[i+63]=A[i+33]=-v,A[i+32]=-s,A[i+0]=s,A[i+31]=-k,A[i+1]=k,A[i+30]=-M,A[i+2]=M,A[i+29]=-T,A[i+3]=T,A[i+28]=-l,A[i+4]=l,A[i+27]=-D,A[i+5]=D,A[i+26]=-b,A[i+6]=b,A[i+25]=-h,A[i+7]=h,A[i+24]=-m,A[i+8]=m,A[i+23]=-p,A[i+9]=p,A[i+22]=-y,A[i+10]=y,A[i+21]=-B,A[i+11]=B,A[i+20]=-f,A[i+12]=f,A[i+19]=-w,A[i+13]=w,A[i+18]=-L,A[i+14]=L,A[i+17]=-n,A[i+15]=n,A[i+16]=0},e.FRAME_SYNC=2047,e.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},e.LAYER={III:1,II:2,I:3},e.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},e.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),e.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),e.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),e.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),e.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],e.QUANT_TAB={A:91,B:94,C:8,D:12},e.QUANT_LUT_STEP_2=[[e.QUANT_TAB.C,e.QUANT_TAB.C,e.QUANT_TAB.D],[e.QUANT_TAB.A,e.QUANT_TAB.A,e.QUANT_TAB.A],[e.QUANT_TAB.B,e.QUANT_TAB.A,e.QUANT_TAB.B]],e.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],e.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],e.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}],e}(),t.Decoder.MP2AudioWASM=function(){"use strict";var A=function(e){t.Decoder.Base.call(this,e),this.onDecodeCallback=e.onAudioDecode,this.module=e.wasmModule,this.bufferSize=e.audioBufferSize||131072,this.bufferMode=e.streaming?t.BitBuffer.MODE.EVICT:t.BitBuffer.MODE.EXPAND,this.sampleRate=0};return A.prototype=Object.create(t.Decoder.Base.prototype),A.prototype.constructor=A,A.prototype.initializeWasmDecoder=function(){return this.module.instance?(this.instance=this.module.instance,this.functions=this.module.instance.exports,void(this.decoder=this.functions._mp2_decoder_create(this.bufferSize,this.bufferMode))):void e.GameLog.warning("JSMpeg: WASM module not compiled yet")},A.prototype.destroy=function(){this.decoder&&this.functions._mp2_decoder_destroy(this.decoder)},A.prototype.bufferGetIndex=function(){return this.decoder?this.functions._mp2_decoder_get_index(this.decoder):void 0},A.prototype.bufferSetIndex=function(e){this.decoder&&this.functions._mp2_decoder_set_index(this.decoder,e)},A.prototype.bufferWrite=function(e){this.decoder||this.initializeWasmDecoder();for(var t=0,A=0;A<e.length;A++)t+=e[A].length;for(var i=this.functions._mp2_decoder_get_write_ptr(this.decoder,t),A=0;A<e.length;A++)this.instance.heapU8.set(e[A],i),i+=e[A].length;return this.functions._mp2_decoder_did_write(this.decoder,t),t},A.prototype.decode=function(){var e=t.Now();if(!this.decoder)return!1;var i=this.functions._mp2_decoder_decode(this.decoder);if(0===i)return!1;if(this.sampleRate||(this.sampleRate=this.functions._mp2_decoder_get_sample_rate(this.decoder)),this.destination){var r=this.functions._mp2_decoder_get_left_channel_ptr(this.decoder),n=this.functions._mp2_decoder_get_right_channel_ptr(this.decoder),o=r/Float32Array.BYTES_PER_ELEMENT,a=n/Float32Array.BYTES_PER_ELEMENT,s=this.instance.heapF32.subarray(o,o+A.SAMPLES_PER_FRAME),c=this.instance.heapF32.subarray(a,a+A.SAMPLES_PER_FRAME);this.destination.play(this.sampleRate,s,c)}this.advanceDecodedTime(A.SAMPLES_PER_FRAME/this.sampleRate);var l=t.Now()-e;return this.onDecodeCallback&&this.onDecodeCallback(this,l),!0},A.prototype.getCurrentTime=function(){var e=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-e},A.SAMPLES_PER_FRAME=1152,A}(),t.Renderer.Canvas2D=function(){"use strict";var e=function(e){e.canvas?(this.canvas=e.canvas,this.ownsCanvasElement=!1):(this.canvas=document.createElement("canvas"),this.ownsCanvasElement=!0),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")};return e.prototype.destroy=function(){this.ownsCanvasElement&&this.canvas.remove()},e.prototype.resize=function(e,A){this.width=0|e,this.height=0|A,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),t.Fill(this.imageData.data,255)},e.prototype.renderProgress=function(e){var t=this.canvas.width,A=this.canvas.height,i=this.context;i.fillStyle="#222",i.fillRect(0,0,t,A),i.fillStyle="#fff",i.fillRect(0,A-A*e,t,A*e)},e.prototype.render=function(e,t,A){this.YCbCrToRGBA(e,t,A,this.imageData.data),this.context.putImageData(this.imageData,0,0)},e.prototype.YCbCrToRGBA=function(e,t,A,i){if(this.enabled)for(var r,n,o,a,s,c=this.width+15>>4<<4,l=c>>1,u=0,d=c,h=c+(c-this.width),g=0,p=l-(this.width>>1),f=0,v=4*this.width,m=4*this.width,I=this.width>>1,E=this.height>>1,C=0;E>C;C++){for(var y=0;I>y;y++){r=t[g],n=A[g],g++,o=r+(103*r>>8)-179,a=(88*n>>8)-44+(183*r>>8)-91,s=n+(198*n>>8)-227;var B=e[u++],_=e[u++];i[f]=B+o,i[f+1]=B-a,i[f+2]=B+s,i[f+4]=_+o,i[f+5]=_-a,i[f+6]=_+s,f+=8;var Q=e[d++],b=e[d++];i[v]=Q+o,i[v+1]=Q-a,i[v+2]=Q+s,i[v+4]=b+o,i[v+5]=b-a,i[v+6]=b+s,v+=8}u+=h,d+=h,f+=m,v+=m,g+=p}},e}(),t.Renderer.WebGL=function(){"use strict";var t=function(e){e.canvas?(this.canvas=e.canvas,this.ownsCanvasElement=!1):(this.canvas=document.createElement("canvas"),this.ownsCanvasElement=!0),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.hasTextureData={};var A={preserveDrawingBuffer:!!e.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1};if(this.gl=this.canvas.getContext("webgl",A)||this.canvas.getContext("experimental-webgl",A),!this.gl)throw new Error("Failed to get WebGL Context");var i=this.gl,r=null;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.vertexBuffer=i.createBuffer();var n=new Float32Array([0,0,0,1,1,0,1,1]);i.bindBuffer(i.ARRAY_BUFFER,this.vertexBuffer),i.bufferData(i.ARRAY_BUFFER,n,i.STATIC_DRAW),this.program=this.createProgram(t.SHADER.VERTEX_IDENTITY,t.SHADER.FRAGMENT_YCRCB_TO_RGBA),r=i.getAttribLocation(this.program,"vertex"),i.enableVertexAttribArray(r),i.vertexAttribPointer(r,2,i.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(t.SHADER.VERTEX_IDENTITY,t.SHADER.FRAGMENT_LOADING),r=i.getAttribLocation(this.loadingProgram,"vertex"),i.enableVertexAttribArray(r),i.vertexAttribPointer(r,2,i.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()};return t.prototype.destroy=function(){var e=this.gl;this.deleteTexture(e.TEXTURE0,this.textureY),this.deleteTexture(e.TEXTURE1,this.textureCb),this.deleteTexture(e.TEXTURE2,this.textureCr),e.useProgram(null),e.deleteProgram(this.program),e.deleteProgram(this.loadingProgram),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.vertexBuffer),e.getExtension("WEBGL_lose_context").loseContext(),this.ownsCanvasElement&&this.canvas.remove&&this.canvas.remove()},t.prototype.resize=function(e,t){this.width=0|e,this.height=0|t,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program);var A=this.width+15>>4<<4;this.gl.viewport(0,0,A,this.height)},t.prototype.createTexture=function(e,t){var A=this.gl,i=A.createTexture();return A.bindTexture(A.TEXTURE_2D,i),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,A.LINEAR),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(A.TEXTURE_2D,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),A.uniform1i(A.getUniformLocation(this.program,t),e),i},t.prototype.createProgram=function(e,t){var A=this.gl,i=A.createProgram();return A.attachShader(i,this.compileShader(A.VERTEX_SHADER,e)),A.attachShader(i,this.compileShader(A.FRAGMENT_SHADER,t)),A.linkProgram(i),A.useProgram(i),i},t.prototype.compileShader=function(e,t){var A=this.gl,i=A.createShader(e);if(A.shaderSource(i,t),A.compileShader(i),!A.getShaderParameter(i,A.COMPILE_STATUS))throw new Error(A.getShaderInfoLog(i));return i},t.prototype.allowsClampedTextureData=function(){var e=this.gl,t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.LUMINANCE,1,1,0,e.LUMINANCE,e.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===e.getError()},t.prototype.renderProgress=function(e){var t=this.gl;t.useProgram(this.loadingProgram);var A=t.getUniformLocation(this.loadingProgram,"progress");t.uniform1f(A,e),t.drawArrays(t.TRIANGLE_STRIP,0,4)},t.prototype.render=function(e,t,A,i){if(this.enabled){var r=this.gl,n=this.width+15>>4<<4,o=this.height,a=n>>1,s=o>>1;i&&this.shouldCreateUnclampedViews&&(e=new Uint8Array(e.buffer),t=new Uint8Array(t.buffer),A=new Uint8Array(A.buffer)),r.useProgram(this.program),this.updateTexture(r.TEXTURE0,this.textureY,n,o,e),this.updateTexture(r.TEXTURE1,this.textureCb,a,s,t),this.updateTexture(r.TEXTURE2,this.textureCr,a,s,A),r.drawArrays(r.TRIANGLE_STRIP,0,4)}},t.prototype.updateTexture=function(e,t,A,i,r){var n=this.gl;n.activeTexture(e),n.bindTexture(n.TEXTURE_2D,t),this.hasTextureData[e]?n.texSubImage2D(n.TEXTURE_2D,0,0,0,A,i,n.LUMINANCE,n.UNSIGNED_BYTE,r):(this.hasTextureData[e]=!0,n.texImage2D(n.TEXTURE_2D,0,n.LUMINANCE,A,i,0,n.LUMINANCE,n.UNSIGNED_BYTE,r))},t.prototype.deleteTexture=function(e,t){var A=this.gl;A.activeTexture(e),A.bindTexture(A.TEXTURE_2D,null),A.deleteTexture(t)},t.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas");return!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(A){return e.GameLog.error("WebGLRenderer.IsSupported error：",A),!1}},t.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")},t}(),t.AudioOutput.WebAudio=function(){"use strict";var e=function(t){this.context=e.CachedContext=e.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.destination=this.gain,this.gain.connect(this.context.destination),this.context._connections=(this.context._connections||0)+1,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!e.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})};return e.prototype.destroy=function(){this.gain.disconnect(),this.context._connections--,0===this.context._connections&&(this.context.close(),e.CachedContext=null)},e.prototype.play=function(e,A,i){if(this.enabled){if(!this.unlocked){var r=t.Now();return this.wallclockStartTime<r&&(this.wallclockStartTime=r),void(this.wallclockStartTime+=A.length/e)}this.gain.gain.value=this.volume;var n=this.context.createBuffer(2,A.length,e);n.getChannelData(0).set(A),n.getChannelData(1).set(i);var o=this.context.createBufferSource();o.buffer=n,o.connect(this.destination);var a=this.context.currentTime,s=n.duration;this.startTime<a&&(this.startTime=a,this.wallclockStartTime=t.Now()),o.start(this.startTime),this.startTime+=s,this.wallclockStartTime+=s}},e.prototype.stop=function(){this.gain.gain.value=0},e.prototype.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-t.Now(),0)},e.prototype.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=t.Now()},e.prototype.unlock=function(e){if(this.unlocked)return void(e&&e());this.unlockCallback=e;var t=this.context.createBuffer(1,1,22050),A=this.context.createBufferSource();A.buffer=t,A.connect(this.destination),A.start(0),setTimeout(this.checkIfUnlocked.bind(this,A,0),0)},e.prototype.checkIfUnlocked=function(e,t){e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):10>t&&setTimeout(this.checkIfUnlocked.bind(this,e,t+1),100)},e.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},e.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},e.CachedContext=null,e}(),t.WASMModule=function(){"use strict";var A=function(){this.stackSize=5242880,this.pageSize=65536,this.onInitCallback=null,this.ready=!1};return A.prototype.write=function(e){this.loadFromBuffer(e,this.onInitCallback)},A.prototype.loadFromFile=function(e,A){this.onInitCallback=A;var i=new t.Source.Ajax(e,{});i.connect(this),i.start()},A.prototype.loadFromBuffer=function(e,t){var A=window.WebAssembly;if(this.moduleInfo=this.readDylinkSection(e),!this.moduleInfo)return void(this.callback&&this.callback(null));this.memory=new A.Memory({initial:256});var i={memory:this.memory,memoryBase:0,__memory_base:0,table:new A.Table({initial:this.moduleInfo.tableSize,element:"anyfunc"}),tableBase:0,__table_base:0,abort:this.c_abort.bind(this),___assert_fail:this.c_assertFail.bind(this),_sbrk:this.c_sbrk.bind(this)};this.brk=this.align(this.moduleInfo.memorySize+this.stackSize),A.instantiate(e,{env:i}).then(function(e){this.instance=e.instance,this.instance.exports.__post_instantiate&&this.instance.exports.__post_instantiate(),this.createHeapViews(),this.ready=!0,t&&t(this)}.bind(this))},A.prototype.createHeapViews=function(){this.instance.heapU8=new Uint8Array(this.memory.buffer),this.instance.heapU32=new Uint32Array(this.memory.buffer),this.instance.heapF32=new Float32Array(this.memory.buffer)},A.prototype.align=function(e){var t=Math.pow(2,this.moduleInfo.memoryAlignment);return Math.ceil(e/t)*t},A.prototype.c_sbrk=function(e){var t=this.brk;if(this.brk+=e,this.brk>this.memory.buffer.byteLength){var A=this.brk-this.memory.buffer.byteLength,i=Math.ceil(A/this.pageSize);this.memory.grow(i),this.createHeapViews()}return t},A.prototype.c_abort=function(t){e.GameLog.warning("JSMPeg: WASM abort",arguments)},A.prototype.c_assertFail=function(t){e.GameLog.warning("JSMPeg: WASM ___assert_fail",arguments)},A.prototype.readDylinkSection=function(t){var A=new Uint8Array(t),i=0,r=function(){for(var e=0,t=1;;){var r=A[i++];if(e+=(127&r)*t,t*=128,!(128&r))return e}},n=function(e){for(var t=0;t<e.length;t++){var r="string"==typeof e[t]?e[t].charCodeAt(0):e[t];if(A[i++]!==r)return!1}return!0};if(!n([0,"a","s","m"]))return e.GameLog.warning("JSMpeg: WASM header not found"),null;var i=9;r();return n([6,"d","y","l","i","n","k"])?{memorySize:r(),memoryAlignment:r(),tableSize:r(),tableAlignment:r()}:(e.GameLog.warning("JSMpeg: No dylink section found in WASM"),null)},A.IsSupported=function(){return!!window.WebAssembly},A.GetModule=function(){return A.CACHED_MODULE=A.CACHED_MODULE||new A,A.CACHED_MODULE},A}(),t.WASM_BINARY_INLINED="AGFzbQEAAAAADwZkeWxpbmuA0MACBAAAAAE0CWAEf39/fwBgAX8Bf2ACf38Bf2ABfwBgAn9/AGABfwF9YAZ/f39/f38AYAN/f38Bf2AAAAJGBANlbnYOX19fYXNzZXJ0X2ZhaWwAAANlbnYFX3NicmsAAQNlbnYNX19tZW1vcnlfYmFzZQN/AANlbnYGbWVtb3J5AgCAAgM9PAIDAgEEBAMBBQEBAQEBAQEDBAMGAwQAAwAAAAIDAgEEBAEBAQEBAAACAwIBAgECAQEBAQMEAwMCBwcHCAYLAn8BQQALfwFBAAsHggYfEl9fcG9zdF9pbnN0YW50aWF0ZQA9BV9mcmVlADgHX21hbGxvYwAxB19tZW1jcHkAOghfbWVtbW92ZQA7B19tZW1zZXQAPBNfbXAyX2RlY29kZXJfY3JlYXRlAB0TX21wMl9kZWNvZGVyX2RlY29kZQAmFF9tcDJfZGVjb2Rlcl9kZXN0cm95AB4WX21wMl9kZWNvZGVyX2RpZF93cml0ZQAiFl9tcDJfZGVjb2Rlcl9nZXRfaW5kZXgAICFfbXAyX2RlY29kZXJfZ2V0X2xlZnRfY2hhbm5lbF9wdHIAJCJfbXAyX2RlY29kZXJfZ2V0X3JpZ2h0X2NoYW5uZWxfcHRyACUcX21wMl9kZWNvZGVyX2dldF9zYW1wbGVfcmF0ZQAjGl9tcDJfZGVjb2Rlcl9nZXRfd3JpdGVfcHRyAB8WX21wMl9kZWNvZGVyX3NldF9pbmRleAAhFV9tcGVnMV9kZWNvZGVyX2NyZWF0ZQACFV9tcGVnMV9kZWNvZGVyX2RlY29kZQARFl9tcGVnMV9kZWNvZGVyX2Rlc3Ryb3kAAxhfbXBlZzFfZGVjb2Rlcl9kaWRfd3JpdGUABxlfbXBlZzFfZGVjb2Rlcl9nZXRfY2JfcHRyABAdX21wZWcxX2RlY29kZXJfZ2V0X2NvZGVkX3NpemUACxlfbXBlZzFfZGVjb2Rlcl9nZXRfY3JfcHRyAA8dX21wZWcxX2RlY29kZXJfZ2V0X2ZyYW1lX3JhdGUAChlfbXBlZzFfZGVjb2Rlcl9nZXRfaGVpZ2h0AA0YX21wZWcxX2RlY29kZXJfZ2V0X2luZGV4AAUYX21wZWcxX2RlY29kZXJfZ2V0X3dpZHRoAAwcX21wZWcxX2RlY29kZXJfZ2V0X3dy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BQJ/IANBzQBHDQIgACgCgAFBBhAwIQMCQAJAIAAoAoABQQgQMCIEIgYEQCAGQYABRgRADAIFDAMLAAsgACgCgAFBCBAwDAILIAAoAoABQQgQMEGAfmoMAQsgBEGAfmogBCAEQYABShsLCyEEDAELIAZB/wFxIgNBACADayAAKAKAAUEBEDBFGyEEIAZBCHUhAwsgAiADaiIGIwBBQGtqLQAAIgMgBWotAAAgACgCREEAIARBAXQiAkEfdUEBciAAKAJcGyACamxsIgJBBHVBAEEBQX8gAkEPShsgAkEQcRtrIgJBgHAgAkGAcEobIQIgAEGcAWogA0ECdGogAyMAQZA1amotAAAgAkH/DyACQf8PSBtsNgIAIAZBAWohAgwBCwsgAUEESARAIABBhAFqIQUgAUEDdEEIcSAAKAJUIAAoAhgiAyAAKAJQbGpBBHRyIANBA3RBACABQQJxG2ohBAUgAEGMAWogAEGIAWogAUEERhshBSAAKAJQIAAoAhgiAUECdGwgACgCVEEDdGohBCABQQF1IQMLIANBeGohAyAFKAIAIQUgAkEBRiECIABBnAFqIQEgACgCXARAIAIEQCABKAIAQYABakEIdSAFIAQgAxAYIAFBADYCAAUgARAZIAEgBSAEIAMQGiABQQBBgAIQPBoLBSACBEAgASgCAEGAAWpBCHUgBSAEIAMQGyABQQA2AgAFIAEQGSABIAUgBCADEBwgAUEAQYACEDwaCwsL7AYAIAEgAmogAEEAIABBAEobIgBB/wEgAEH/AUgbQf8BcSIAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA0EIaiIDaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA2oiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASACIANqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAiADaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA2oiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASACIANqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAiADaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAAAubBgEUfwNAIAFBEGpBAnQgAGoiBygCACIGIAFBMGpBAnQgAGoiDSgCACIJaiEFIAFBCGpBAnQgAGoiDigCACICIAFBOGpBAnQgAGoiDygCACIDaiEEIAIgA2siEEHZA2wgAUEoakECdCAAaiIKKAIAIgIgAUEYakECdCAAaiIRKAIAIgNrIgtBvH5sQYABampBCHUgBCACIANqIghqIgJrIgMgBCAIa0HqAmxBgAFqQQh1ayEEIAFBAnQgAGoiCCgCACIMIAFBIGpBAnQgAGoiEigCACITayIUIAYgCWtB6gJsQYABakEIdSAFayIJaiEGIAggAiAMIBNqIgggBWoiDGo2AgAgDiADIAZqNgIAIAcgFCAJayIHIARrNgIAIBEgC0HZA2xBgAFqIBBBxAFsakEIdSAEaiIJIAggBWsiBWo2AgAgEiAFIAlrNgIAIAogBCAHajYCACANIAYgA2s2AgAgDyAMIAJr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aiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAiAFIAI2AgAMAgsgBSAAKAIIQQYQMDYCACAAIANBgANsaiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAgsLCyADQQFqIgMgCEkNAAsgAUEBaiIBIAtHDQALCwsLaiALQSBJIRsgAEHMtgFqIQQgAEHMCGohHCAAQcz2AGohHSAAQcwLaiEeIABBzJYBaiEfA0BBACEWIBQhAwNAIBgEQEEAIQEDQCAAQQAgASAOECggAEEBIAEgDhAoIAFBAWoiASANSA0ACwsgGQRAIA0hAQNAIABBACABIA4QKCAAQcwLaiABQQxsaiAAQcwIaiABQQxsaigCADYCACAAIAFBDGxqQdALaiAAIAFBDGxqQdAIaigCADYCACAAIAFBDGxqQdQLaiAAIAFBDGxqQdQIaigCADYCACABQQFqIgEgC0gNAAsLIBsEQCALIQEDQCAAQcwIaiABQQxsakEANgIAIAAgAUEMbGpB0AhqQQA2AgAgACABQQxsakHUCGpBADYCACAAQcwLaiABQQxsakEANgIAIAAgAUEMbGpB0AtqQQA2AgAgACABQQxsakHUC2pBADYCACABQQFqIgFBIEcNAAsLIAAoAgQhASADIRFBACESA0AgACABQcAHakH/B3EiATYCBCAcIBIgHSABECkgBEIANwIAIARCADcCCCAEQgA3AhAgBEIANwIYIARCADcCICAEQgA3AiggBEIANwIwIARCADcCOCAEQUBrQgA3AgAgBEIANwJIIARCADcCUCAEQgA3AlggBEIANwJgIARCADcCaCAEQgA3AnAgBEIANwJ4IAAoAgQiD0EBdSETQf8HIA9BgAFvQQF1IgxrIgFBgH9xIRUgAUEHdkEGdEHABGohEEGABCATayEGIAwhAQNAIAYhB0EAIQkgASECA0AgB0EBaiEIIAJBAWohBSAAQcy2AWogCUECdGoiCiAAQczWAGogB0ECdGoqAgAgAEHM9gBqIAJBAnRqKgIAlCAKKAIAspKoNgIAIAlBAWoiCUEgRwRAIAghByAFIQIMAQsLIAFBgAFqIQIgBkFAayEGIAFBgAdIBEAgAiEBDAELC0HgByAMIBVqayIBQYAISARAIBAgE2tBoHxqIQYD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IkogWCBLk7tEujBFka7n9D+itiJLk7tEuEt/Zp6g5j+itiI6kiEqIANBMGpBAnQgAmogTSA8kow4AgAgA0EvakECdCACaiApICiSIEwgSZIgJJIiKJKMIik4AgAgA0ExakECdCACaiApOAIAIANBLmpBAnQgAmogRiBFkiAjkowiKTgCACADQTJqQQJ0IAJqICk4AgAgA0EtakECdCACaiAwIC2SIEAgPpIgJpIiKZIiPCAokowiKDgCACADQTNqQQJ0IAJqICg4AgAgA0EsakECdCACaiA2IE+SIFEgUJIgNZIiKJKMIjY4AgAgA0E0akECdCACaiA2OAIAIANBK2pBAnQgAmogPCA/IDiSIDOSIjwgJJIiJJKMIjY4AgAgA0E1akECdCACaiA2OAIAIANBKmpBAnQgAmogPSBSkiA7kiI9ICOSjCIjOAIAIANBNmpBAnQgAmogIzgCACADQSlqQQJ0IAJqIEsgSpIgOpIiIyAkkowiJDgCACADQTdqQQJ0IAJqICQ4AgAgA0EoakECdCACaiBIIE6SIDGSjCIkOAIAIANBOGpBAnQgAmogJDgCACADQSdqQQJ0IAJqICMgPCArkiIjkowiJDgCACADQTlqQQJ0IAJqICQ4AgAgA0EmakECdCACaiA9ICeSjCIkOAIAIANBOmpBAnQgAmogJDgCACADQSVqQQJ0IAJqICkgLSAwk7tEuEt/Zp6g5j+itiIpkiItICOSjCIjOAIAIANBO2pBAnQgAmogIzgCACADQSRqQQJ0IAJqICggR5KMIiM4AgAgA0E8akECdCACaiAjOAIAIANBI2pBAnQgAmogLSArIDKSIiOSjCIoOAIAIANBPWpBAnQgAmogKDgCACADQSJqQQJ0IAJqICcgU5KMIic4AgAgA0E+akECdCACaiAnOAIAIANBIWpBAnQgAmogIyBCkowiIzgCACADQT9qQQJ0IAJqICM4AgAgA0EgakECdCACaiA0jDgCACADQQJ0IAJqIDQ4AgAgA0EfakECdCACaiAsjDgCACADQQFqQQJ0IAJqICw4AgAgA0EeakECdCACaiA5jDgCACADQQJqQQJ0IAJqIDk4AgAgA0EdakECdCACaiApICaSIjQgQZIiI4w4AgAgA0EDakECdCACaiAjOAIAIANBHGpBAnQgAmogL4w4AgAgA0EEakECdCACaiAvOAIAIANBG2pBAnQgAmogNCA3IDOSIjSSIi+MOAIAIANBBWpBAnQgAmogLzgCACADQRpqQQJ0IAJqIEQgO5IiL4w4AgAgA0EGakECdCACaiAvOAIAIANBGWpBAnQgAmogNCA6kiI0jDgCACADQQdqQQJ0IAJqIDQ4AgAgA0EYakECdCACaiAxjDgCACADQQhqQQJ0IAJqIDE4AgAgA0EXakECdCACaiAqjDgCACADQQlqQQJ0IAJqICo4AgAgA0EWakECdCACaiA7IC6SIjGMOAIAIANBCmpBAnQgAmogMTgCACADQRVqQQJ0IAJqIEMgJpIiMYw4AgAgA0ELakECdCACaiAxOAIAIANBFGpBAnQgAmogNYw4AgAgA0EMakECdCACaiA1OAIAIANBE2pBAnQgAmogJiAlkiImjDgCACADQQ1qQQJ0IAJqICY4AgAgA0ESakECdCACaiAujDgCACADQQ5qQQJ0IAJqIC44AgAgA0ERakECdCACaiAljDgCACADQQ9qQQJ0IAJqICU4AgAgA0EQakECdCACakMAAAAAOAIACy8BAX9BFBAxIgIgATYCECACIAAQMTYCACACIAA2AgggAkEANgIMIAJBADYCBCACCw0AIAAoAgAQOCAAEDgL6QEBBH8gACgCCCIDIAAoAgwiAmsiBCABSQRAAkAgACgCEEECRgRAIAAgACgCACABIARrIANBAXQiAiACIARqIAFJGyIBEDk2AgAgACABNgIIIAAoAgQgACgCDCIBQQN0IgJNDQEgACACNgIEDAELIAIgACgCBCIFQQN2IgNGIAMgBGogAUlyBEAgAEEANgIMIABBADYCBEEAIQEMAQsgAwRAIAAoAgAiASABIANqIAIgA2sQOxogACAAKAIMIANrIgE2AgwgACAAKAIEIAVBeHFrNgIEBSACIQELCwUgAiEBCyAAKAIAIAFqC40BAQR/IAAoAgRBB2pBA3YiASAAKAIMIgRJBEACQCAAKAIAIQIDQAJAIAFBAWohAyABIAJqLAAARQRAIAIgA2osAABFBEAgAiABQQJqaiwAAEEBRg0CCwsgAyAETw0CIAMhAQwBCwsgACABQQN0QSBqNgIEIAIgAUEDamotAAAPCwsgACAEQQN0NgIEQX8LqQEBBH8gACgCBEEHakEDdiICIAAoAgwiBUkEQAJAIAAoAgAh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aiIGQRBLDQALIAMgCWohAyAIayECIQEMAgsgAyABKAIAIgU6AAAgAyABLAABOgABIAJBbGpBcHEiCEESaiIJIAFqIAJBbmogA0ECaiEEIAJBfmohBiABQQJqIQIgBSEBA0AgBCACKAICIgVBEHQgAUEQdnI2AgAgBCACKAIGIgFBEHQgBUEQdnI2AgQgBCACKAIKIgVBEHQgAUEQdnI2AgggBCACKAIOIgFBEHQgBUEQdnI2AgwgAkEQaiECIARBEGohBCAGQXBqIgZBEUsNAAsgAyAJaiEDIAhrIQIhAQwBCyADIAEoAgAiBToAACACQWxqQXBxIghBEWoiCSABaiACQW9qIANBAWohBCACQX9qIQYgAUEBaiECIAUhAQNAIAQgAigCAyIFQRh0IAFBCHZyNgIAIAQgAigCByIBQRh0IAVBCHZyNgIEIAQgAigCCyIFQRh0IAFBCHZyNgIIIAQgAigCDyIBQRh0IAVBCHZyNgIMIAJBEGohAiAEQRBqIQQgBkFwaiIGQRJLDQALIAMgCWohAyAIayECIQELCyACQRBxBEAgAyABLAAAOgAAIAMgASwAAToAASADIAEsAAI6AAIgAyABLAADOgADIAMgASwABDoABCADIAEsAAU6AAUgAyABLAAGOgAGIAMgASwABzoAByADIAEsAAg6AAggAyABLAAJOgAJIAMgASwACjoACiADIAEsAAs6AAsgAyABLAAMOgAMIAMgASwADToADSADIAEsAA46AA4gAyABLAAPOgAPIANBEGohAyABQRBqIQELIAJBCHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgAyABLAAEOgAEIAMgASwABToABSADIAEsAAY6AAYgAyABLAAHOgAHIANBCGohAyABQQhqIQELIAJBBHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgA0EEaiEDIAFBBGohAQsgAkECcQRAIAMgASwAADoAACADIAEsAAE6AAEgA0ECaiEDIAFBAmohAQsgAkEBcUUEQCAADwsgAyABLAAAOgAAIAALwAMBBn8gACABRgRAIAAPCyABIAJqIABLIAAgAmoiBSABS3FFBEAgACABIAIQOhogAA8LIAEgACIDc0EDcUUhBCADIAFJBH8gBARAIANBA3EEQAJAA0AgAgRAIAJBf2ohAiABQQFqIQQgAyABLAAAOgAAIANBAWoiA0EDcQRAIAQhAQwCBSAEIQEMAwsACwsgAA8LCyACQQNLBEAgAkF8aiIGQXxxIgdBBGoiCCADaiACIQQgASECA0AgAyACKAIANgIAIANBBGohAyACQQRqIQIgBEF8aiIEQQNLDQALIQMgBiAHayECIAEgCGohAQsLIAJFBEAgAA8LA0AgAUEBaiEEIANBAWohBSADIAEsAAA6AAAgAkF/aiICBEAgBSEDIAQhAQwBCwsgAAUgBARAIAVBA3EEQAJAA0AgAgRAIAMgAkF/aiICaiIAIAEgAmosAAA6AAAgAEEDcUUNAgwBCwsgAw8LCyACQQNLBEAgAiEAA0AgAyAAQXxqIgBqIAAgAWooAgA2AgAgAEEDSw0ACyACQQNxIQILCyACRQRAIAMPCwNAIAMgAkF/aiICaiABIAJqLAAAOgAAIAINAAsgAwsLgwMCA38BfgJAIAJFDQAgACACQX9qaiABQf8BcSIDOgAAIAAgAzoAACACQQNJDQAgACACQX5qaiADOgAAIAAgAzoAASAAIAJBfWpqIAM6AAAgACADOgACIAJBB0kNACAAIAJBfGpqIAM6AAAgACADOgADIAJBCUkNACAAQQAgAGtBA3EiBWoiBCABQf8BcUGBgoQIbCIDNgIAIAQgAiAFa0F8cSICaiIBQXxqIAM2AgAgAkEJSQ0AIAQgAzYCBCAEIAM2AgggAUF0aiADNgIAIAFBeGogAzYCACACQRlJDQAgBCADNgIMIAQgAzYCECAEIAM2AhQgBCADNgIYIAFBZGogAzYCACABQWhqIAM2AgAgAUFsaiADNgIAIAFBcGogAzYCACACIARBBHFBGHIiAmsiAUEfTQ0AIAOtIgYgBkIghoQhBiACIARqIQIDQCACIAY3AwAgAiAGNwMIIAIgBjcDECACIAY3AxggAkEgaiECIAFBYGoiAUEfSw0ACyAADwsgAAsVACMAQbDOAGokASMBQYCAwAJqJAILC6xNAQAjAAulTQAAAADZzr9BAADAQQAAyEGPwu9BAADwQQAASEKPwm9CAABwQgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQgQCQIDChEYIBkSCwQFDBMaISgwKSIbFA0GBw4VHCMqMTg5MiskHRYPFx4lLDM6OzQtJh8nLjU8PTYvNz4/CBATFhobHSIQEBYYGx0iJRMWGhsdIiImFhYaGx0iJSgWGhsdICMoMBobHSAjKDA6GhsdIiYuOEUbHSMmLjhFUwMAAAAGAAAAAAAAAAkAAAAMAAAAAAAAAAAAAAAAAAAAAQAAAA8AAAASAAAAAAAAABUAAAAYAAAAAAAAABsAAAAeAAAAAAAAACEAAAAkAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAgAAACcAAAAqAAAAAAAAAC0AAAAwAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAABAAAADMAAAA2AAAAAAAAADkAAAA8AAAAAAAAAAAAAAAAAAAABwAAAAAAAAAAAAAABgAAAD8AAABCAAAAAAAAAEUAAABIAAAAAAAAAEsAAABOAAAAAAAAAFEAAABUAAAAAAAAAP////9XAAAAAAAAAP////9aAAAAAAAAAF0AAABgAAAAAAAAAGMAAABmAAAAAAAAAGkAAABsAAAAAAAAAG8AAAByAAAAAAAAAAAAAAAAAAAACQAAAAAAAAAAAAAACAAAAHUAAAB4AAAAAAAAAHsAAAB+AAAAAAAAAIEAAACEAAAAAAAAAIcAAACKAAAAAAAAAAAAAAAAAAAADwAAAAAAAAAAAAAADgAAAAAAAAAAAAAADQAAAAAAAAAAAAAADAAAAAAAAAAAAAAACwAAAAAAAAAAAAAACgAAAI0AAAD/////AAAAAP////+QAAAAAAAAAJMAAACWAAAAAAAAAJkAAACcAAAAAAAAAJ8AAACiAAAAAAAAAKUAAACoAAAAAAAAAKsAAACuAAAAAAAAALEAAAC0AAAAAAAAALcAAAD/////AAAAAP////+6AAAAAAAAAL0AAADAAAAAAAAAAMMAAADGAAAAAAAAAMkAAADMAAAAAAAAAM8AAADSAAAAAAAAANUAAADYAAAAAAAAANsAAADeAAAAAAAAAAAAAAAAAAAAFQAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIwAAAAAAAAAAAAAAIgAAAAAAAAAAAAAAIQAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAHwAAAAAAAAAAAAAAHgAAAAAAAAAAAAAAHQAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAGwAAAAAAAAAAAAAAGgAAAAAAAAAAAAAAGQAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAFwAAAAAAAAAAAAAAFgAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAAAAAP////8JAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEQAAAAMAAAAGAAAAAAAAAAkAAAAMAAAAAAAAAAAAAAAAAAAACgAAAA8AAAASAAAAAAAAAAAAAAAAAAAAAgAAABUAAAAYAAAAAAAAAAAAAAAAAAAACAAAABsAAAAeAAAAAAAAACEAAAAkAAAAAAAAAP////8nAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAAAAAAAGgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAEQAAAAAAAAAAAAAABgAAAAMAAAAAAAAACQAAABIAAAAAAAAADAAAAA8AAAAAAAAAGAAAACEAAAAAAAAAJAAAACcAAAAAAAAAGwAAABUAAAAAAAAAHgAAACoAAAAAAAAAPAAAADkAAAAAAAAANgAAADAAAAAAAAAARQAAADMAAAAAAAAAUQAAAEsAAAAAAAAAPwAAAFQAAAAAAAAALQAAAEIAAAAAAAAASAAAAE4AAAAAAAAAAAAAAAAAAAA8AAAAaQAAAHgAAAAAAAAAhAAAAJAAAAAAAAAAcgAAAGwAAAAAAAAAfgAAAI0AAAAAAAAAVwAAAF0AAAAAAAAAdQAAAGAAAAAAAAAAAAAAAAAAAAAgAAAAhwAAAIoAAAAAAAAAYwAAAHsAAAAAAAAAgQAAAGYAAAAAAAAAAAAAAAAAAAAEAAAAWgAAAG8AAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAsAAAAlgAAAKgAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAA+AAAAtwAAALEAAAAAAAAAnAAAALQAAAAAAAAAAAAAAAAAAAABAAAApQAAAKIAAAAAAAAAAAAAAAAAAAA9AAAAAAAAAAAAAAA4AAAAqwAAAK4AAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAoAAAAmQAAALoAAAAAAAAAAAAAAAAAAAAwAAAAwAAAAL0AAAAAAAAAkwAAAJ8AAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAA8AAAAPkAAAAAAAAAAAAAAAAAAAA/AAAA5wAAAOEAAAAAAAAAwwAAANsAAAAAAAAA/AAAAMYAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAADAAAAzwAAAAUBAAAAAAAA8wAAAO0AAAAAAAAAzAAAANUAAAAAAAAA0gAAAOoAAAAAAAAAyQAAAOQAAAAAAAAA2AAAAN4AAAAAAAAAAgEAAP8AAAAAAAAACAEAAPYAAAAAAAAA/////xoBAAAAAAAAHQEAACMBAAAAAAAAAAAAAAAAAAAhAAAAAAAAAAAAAAAJAAAAPgEAAEoBAAAAAAAAMgEAAFwBAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAKAAAAFwEAAAsBAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAASAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAiAAAAUwEAAGUBAAAAAAAANQEAADgBAAAAAAAADgEAABQBAAAAAAAARwEAAEEBAAAAAAAAXwEAAGIBAAAAAAAALwEAACkBAAAAAAAAJgEAACABAAAAAAAALAEAABEBAAAAAAAAVgEAAFkBAAAAAAAAOwEAAEQBAAAAAAAAUAEAAE0BAAAAAAAAawEAAHcBAAAAAAAAAAAAAAAAAAApAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAVAAAAdAEAAG4BAAAAAAAAaAEAAHEBAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAjAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAyAAAAAAAAAAAAAAAxAAAAAAAAAAAAAAA6AAAAAAAAAAAAAAAlAAAAAAAAAAAAAAAZAAAAAAAAAAAAAAAtAAAAAAAAAAAAAAA5AAAAAAAAAAAAAAAaAAAAAAAAAAAAAAAdAAAAAAAAAAAAAAAmAAAAAAAAAAAAAAA1AAAAAAAAAAAAAAAXAAAAAAAAAAAAAAArAAAAAAAAAAAAAAAuAAAAAAAAAAAAAAAqAAAAAAAAAAAAAAAWAAAAAAAAAAAAAAA2AAAAAAAAAAAAAAAzAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAeAAAAAAAAAAAAAAAnAAAAAAAAAAAAAAAvAAAAAAAAAAAAAAA3AAAAAAAAAAAAAAAbAAAAAAAAAAAAAAA7AAAAAAAAAAAAAAAfAAAAAAAAAAAAAAADAAAABgAAAAAAAAAMAAAACQAAAAAAAAAAAAAAAAAAAAAAAAASAAAADwAAAAAAAAAYAAAAFQAAAAAAAAAAAAAAAAAAAP////8AAAAAAAAAAAEAAAAbAAAAHgAAAAAAAAAkAAAAIQAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAP7///8qAAAALQAAAAAAAAAwAAAAJwAAAAAAAAA8AAAANgAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAP3///8zAAAAOQAAAAAAAAD/////RQAAAAAAAABRAAAASwAAAAAAAABOAAAAPwAAAAAAAABIAAAAQgAAAAAAAABgAAAAVAAAAAAAAABXAAAAXQAAAAAAAAD/////YwAAAAAAAABsAAAAaQAAAAAAAAAAAAAAAAAAAPz///9aAAAAZgAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAPn///8AAAAAAAAAAAUAAABvAAAAewAAAAAAAAAAAAAAAAAAAPv///8AAAAAAAAAAAcAAAByAAAAeAAAAAAAAAB+AAAAdQAAAAAAAAAAAAAAAAAAAPr///8AAAAAAAAAAAYAAACZAAAAogAAAAAAAACWAAAAkwAAAAAAAACHAAAAigAAAAAAAACcAAAAjQAAAAAAAACBAAAAnwAAAAAAAACEAAAAkAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAPj///+rAAAAxgAAAAAAAAAAAAAAAAAAAPf///+0AAAAwAAAAAAAAACoAAAAtwAAAAAAAAClAAAAugAAAAAAAACuAAAAvQAAAAAAAAAAAAAAAAAAAPb///+xAAAAwwAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAABAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAsAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAPD///8AAAAAAAAAAPT///8AAAAAAAAAAPL///8AAAAAAAAAAPH///8AAAAAAAAAAPX///8AAAAAAAAAAPP///8AAAAAAAAAAAAAAAAGAAAAAwAAAAAAAAASAAAADwAAAAAAAAAJAAAADAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAIAAAAbAAAAGAAAAAAAAAAVAAAAHgAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAIQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAMAAAAnAAAAKgAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAYAAAAwAAAALQAAAAAAAAAzAAAA/////wAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAYAAAADAAAAAAAAAAwAAAAJAAAAAAAAABIAAAAPAAAAAAAAABgAAAAVAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAB4AAAAbAAAAAAAAAAAAAAAAAAAAAwAAACQAAAAhAAAAAAAAAAAAAAAAAAAABAAAACoAAAAnAAAAAAAAAAAAAAAAAAAABQAAADAAAAAtAAAAAAAAAAAAAAAAAAAABgAAADMAAAD/////AAAAAAAAAAAAAAAABwAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAwAAAAYAAAAAAAAADAAAAAkAAAAAAAAAAAAAAAAAAAABAAAAFQAAABgAAAAAAAAAEgAAAA8AAAAAAAAAJwAAABsAAAAAAAAAIQAAAB4AAAAAAAAAKgAAACQAAAAAAAAAAAAAAAAAAAABAQAAPAAAAEIAAAAAAAAANgAAAD8AAAAAAAAAMAAAADkAAAAAAAAAAAAAAAAAAAABAgAAMwAAAC0AAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAADAAAAUQAAAEsAAAAAAAAAVwAAAF0AAAAAAAAASAAAAE4AAAAAAAAAYAAAAFoAAAAAAAAAAAAAAAAAAAABBAAARQAAAFQAAAAAAAAAAAAAAAAAAAABAwAAAAAAAAAAAAACAQAAAAAAAAAAAAABBwAAAAAAAAAAAAD//wAAAAAAAAAAAAABBgAAbwAAAGwAAAAAAAAAAAAAAAAAAAABBQAAaQAAAGYAAAAAAAAAdQAAAHIAAAAAAAAAYwAAAH4AAAAAAAAAeAAAAHsAAAAAAAAAnAAAAJYAAAAAAAAAogAAAJ8AAAAAAAAAkAAAAJMAAAAAAAAAgQAAAIcAAAAAAAAAigAAAIQAAAAAAAAAAAAAAAAAAAABCAAAAAAAAAAAAAAEAAAAAAAAAAAAAAACAgAAAAAAAAAAAAABCQAAmQAAAI0AAAAAAAAApQAAAKsAAAAAAAAAtAAAAKgAAAAAAAAAsQAAAK4AAAAAAAAAtwAAALoAAAAAAAAAAAAAAAAAAAABCgAAAAAAAAAAAAABDQAAAAAAAAAAAAAGAAAAAAAAAAAAAAADAQAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAwAAAAAAAAAAAAABCwAAAAAAAAAAAAABDAAA5AAAAOEAAAAAAAAAyQAAANIAAAAAAAAA2wAAANUAAAAAAAAA6gAAAN4AAAAAAAAA2AAAAOcAAAAAAAAAzwAAAMAAAAAAAAAAzAAAAL0AAAAAAAAAxgAAAMMAAAAAAAAA8wAAAAUBAAAAAAAAEQEAAPAAAAAAAAAA9gAAAO0AAAAAAAAA+QAAAAIBAAAAAAAAFwEAABQBAAAAAAAA/AAAAP8AAAAAAAAADgEAABoBAAAAAAAACAEAAAsBAAAAAAAAAAAAAAAAAAADAgAAAAAAAAAAAAAEAQAAAAAAAAAAAAAHAAAAAAAAAAAAAAACBAAAAAAAAAAAAAACBQAAAAAAAAAAAAABEAAAAAAAAAAAAAABDwAAAAAAAAAAAAABDgAAOwEAAEEBAAAAAAAATQEAAFYBAAAAAAAAOAEAACMBAAAAAAAAdwEAAGUBAAAAAAAAIAEAACYBAAAAAAAA/////3EBAAAAAAAAHQEAAC8BAAAAAAAAPgEAAGsBAAAAAAAAKQEAADIBAAAAAAAAUwEAADUBAAAAAAAAUAEAAFwBAAAAAAAASgEAACwBAAAAAAAAdAEAAFkBAAAAAAAAXwEAAG4BAAAAAAAARwEAAGIBAAAAAAAAaAEAAEQBAAAAAAAAfQEAAJgBAAAAAAAAoQEAAKQBAAAAAAAAhgEAAHoBAAAAAAAAswEAALYBAAAAAAAAgAEAAIMBAAAAAAAAAAAAAAAAAAACCAAAjAEAAJIBAAAAAAAA0QEAAM4BAAAAAAAAAAAAAAAAAAAIAAAAmwEAAI8BAAAAAAAArQEAALABAAAAAAAAxQEAAJ4BAAAAAAAAqgEAAKcBAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABFQAAAAAAAAAAAAACBgAAAAAAAAAAAAADAwAAAAAAAAAAAAABFAAAAAAAAAAAAAACBwAAAAAAAAAAAAABEQAAAAAAAAAAAAABEgAAAAAAAAAAAAABEwAAvAEAAMgBAAAAAAAAAAAAAAAAAAADBAAAywEAAMIBAAAAAAAAAAAAAAAAAAAFAQAAiQEAAJUBAAAAAAAAAAAAAAAAAAAEAgAAvwEAALkBAAAAAAAABAIAAAcCAAAAAAAA5gEAANoBAAAAAAAA/gEAAOMBAAAAAAAA+AEAAPIBAAAAAAAA1wEAABkCAAAAAAAA+wEAAPUBAAAAAAAACgIAAAECAAAAAAAAFgIAABMCAAAAAAAA1AEAAN0BAAAAAAAA7AEAAO8BAAAAAAAAJQIAACICAAAAAAAADQIAABACAAAAAAAAAAAAAAAAAAAHAQAAAAAAAAAAAAACCgAAAAAAAAAAAAACCQAAAAAAAAAAAAABFgAAAAAAAAAAAAABFwAAAAAAAAAAAAABGQAAAAAAAAAAAAABGAAAAAAAAAAAAAADBQAAAAAAAAAAAAAEAwAAAAAAAAAAAAANAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAPAAAAAAAAAAAAAAAFAgAAAAAAAAAAAAABGgAAAAAAAAAAAAAGAQAAHAIAAB8CAAAAAAAA4AEAAOkBAAAAAAAATAIAAFUCAAAAAAAAAAAAAAAAAAAbAAAAYQIAACsCAAAAAAAAXgIAAFsCAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAWAAAATwIAAG0CAAAAAAAAAAAAAAAAAAASAAAAPQIAAEACAAAAAAAANAIAADoCAAAAAAAAAAAAAAAAAAAUAAAAKAIAAEYCAAAAAAAAAAAAAAAAAAAVAAAALgIAAEMCAAAAAAAAAAAAAAAAAAAXAAAAZAIAAFICAAAAAAAAAAAAAAAAAAAZAAAAAAAAAAAAAAAYAAAAWAIAAGcCAAAAAAAAAAAAAAAAAAAfAAAAAAAAAAAAAAAeAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAdAAAAAAAAAAAAAAAaAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAQAAAANwIAAGoCAAAAAAAAMQIAAEkCAAAAAAAAjgIAAHkCAAAAAAAAAAAAAAAAAAAlAAAAhQIAAIgCAAAAAAAAAAAAAAAAAAAkAAAAdgIAAHwCAAAAAAAAAAAAAAAAAAAiAAAAfwIAAHMCAAAAAAAAlwIAAJoCAAAAAAAAkQIAAHACAAAAAAAAiwIAAIICAAAAAAAAnQIAAJQCAAAAAAAAAAAAAAAAAAAjAAAAAAAAAAAAAAALAQAAAAAAAAAAAAAoAAAAAAAAAAAAAAAMAQAAAAAAAAAAAAAKAQAAAAAAAAAAAAAgAAAAAAAAAAAAAAAIAQAAAAAAAAAAAAAJAQAAAAAAAAAAAAAmAAAAAAAAAAAAAAANAQAAAAAAAAAAAAAOAQAAAAAAAAAAAAAhAAAAAAAAAAAAAAAnAAAAAAAAAAAAAAABHwAAAAAAAAAAAAABGwAAAAAAAAAAAAABHgAAAAAAAAAAAAACEAAAAAAAAAAAAAABHQAAAAAAAAAAAAABHAAAAAAAAAAAAAAPAQAAAAAAAAAAAAASAQAAAAAAAAAAAAARAQAAAAAAAAAAAAAQAQAAAAAAAAAAAAADBgAAAAAAAAAAAAACCwAAAAAAAAAAAAACDgAAAAAAAAAAAAACDQAAAAAAAAAAAAACDAAAAAAAAAAAAAACDwAAICwqJiAZEQksPjo0LCMYDCo6NzEqIRcMJjQxLCYeFAogLComIBkRCRkjIR4ZFA4HERgXFBEOCQUJDAwKCQcFAgAAAAAAAAC/AAAAvwAAAL8AAAC/AAAAvwAAAL8AAIC/AACAvwAAgL8AAIC/AADAvwAAwL8AAADAAAAAwAAAIMAAACDAAABAwAAAYMAAAGDAAACAwAAAkMAAAKDAAACwwAAA0MAAAODAAAAAwQAACMEAABjBAAAowQAAQMEAAFDBAABowQAAeMEAAIzBAACYwQAApMEAALTBAADEwQAA1MEAAOjBAAD8wQAACMIAABLCAAAewgAAKsIAADbCAABCwgAAUMIAAF7CAABqwgAAesIAAITCAACLwgAAk8IAAJrCAAChwgAAqcIAALDCAAC3wgAAvsIAAMTCAADKwgAA0MIAANVCAADaQgAA3kIAAOFCAADjQgAA5EIAAORCAADjQgAA4EIAAN1CAADXQgAA0EIAAMhCAAC9QgAAsUIAAKNCAACSQgAAfkIAAFRCAAAmQgAA5EEAAGhBAACAvwAAkMEAABDCAABewgAAmcIAAMXCAAD0wgAAE8MAgC3DAIBIwwCAZcMAwIHDAECRwwBAocMAwLHDAMDCwwAA1MMAwOXDAMD3wwAABcQAIA7EAEAXxABgIMQAgCnEAIAyxABAO8QA4EPEAEBMxABAVMQA4FvEACBjxADAacQA4G/EAEB1xAAgesQAAH7EAJCAxACwgcQAUILEAHCCxAAAgsQA8IDEAKB+RAAAekQAAHREAKBsRADAY0QAYFlEAIBNRADgP0QAwDBEAAAgRABgDUQAgPJDAIDGQwBAl0MAAElDAAC5QgAAtMEAABDDAECIwwCAy8MA4AjEAIAtxACAU8QAwHrEAKCRxABwpsQAwLvEAHDRxACQ58QA8P3EAEgKxQCgFcUACCHFAGgsxQC4N8UA6ELFAOhNxQC4WMUAOGPFAGhtxQAwd8UARIDFAKyExQDMiMUAmIzFAAyQxQAgk8UAxJXFAPyXxQC4mcUA8JrFAJybxQC4m8UAPJvFAByaxQBYmMUA4JXFALSSxQDMjsUAIIrFALCExQDgfMUAwG7FAPBexQBwTUUAODpFAEAlRQCIDkUAAOxEAHC3RACgfkQAQAdEAAAMQgCA+cMAoITEAEDOxACoDcUA0DXFAJBfxQBwhcUA3JvFAPyyxQDQysUAUOPFAGz8xQAOC8YALBjGAIolxgAiM8YA7EDGAOROxgACXcYAQGvGAJZ5xgD/g8YAOIvGAHGSxgComcYA2KDGAP6nxgAVr8YAGbbGAAa9xgDZw8YAjcrGAB7RxgCK18YAyt3GAN3jxgC+6cYAae/GANz0xgAT+sYACv/GAN8Bx4AWBMcAKgbHgBcIxwDfCccAfgvHgPQMx4BBDseAYw/HAFoQx4AkEccAwxHHADQSxwB4EscAjxJHAHgSRwA0EkcAwxFHgCQRRwBaEEeAYw9HgEEOR4D0DEcAfgtHAN8JR4AXCEcAKgZHgBYERwDfAUcACv9GABP6RgDc9EYAae9GAL7pRgDd40YAyt1GAIrXRgAe0UYAjcpGANnDRgAGvUYAGbZGABWvRgD+p0YA2KBGAKiZRgBxkkYAOItGAP+DRgCWeUYAQGtGAAJdRgDkTkYA7EBGACIzRgCKJUYALBhGAA4LRgBs/EUAUONFANDKRQD8skUA3JtFAHCFRQCQX0UA0DVFAKgNRQBAzkQAoIREAID5QwAADMIAQAfEAKB+xABwt8QAAOzEAIgOxQBAJcUAODrFAHBNRQDwXkUAwG5FAOB8RQCwhEUAIIpFAMyORQC0kkUA4JVFAFiYRQAcmkUAPJtFALibRQCcm0UA8JpFALiZRQD8l0UAxJVFACCTRQAMkEUAmIxFAMyIRQCshEUARIBFADB3RQBobUUAOGNFALhYRQDoTUUA6EJFALg3RQBoLEUACCFFAKAVRQBICkUA8P1EAJDnRABw0UQAwLtEAHCmRACgkUQAwHpEAIBTRACALUQA4AhEAIDLQwBAiEMAABBDAAC0QQAAucIAAEnDAECXwwCAxsMAgPLDAGANxAAAIMQAwDDEAOA/xACATcQAYFnEAMBjxACgbMQAAHTEAAB6xACgfkQA8IBEAACCRABwgkQAUIJEALCBRACQgEQAAH5EACB6RABAdUQA4G9EAMBpRAAgY0QA4FtEAEBURABATEQA4ENEAEA7RACAMkQAgClEAGAgRABAF0QAIA5EAAAFRADA90MAwOVDAADUQwDAwkMAwLFDAEChQwBAkUMAwIFDAIBlQwCASEMAgC1DAAATQwAA9EIAAMVCAACZQgAAXkIAABBCAACQQQAAgD8AAGjBAADkwQAAJsIAAFTCAAB+wgAAksIAAKPCAACxwgAAvcIAAMjCAADQwgAA18IAAN3CAADgwgAA48IAAOTCAADkwgAA48IAAOHCAADewgAA2sIAANVCAADQQgAAykIAAMRCAAC+QgAAt0IAALBCAACpQgAAoUIAAJpCAACTQgAAi0IAAIRCAAB6QgAAakIAAF5CAABQQgAAQkIAADZCAAAqQgAAHkIAABJCAAAIQgAA/EEAAOhBAADUQQAAxEEAALRBAACkQQAAmEEAAIxBAAB4QQAAaEEAAFBBAABAQQAAKEEAABhBAAAIQQAAAEEAAOBAAADQQAAAsEAAAKBAAACQQAAAgEAAAGBAAABgQAAAQEAAACBAAAAgQAAAAEAAAABAAADAPwAAwD8AAIA/AACAPwAAgD8AAIA/AAAAPwAAAD8AAAA/AAAAPwAAAD8AAAA/IAAwADgAQABQAGAAcACAAKAAwADgAAABQAGAAQgAEAAYACAAKAAwADgAQABQAGAAcACAAJAAoAAAAAAAAAAAAESsgLsAfQAAIlbAXYA+AAAAAAEBAQICAgICAgICAgAAAAAAAAAAAQEBAgICAgIAAERENDQ0NDQ0NDQ0NAAAAAAAAAAAAAAAAAAAAAAAAAAAQ0NDQkJCQkJCQkIxMTExMTExMTExMTEgICAgICAgAABFRUVFNDQ0NDQ0NCQkJCQkJCQkJCQkJCQkJCQkJCQAAAABAhEAAAAAAAAAAAAAAAAAAQIDBAUGEQAAAAAAAAAAAAECAwQFBgcICQoLDA0OEQABAwUGBwgJCgsMDQ4PEBEAAQIEBQYHCAkKCwwNDg8RAAECAwQFBgcICQoLDA0ODwMAAQUFAAEHBwAAAwkAAQoPAAAEHwAABT8AAAZ/AAAH/wAACP8BAAn/AwAK/wcAC/8PAAz/HwAN/z8ADv9/AA///wAQAAAAAAAAAAAAAAAAAAAAAupflgEwikIBCAgMW1tbXltec2l6ZSA+IDAAL2hvbWUvZG9taW5pYy9wcm9qZWN0cy9lbXNkay9mYXN0Y29tcC9lbXNjcmlwdGVuLy9zeXN0ZW0vbGliL2VtbWFsbG9jLmNwcABnZXRGcmVlTGlzdEluZGV4AE1JTl9GUkVFTElTVF9JTkRFWCA8PSBpbmRleCAmJiBpbmRleCA8IE1BWF9GUkVFTElTVF9JTkRFWABnZXRBZnRlcihyZWdpb24pIDw9IHNicmsoMCkAZW1tYWxsb2NfbWFsbG9jAHJlZ2lvbi0+Z2V0VXNlZCgpAGdldFBheWxvYWQAKGNoYXIqKWV4dHJhUHRyID09IChjaGFyKilwdHIgKyBzYnJrU2l6ZQBhbGxvY2F0ZVJlZ2lvbgAhbGFzdFJlZ2lvbgAhZmlyc3RSZWdpb24AZmlyc3RSZWdpb24AcHRyID09IGdldEFmdGVyKGxhc3RSZWdpb24pAGV4dGVuZExhc3RSZWdpb24AYWRkVG9GcmVlTGlzdABnZXRCaWdFbm91Z2hGcmVlTGlzdEluZGV4AHBheWxvYWRTaXplID49IHNpemUAcG9zc2libHlTcGxpdFJlbWFpbmRlcgBleHRyYSA+PSBNSU5fUkVHSU9OX1NJWkUAdG90YWxTcGxpdFNpemUgPj0gTUlOX1JFR0lPTl9TSVpFAG1lcmdlSW50b0V4aXN0aW5nRnJlZVJlZ2lvbgByZWdpb24gPT0gbGFzdFJlZ2lvbgBlbW1hbGxvY19yZWFsbG9j",t
}()}(core||(core={}));var core;!function(e){var t=egret.Event,A=eui.UIEvent,i=eui.CollectionEventKind,r=egret.TouchEvent,n=function(){function e(){}return e.touchMove=r.TOUCH_MOVE,e.touchBegin=r.TOUCH_BEGIN,e.touchEnd=r.TOUCH_END,e.touchCancel=r.TOUCH_CANCEL,e.touchTap=r.TOUCH_TAP,e.touchReleaseOutside=r.TOUCH_RELEASE_OUTSIDE,e.addedToStage=t.ADDED_TO_STAGE,e.removedFromStage=t.REMOVED_FROM_STAGE,e.added=t.ADDED,e.removed=t.REMOVED,e.enterFrame=t.ENTER_FRAME,e.render=t.RENDER,e.resize=t.RESIZE,e.change=t.CHANGE,e.changing=t.CHANGING,e.complete=t.COMPLETE,e.loopComplete=t.LOOP_COMPLETE,e.focusIn=t.FOCUS_IN,e.focusOut=t.FOCUS_OUT,e.ended=t.ENDED,e.activate=t.ACTIVATE,e.deactivate=t.DEACTIVATE,e.close=t.CLOSE,e.connect=t.CONNECT,e.leaveStage=t.LEAVE_STAGE,e.soundComplete=t.SOUND_COMPLETE,e.createComplete=A.CREATION_COMPLETE,e.changeEnd=A.CHANGE_END,e.changeStart=A.CHANGE_START,e.closing=A.CLOSING,e.move=A.MOVE,e.add=i.ADD,e.refresh=i.REFRESH,e.remove=i.REMOVE,e.replace=i.REPLACE,e.reset=i.RESET,e.update=i.UPDATE,e["throw"]=eui.ScrollerThrowEvent.THROW,e.propertyChange=eui.PropertyEvent.PROPERTY_CHANGE,e.itemTap=eui.ItemTapEvent.ITEM_TAP,e.collectionChange=eui.CollectionEvent.COLLECTION_CHANGE,e.permissionDenied=egret.GeolocationEvent.PERMISSION_DENIED,e.unavailable=egret.GeolocationEvent.UNAVAILABLE,e.httpStatus=egret.HTTPStatusEvent.HTTP_STATUS,e.ioError=egret.IOErrorEvent.IO_ERROR,e.progress=egret.ProgressEvent.PROGRESS,e.socketData=egret.ProgressEvent.SOCKET_DATA,e.orientationChange=egret.StageOrientationEvent.ORIENTATION_CHANGE,e.link=egret.TextEvent.LINK,e.timer=egret.TimerEvent.TIMER,e.timerComplete=egret.TimerEvent.TIMER_COMPLETE,e}();e.Evt=n,__reflect(n.prototype,"core.Evt"),window.Evt=n}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.getLayer=function(e){var t=this,A=t._layers[e];return A||(A=t.createLayer(),t._layers[e]=A,t.relayout()),A},t.addLayer=function(e,t){var A=this.getLayer(e);return A.addChild(t),t},t.addLayerAt=function(e,t,A){var i=this.getLayer(e);return i.addChildAt(t,A),t},t.cacheSceneAsBitmap=function(e){void 0===e&&(e=!1),this._onCache=e;for(var t in this._layers){var A=this._layers[t];A.cacheAsBitmap=e}},t.relayout=function(){var t=new Array;for(var A in this._layers)t.push(parseInt(A));e.ArrayUtils.sort(t,16);for(var i=0;i<t.length;i++){var A=t[i],r=this._layers[A];e.App.root.setChildIndex(r,i)}},t.createLayer=function(){var t=new eui.Group;return t.width=e.App.desginWidth,t.height=e.App.desginHeight,t.left=t.right=t.top=t.bottom=0,t.percentWidth=t.percentHeight=100,t.touchEnabled=!1,this._onCache&&(t.cacheAsBitmap=this._onCache),e.App.root.addChild(t),t},t.switchLayer=function(e,t){var A=this.getLayer(e);A&&(A.visible=t)},t._layers={},t._onCache=!1,t}();e.LayerManager=t,__reflect(t.prototype,"core.LayerManager"),window.LayerManager=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.parts={},e}return __extends(A,t),Object.defineProperty(A.prototype,"isLoaded",{get:function(){var e=this.parts[1];return e&&e.isLoaded},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isPlaying",{get:function(){var e=this.parts[1];return e&&!!e.curTrack},enumerable:!0,configurable:!0}),A.prototype.load=function(e,t,A,i){void 0===A&&(A="default"),void 0===i&&(i=1),this.loadParts({1:{part:1,resId:e,url:t,skinName:A}},i)},A.prototype.loadParts=function(e,t){void 0===t&&(t=1);var A=this;A.clear(),A.level=t,A.parts=e;for(var i in e)A.loadPart(e[i])},A.prototype.changePart=function(e,t,A,i){void 0===i&&(i="default");var r=this,n=r.parts[e];return n&&n.resId==t&&n.url==A?void(i!=n.skinName&&r.setSkinName(i)):(n&&(1==e?r.clearPart(e):r.removePart(e)),n=r.parts[e]={part:e,resId:t,url:A,skinName:i},void r.loadPart(n))},A.prototype.removePart=function(t){var A=this;if(1==t)return void e.GameLog.warning("主体部位不能使用卸装");var i=A.parts[t];return i?void A.clearPart(t):void e.GameLog.warning("卸装部位不存在：",t)},A.prototype.setSkinName=function(e,t){void 0===t&&(t=1);var A=this,i=A.parts,r=i[t];if(r&&r.skinName!=e&&(r.skinName=e,r.animation)){if(1==t)for(var n in i)A.resetMainAttachment(+n);else A.resetMainAttachment(t);if(r.animation.skeleton.setSkinByName(e),1==t)for(var n in i)A.updateAttachments(+n);else A.updateAttachments(t);r.curTrack&&!A._isPlayEnd&&r.animation.start(r.curTrack.trackID)}},A.prototype.unload=function(){this.clear()},A.prototype.loadPart=function(t){var A=this;t.skinName=t.skinName||"default",t.atlasUrl=t.url+t.resId+".atlas",t.jsonUrl=t.url+t.resId+(t.isBinaryType?".skel":".json"),t.textures={},e.LoadUtils.loadResByUrl(t.atlasUrl,A.level,A.onLoadAtlasComplete,A,!1,RES.ResourceItem.TYPE_TEXT,t)},A.prototype.onLoadAtlasComplete=function(t,A,i){var r=this;if(!A)return void(1==t.part&&r.dispatchLoadedEvent(!0));t.atlas=A;var n=A.match(new RegExp(""+t.resId+"(.*)+.png","g")),o=+(n&&n.length||0),a=[];if(o>0)for(var s=0;o>s;s++)a.push(t.url+n[s]);t.loader=t.loader||e.ObjectPool.pop(e.LoadMgr),t.loader.init(),t.loader.loadResByUrls([t.jsonUrl].concat(a),r.level,r.onLoadTextureComplete,r,!1,t,n,a)},A.prototype.onLoadTextureComplete=function(t,A,i,r,n){var o=this,a=1==t.part;if(!r[t.jsonUrl])return void(a&&o.dispatchLoadedEvent(!0));for(var s=t.textures,c=0,l=i.length;l>c;c++){var u=i[c];if(!r[u])return void(a&&o.dispatchLoadedEvent(!0));s[A[c]]=r[u]}t.isLoaded=!0,t.data=r[t.jsonUrl];var d;try{d=t.isBinaryType?spine.createSkeletonBinaryData(t.data,spine.createTextureAtlas(t.atlas,s)):spine.createSkeletonData(t.data,spine.createTextureAtlas(t.atlas,s))}catch(h){e.GameLog.error("SpineAni.onLoadTextureComplete error：",h)}if(d){var g=t.animation=new spine.SkeletonAnimation(d);g.touchChildren=!1,g.touchEnabled=!1,g.skeleton.data.skins.length>1?g.skeleton.setSkinByName(g.skeleton.data.skins[1].name):g.skeleton.setSkinByName(g.skeleton.data.skins[0].name||t.skinName),g.state.addListener(this),a?(o.addChild(t.animation),o.curActionName&&o.play(),o.dispatchLoadedEvent(!1)):o.updatePartPlay()}},A.prototype.playAction=function(e,t){void 0===t&&(t=0);var A=this,i=!1;A.loop!=t&&(A.loop=t,i=!0),A.curActionName!=e&&(A.curActionName=e,i=!0),A.isPlaying||(i=!0),i&&A.isLoaded&&(A._isPlayEnd=!1,A.play())},A.prototype.resume=function(){this.play()},A.prototype.stop=function(){this._isPlayEnd=!1,this.clearPlayTimeId();var e,t=this.parts;for(var A in t)e=t[A],e&&e.curTrack?(e.animation.isPause=!0,e.animation.stop(e.curTrack.trackID),e.curTrack=null):e&&e.animation&&(e.animation.isPause=!0,e.animation.stopAnimation(),e.curTrack=null)},A.prototype.play=function(){var t=this;if(t.stop(),t.curActionName){var A=this.parts[1];A&&A.animation&&(A.animation.isPause=!1,A.curTrack=A.animation.play(t.curActionName,t.loop,0)),t.updatePartPlay(),t.clearPlayTimeId(),e.TimerManager.addCycleTask(33,t.updateFrame,t),t.updateFrame()}},A.prototype.clearPlayTimeId=function(){e.TimerManager.removeTask(this.hashCode)},A.prototype.updatePartPlay=function(){var e=this;if(e.curActionName)for(var t in e.parts){if("1"!=t){var A=this.parts[t];A&&A.animation&&(A.animation.isPause=!1,A.animation.play(e.curActionName,e.loop,0),e.addChildAt(A.animation,0),A.animation.visible=!1,A.animation.touchEnabled=!1,A.animation.touchChildren=!1)}e.updateAttachments(+t)}},A.prototype.updateFrame=function(){var e=this;if(e.isLoaded){var t,A,i,r=this.parts,n=e.parts[1];n&&n.animation&&(A=n.animation.skeleton);for(var o in r)if(1!=+o&&(t=r[o],t&&t.animation))for(var a=0,s=t.animation.skeleton.slots;a<s.length;a++){var c=s[a];A&&(i=A.findSlot(c.data.name),i&&(t.animation.parent?(i.setToSetupPose(),i.setAttachment(c.getAttachment())):i.setAttachment(null)))}for(var o in r)1==+o&&r[o].animation&&r[o].animation.forceRefreshAniState(),r[o].animation&&r[o].animation.update()}},A.prototype.resetMainAttachment=function(e){var t=this.parts[1],A=this.parts[e];if(t&&t.animation&&A&&A.oldAttachments){var i=t.animation.skeleton,r=A.oldAttachments;for(var n in r){var o=i.findSlot(n);o&&o.setAttachment(r[n])}}},A.prototype.updateAttachments=function(e,t){if(void 0===t&&(t=!1),1!=e){var A=this.parts[1],i=this.parts[e];if(A&&i&&A.animation&&i.animation){i.oldAttachments={};for(var r=A.animation.skeleton,n=i.animation.skeleton.slots,o=0,a=n;o<a.length;o++){var s=a[o],c=s.data.name,l=r.findSlot(c);l&&(i.oldAttachments[c]=l.getAttachment(),4!=i.part&&l.setAttachment(t?null:s.getAttachment()))}}}},A.prototype.dispatchLoadedEvent=function(e){this.hasEventListener("loaded")&&this.dispatchEventWith("loaded",!1,{fail:e})},A.prototype.loopEnd=function(){var e=this;e.loop>0&&(e.loop-=1,0===e.loop&&e.stop()),e.hasEventListener("one_loop_end")&&e.dispatchEventWith("one_loop_end")},A.prototype.complete=function(){this.loopEnd()},A.prototype.end=function(e){this._isPlayEnd=!0,this.hasEventListener("action_play_end")&&this.dispatchEventWith("action_play_end",!1,e)},A.prototype.custom=function(e){},A.prototype.interrupt=function(){},A.prototype.loopStart=function(){},A.prototype.playStart=function(){},A.prototype.checkMainSame=function(e,t){var A=this.parts,i=A[1];if(i&&i.resId==e&&i.url==t){for(var r in A)if(A[r]!=i)return!1;return!0}return!1},A.prototype.checkAllSame=function(e){var t=this.parts;for(var A in t){var i=t[A],r=e[A];if(!r||i.resId!=r.resId||i.url!=r.url)return!1}for(var A in e)if(!t[A])return!1;return!0},A.prototype.clearPart=function(t){var A=this.parts,i=A[t];i&&(1==i.part&&this.stop(),i.animation&&(i.animation.stopAll(),i.animation&&i.animation.parent&&i.animation.parent.removeChild(i.animation),this.updateFrame()),this.updateAttachments(t,!0),i.loader&&i.loader.destroy(),e.LoadUtils.cancleLoadUrl(this,i.atlasUrl),e.ObjectUtils.clearKeys(i,["loader","atlas","data","animation","textures","curTrack","oldAttachments"]),delete A[t])},A.prototype.clear=function(){var t=this,A=t.parts;for(var i in A)t.clearPart(+i);e.LoadUtils.cancleLoadTarget(t),e.ObjectUtils.clearKeys(t,["curActionName"]),e.ObjectUtils.clearKeysNum(t,["level","loop"])},A.prototype.destroy=function(){this.clearPlayTimeId(),this.clear(),this.byObjectPool&&e.ObjectPool.push(this)},A}(eui.Component);e.SpineAni=t,__reflect(t.prototype,"core.SpineAni",["spine.AnimationListener"]),window.SpineAni=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"closeNum",{get:function(){return this._closeMap.length},enumerable:!0,configurable:!0}),t.init=function(){this.viewLayerIndexs=[1,2,4,5],e.App.stage.addEventListener(e.Evt.resize,this._onStageResize,this);var t=this._modalRect=new eui.Rect(void 0,void 0,0);t.left=t.right=t.top=t.bottom=-2,t.addEventListener(e.Evt.touchTap,this._onModalTap,this)},t.setData=function(e,t){this._hideMap=e||{},this._hidePromptMsg=t||""},t.registerUI=function(t,A,i){e.Functor.assert(t,"registerUI 时 className 为空"),e.Functor.assert(A,t+" 的构造函数不存在"),this._uiMap[t]=new e.UIClassVO(t,A,i)},t.registerMutex=function(t,A){e.Functor.assert(t,"registerMutex 时 className 为空");var i=this._mutexMap,r=i[A];r||(r=i[A]=[]),r.indexOf(t)<0&&r.push(t);var n=this._uiMap[t];n&&(n.mutexType=A)},t.registerExclude=function(e){this._excludeMap[e]=!0},t.getClassVo=function(e){return this._uiMap[e]},t.open=function(t,A,i){var r=this,n=r._uiMap[t];if(r._hideMap[t])return void(window.Prompt&&this._hidePromptMsg&&window.Prompt.msg(this._hidePromptMsg));if(!n)return void e.Functor.assert(!1,"UI 未注册： "+t);var o=n.view;if(o||(o=n.view=new n.clazz,o.className=t),n.params=A,o.vo=n,o.isClosing=!1,n.skinName&&o.skinName!==n.skinName&&(o.isSkinReady=!1,o.skinName=n.skinName),r._openedMap[t]=o,i&&i.length)for(var a=0,s=i;a<s.length;a++){var c=s[a];c!=t&&r.close(c)}if(n.mutexType)for(var l=r._mutexMap[n.mutexType]||[],u=0,d=l;u<d.length;u++){var h=d[u];r._openedMap[h]&&h!==t&&r.close(h)}return r.openView(o,A),o},t.closeUpper=function(e){var t=this.getUI(e);if(t){t.isCloseUpper=!0;var A,i,r,n,o=this._openedStack.concat();for(r=this.getLayerIndex(t),i=o.length;i--;)A=o[i],A!==t&&(n=this.getLayerIndex(A),n>r&&A.isShow&&A.uiVis&&(A.visible=A.uiVis=!1))}},t.getFirstFullUI=function(){var e,t,A=this._openedStack.concat();if(0!==A.length){var i;t=A.length;for(var r,n;t--;)e=A[t],n=this.getLayerIndex(e),e.fullScreen&&e.uiVis&&(!r||n>r)&&(r=n,i=e);return i}},t.delayHideLowerUIs=function(){var e,t=-1,A=this._openedStack.concat(),i=this.getFirstFullUI();if(i){var r=A.length;for(t=this.getLayerIndex(i);r--;){var n=A[r];e=this.getLayerIndex(n),t>e&&(n.visible=n.uiVis=!1)}}},t.getLayerIndex=function(e){if(!e)return-1;var t=e.parent;return t?100*e.layerIndex+t.getChildIndex(e):-1},t.checkPushScene=function(e,t){if(!e)return!1;var A=t.indexOf(e);return A>-1&&t.splice(A,1),t.push(e),!0},t.pushSceneUI=function(e){this.checkPushScene(e,t._sceneStack);var A=t._sceneUIsMap[e.layerIndex];A||(A=[],t._sceneUIsMap[e.layerIndex]=A),this.checkPushScene(e,A)},t.checkMapVis=function(){var t,A;A=this.getTopFullUI(),A&&A.isShow&&!A.uiVis&&(A.visible=A.uiVis=!0,A.onShowAgain()),t=!A||A.isScene||0===A.layerIndex,e.LayerManager.switchLayer(0,t)},t.getTopFullUI=function(e){var t=this._openedStack;if(0!==t.length){for(var A,i,r=-1,n=e?this.getLayerIndex(e):-1,o=0,a=t;o<a.length;o++){var s=a[o];s.isShow&&(s.isScene||s.fullScreen)&&(A=this.getLayerIndex(s),(-1===n||n>A)&&(-1==r||A>r)&&(r=A,i=s))}return i}},t.popSceneUI=function(e){if(e.fullScreen){var A=t._sceneStack.lastIndexOf(e);-1!=A&&t._sceneStack.splice(A,1);var i=t._sceneUIsMap[e.layerIndex]||[];A=i.indexOf(e),-1!=A&&i.splice(A,1)}},t.close=function(t,A){var i=this._openedMap[t];return i?void this.closeView(i,A):void e.GameLog.debug(t,"未打开")},t.closeUIType=function(e){var t=this._openedStack,A=t;if(A)for(var i=A.length;i--;)A[i].uiType>=e&&this.close(A[i].className)},t.closeOpenedUI=function(e,t){void 0===e&&(e=!0);for(var A=this._openedStack.concat(),i=0,r=A;i<r.length;i++){var n=r[i];e&&this._excludeMap[n.className]||n.close(t)}},t.closeExcludeUI=function(e,t,A){void 0===t&&(t=!0);for(var i=this._openedStack.concat(),r=0,n=i;r<n.length;r++){var o=n[r];e&&-1!=e.indexOf(o.className)||t&&this._excludeMap[o.className]||o.close(A)}},t.openView=function(t,A){var i=this;void 0===A||null===A||A instanceof Object||e.Functor.assert(!1,"传递给 UI 的参数必须是一个对象"),this._lastOpenUI=t;var r=A&&A.isCloseUpper;t.isCloseUpper=r,t.isScene&&this._lastSceneUI!==t&&(this._lastSceneUI=t),t.fullScreen&&(this._lastFullUI=t),t.adaptation&&(t.left=t.right=t.top=t.bottom=0,t.onLayout()),t.center&&(t.horizontalCenter=t.horizontalCenter||0,t.verticalCenter=t.verticalCenter||0),t.isShow=!0,t.parent&&!t.uiVis&&(t.visible=!0,t.onShowAgain()),t.uiVis=!0,t.parent||(t.visible=t.defaultVisible),t.onOpen();var n=i._openedStack,o=n.indexOf(t);if(0>o)n.push(t);else{var a=n.length,s=n[a-1];n[a-1]=n[o],n[o]=s}var c=t.parent;e.LayerManager.addLayer(t.layerIndex||2,t),c&&t.isReady&&t.update&&t.update(),c&&t.isReady&&t.addUpdateLater(),t.fullScreen&&i.pushSceneUI(t),r&&this.closeUpper(t.className),this.checkAddModel(t),this.checkMapVis(),this.delayHideLowerUIs(),e.App.dispatch("app_ui_show",{vo:t.vo,view:t})},t.closeView=function(e,t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(A){switch(A.label){case 0:return e.isShow?(e.isClosing=!0,this.closeStart(e),t?[3,2]:[4,new Promise(e.closeBefore.bind(e))]):[2];case 1:A.sent(),A.label=2;case 2:return this.closeEnd(e),[2]}})})},t.closeStart=function(t){t.isShow=!1,t.visible=!0,t.uiVis=!1;var A=this;e.CallLater.remove(t.hashCode+"updateLater");var i=t.className;i&&-1===A._closeMap.indexOf(i)&&A._closeMap.push(i)},t.closeEnd=function(t){if(!t.isShow){var A,i=this,r=t.className;if(r){i._lastSceneUI===t&&(i._lastSceneUI=null),A=i._openedStack;var n=A.indexOf(t);n>-1&&A.splice(n,1),delete this._openedMap[r]}t.onClose(),this.popSceneUI(t);var o=this._openedStack[this._openedStack.length-1],a=null;if(o)if(o.fullScreen)a=o;else for(var s=this._openedStack.length,c=void 0;s--;)if(c=this._openedStack[s],c.fullScreen){a=c;break}this._lastFullUI=a;var l=-1;A=this._openedStack;for(var u=A.length;u--;)if(A[u].isCloseUpper){l=u;break}o&&!o.uiVis&&(o.visible=o.uiVis=!0,o.onShowAgain());var d,h;h=this.getLayerIndex(this.getFirstFullUI()),A=this._openedStack.concat();var g;for(u=A.length;u--;)if(d=A[u],g=this.getLayerIndex(d),g>=h&&u>=l){if(t===d)continue;d.isShow&&!d.uiVis&&(d.visible=d.uiVis=!0,d.onShowAgain())}this._timeId&&(egret.clearTimeout(this._timeId),this._timeId=0),this._timeId=egret.setTimeout(this.delayHideLowerUIs,this,100),this.checkAddModel(t),this.checkMapVis(),i.clearUIImageRef(t);var p=t.vo;t.autoDestroy&&p&&(p.view=null),i.traverseDestroyData(t),t.parent&&t.parent.removeChild(t);var f=this._closeMap.indexOf(t.className);f>-1&&this._closeMap.splice(f,1),e.App.dispatch("app_ui_hide",{vo:p,view:t})}},t.checkAddModel=function(e){var t,A,i,r=this,n=r._openedStack,o=null,a=-1;for(i=n.length;i--;)t=n[i],t.uiVis&&t.modal&&t.stage&&(A=this.getLayerIndex(t),(-1===a||A>a)&&(a=A,o=t));o?r._addModel(o):r._rmModel()},t.clearUIImageRef=function(t){if(t){var A=t.skin;if(A)for(var i=A.states,r=i.length,n=0;r>n;n++)for(var o=i[n],a=o.overrides,s=a.length,c=0;s>c;c++){var l=a[c];if(l instanceof eui.AddItems){var u=A[l.target];u instanceof e.UIImage?u.clearSource():this.clearUIImageRef(u)}}var d=t.viewList;if(t instanceof TabSwitch&&d)for(var r=d.length,n=0;r>n;n++){var h=d[n];h instanceof e.UIImage?h.clearSource():this.clearUIImageRef(h)}var g=t.$children;if(g)for(var p=g.length,n=0;p>n;n++){var h=g[n];h instanceof e.UIImage?h.clearSource():this.clearUIImageRef(h)}}},t.getUI=function(e){return this._openedMap[e]},t.isOpen=function(e){return!!this._openedMap[e]},t.checkIsHigher=function(t,A){if(void 0===A&&(A=!0),!t||!t.parent)return!1;for(var i=this._openedStack,r=t.parent.getChildIndex(t),n=i.length-1;n>=0;--n){var o=i[n],a=A?o&&!this._excludeMap[o.className]&&(o.fullScreen||o.modal)&&e.Utils.isVisible(o):o&&!this._excludeMap[o.className];if(a){if(o.layerIndex>t.layerIndex)return!1;if(o.layerIndex===t.layerIndex&&o.parent.getChildIndex(o)>r)return!1}}return!0},t.stashPush=function(e){void 0===e&&(e=!0);for(var t=[],A=this._openedStack.concat(),i=0,r=A;i<r.length;i++){var n=r[i];n.isClosing||n.className&&"Alert"!=n.className&&"Dialog"!=n.className&&(e&&this._excludeMap[n.className]?n.close():(t.push({className:n.className,params:n.vo.params}),n.close()))}return this._stashStack.push(t),this._stashStack.length},t.forcedClose=function(){var e=this;this._stashStack&&this._stashStack.forEach(function(t){for(var A=0,i=t;A<i.length;A++){var r=i[A];e.close(r.className,!0)}}),this._stashStack.length=0},t.stashPop=function(){for(var e=this._stashStack.pop()||[],t=0,A=e;t<A.length;t++){var i=A[t];this.open(i.className,i.params)}return this._stashStack.length},t.getLastStashStack=function(){var e=this._stashStack[this._stashStack.length-1];return e},t.removeStashStack=function(e){var t=this._stashStack.indexOf(e);t>-1&&this._stashStack.splice(t,1)},t.hasFullUI=function(){return!!this._lastFullUI},t.setModelAlphaOnce=function(e,t){e===this._lastTopModelUI&&(this._modalRect.alpha=t)},t.getUILayer=function(t){var A=e.App.stage;do{if(t instanceof e.BaseUI)return t.layerIndex;if(!t)break;t=t.parent}while(t&&t!==A);return null},t.getBaseUI=function(t){var A=e.App.stage;do{if(t instanceof e.BaseUI)return t;if(!t)break;t=t.parent}while(t&&t!==A);return null},t.getBaseUIVo=function(t){var A=e.App.stage;do{if(t instanceof e.BaseUI)return t.vo;if(!t)break;t=t.parent}while(t&&t!==A);return null},t.traverseChildrenDestroy=function(t,A){if(t instanceof egret.DisplayObjectContainer)for(var i=t.numChildren-1;i>=0;--i){var r=t.getChildAt(i);r instanceof e.BaseView&&(r.autoDestroy=A),!(r instanceof eui.DataGroup)&&r instanceof egret.DisplayObjectContainer&&this.traverseChildrenDestroy(r,A)}},t.traverseDestroyData=function(t){if(t instanceof egret.DisplayObjectContainer)for(var A=t.numChildren-1;A>=0;--A){var i=t.getChildAt(A);i instanceof e.BaseView&&(i.vo=null),!(i instanceof eui.DataGroup)&&i instanceof egret.DisplayObjectContainer&&this.traverseDestroyData(i)}},t._addModel=function(e){var t=e.parent;if(t){var A=this._modalRect;A.parent&&A.parent.removeChild(A);var i=t.getChildIndex(e);e.touchEnabled=!1,A.alpha=e.modalAlpha,t.addChildAt(A,i),this._lastTopModelUI=e}},t._rmModel=function(){var e=this._modalRect;e.parent&&e.parent.removeChild(e),this._lastTopModelUI=null},t._onStageResize=function(){for(var e=0,t=this._openedStack;e<t.length;e++){var A=t[e];A.adaptation&&(A.onStageResize(),A.onLayout())}},t._onModalTap=function(){var e=this._lastTopModelUI;e&&e.autoClose&&(e.scaleAnimation&&(e.scaleX<1||e.scaleY<1)||e.isShow&&e.close())},t.checkLastOne=function(e){var t=Object.keys(this._openedMap),A=t.indexOf("GMTestView");return A>-1&&t.splice(A,1),1==t.length&&t[0]===e},t._uiMap={},t._mutexMap={},t._excludeMap={},t._openedMap={},t._openedStack=[],t._lastFullUI=null,t._lastTopModelUI=null,t._stashStack=[],t._hideMap={},t._hidePromptMsg="",t._sceneStack=[],t._sceneUIsMap=[],t._closeMap=[],t}();e.UI=t,__reflect(t.prototype,"core.UI"),window.UI=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.maximum=0,e.itemSize=0,e.currentIndex=0,e.direction="H",e.gap=0,e.autoTime=5e3,e.duraction=500,e.itemWidth=0,e.itemHeight=0,e.itemPrecent=.3,e.scrollDeriction="next",e}return __extends(A,t),Object.defineProperty(A.prototype,"source",{get:function(){return this._source},set:function(e){var t=this;t._source=e,t.maximum=e?e.length:0,t.isReady&&t.update()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"bannerRenderer",{get:function(){return this._bannerRenderer},set:function(e){var t=this;t._bannerRenderer!=e&&(t._bannerRenderer=e,t.bannerDisplay instanceof eui.DataGroup&&(t.bannerDisplay.itemRenderer=e))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"bannerRendererFunction",{get:function(){return this._bannerRendererFunction},set:function(e){var t=this;t._bannerRendererFunction!=e&&(t._bannerRendererFunction=e,t.bannerDisplay instanceof eui.DataGroup&&(t.bannerDisplay.itemRendererFunction=e))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"radioRenderer",{get:function(){return this._radioRenderer},set:function(e){var t=this;t._radioRenderer!=e&&(t._radioRenderer=e,t.radioList&&(t.radioList.itemRenderer=e))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"radioRendererFunction",{get:function(){return this._radioRendererFunction},set:function(e){var t=this;t._radioRendererFunction!=e&&(t.radioRendererFunction=e,t.radioList&&(t.radioList.itemRendererFunction=e))},enumerable:!0,configurable:!0}),A.prototype.initUI=function(){var e=this;e.bannerDisplay instanceof eui.DataGroup&&(e.bannerColl=e.bannerDisplay.dataProvider=new eui.ArrayCollection,e._bannerRenderer&&(e.bannerDisplay.itemRenderer=e._bannerRenderer),e._bannerRendererFunction&&(e.bannerDisplay.itemRendererFunction=e._bannerRendererFunction),e.itemSize="H"==e.direction?e.itemWidth+e.gap:e.itemHeight+e.gap);var t=e.radioList;t&&(e.radioColl=t.dataProvider=new eui.ArrayCollection,e._radioRenderer&&(t.itemRenderer=e._radioRenderer),e._radioRendererFunction&&(t.itemRendererFunction=e._radioRendererFunction))},A.prototype.addUI=function(){var t=this,A=t.scroller;t.currentIndex=0,A&&(A.viewport.scrollH=A.viewport.scrollV=0,t.addL(A,e.Evt.change,t.onScrollerBegin),t.addL(A,e.Evt.changeEnd,t.onScrollerEnd)),t.radioList&&t.addL(t.radioList,e.Evt.itemTap,t.onRadioItemTap),t.preBtn&&t.addL(t.preBtn,e.Evt.touchTap,t.onPreTap),t.nextBtn&&t.addL(t.nextBtn,e.Evt.touchTap,t.onNextTap)},A.prototype.update=function(){var e=this,t=e._source,A=e.bannerDisplay,i=e.currentIndex,r=e.maximum;0>i?(i=0,e.currentIndex=i):i>=r&&(i=Math.max(0,r-1),e.currentIndex=i),A instanceof eui.DataGroup?e.bannerColl&&e.replace(e.bannerColl,t):A instanceof eui.ItemRenderer?A.data=t?t[i]:null:e._bannerRendererFunction&&e._bannerRendererFunction(t?t[i]:null,i),e.replace(e.radioColl,t),e.setBannerIndex(i,!1),!t||1>=r?e.stopAuto():e.startAuto(!0)},A.prototype.setBannerIndex=function(e,t){var A=this,i=A.currentIndex,r=A.bannerDisplay;if(A.currentIndex=e,A.radioList&&(A.radioList.selectedIndex=e),r instanceof eui.DataGroup){var n=r,o="H"==A.direction?n.scrollH:n.scrollV,a=e*A.itemSize,s=A.duraction;if(!t||!s||0==i&&e==A.maximum-1||i==A.maximum-1&&0==e)"H"==A.direction?n.scrollH=a:n.scrollV=a;else{var c=Math.max(100,Math.round(Math.abs(a-o)/A.itemSize*s));"H"==A.direction?A.gt(n).to({scrollH:a},c):A.gt(n).to({scrollV:a},c)}}else r instanceof eui.ItemRenderer?r.data=A._source?A._source[e]:null:A._bannerRendererFunction&&A._bannerRendererFunction(A._source?A._source[e]:null,e)},A.prototype.startAuto=function(e){var t=this;e&&t.stopAuto(),t.autoTime&&t.maximum>1&&t.addCycle(t.autoTime,t.onAutoTick)},A.prototype.stopAuto=function(){this.removeTask(this.hashCode)},A.prototype.onAutoTick=function(){var e=this.currentIndex+1;e>=this.maximum&&(e=0),this.setBannerIndex(e,!0)},A.prototype.onScrollerBegin=function(e){var t=this,A=t.scroller.viewport,i="H"==t.direction?A.scrollH:A.scrollV,r=t.currentIndex*t.itemSize,n=t.maximum;if(egret.Tween.removeTweens(A),t.stopAuto(),0==t.currentIndex?t.scrollDeriction="next":t.currentIndex==n-1?t.scrollDeriction="pre":t.scrollDeriction=i>r?"next":"pre","next"==t.scrollDeriction){var o=(t.currentIndex+1)*t.itemSize;i>=o&&("H"==t.direction?A.scrollH=o:A.scrollV=o)}else{var o=(t.currentIndex-1)*t.itemSize;o>=i&&("H"==t.direction?A.scrollH=o:A.scrollV=o)}},A.prototype.onScrollerEnd=function(e){var t=this,A=t._source;if(A){var i=t.maximum;if(i){var r=t.scroller.viewport,n=t.currentIndex,o="H"==t.direction?r.scrollH:r.scrollV;Math.abs(o-Math.abs(n*t.itemSize))>t.itemSize*t.itemPrecent&&("next"==t.scrollDeriction?(n++,n>=i&&(n=0)):(n--,0>n&&(n=i-1))),t.setBannerIndex(n,!0),t.startAuto(!1)}}},A.prototype.onRadioItemTap=function(e){e.itemIndex!=this.currentIndex&&(this.setBannerIndex(e.itemIndex,!1),this.startAuto(!0))},A.prototype.onPreTap=function(){var e=this,t=e.currentIndex-1;0>t&&(t=e.maximum-1),e.setBannerIndex(t,!0),e.startAuto(!0)},A.prototype.onNextTap=function(){var e=this,t=e.currentIndex+1;t>=e.maximum&&(t=0),e.setBannerIndex(t,!0),e.startAuto(!0)},A.prototype.removeUI=function(){var e=this;e.bannerDisplay instanceof eui.DataGroup?e.replace(e.bannerColl,null):e.bannerDisplay instanceof eui.ItemRenderer&&(e.bannerDisplay.data=null),e.replace(e.radioColl,null),this.stopAuto(),e._source=null,e.maximum=0},A}(e.BaseView);e.Banner=t,__reflect(t.prototype,"core.Banner")}(core||(core={}));var core;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.anticlockwise=!0,t.startAngle=0,t.endAngle=360,t.centerX=0,t.centerY=0,t.radius=0,t}return __extends(t,e),t.prototype.updateSkinDisplayList=function(){var e=this,t=e.animation.isPlaying?e.animationValue:e.value,A=e.maximum,i=e.thumb;if(i){var r=e._shape;r||(r=e._shape=new egret.Shape,r.x=e.centerX,r.y=e.centerY,e.addChild(r),i.mask=r);var n=e.startAngle,o=e.endAngle,a=Math.round(t/A*Math.abs(n-o));a===1/0&&(a=0);var s=e.radius,c=s*Math.sin(n),l=-s*Math.cos(n);r.graphics.clear(),r.graphics.beginFill(65535,1),r.graphics.moveTo(0,0),r.graphics.lineTo(c,l),e.anticlockwise?r.graphics.drawArc(0,0,s,n*Math.PI/180,(n-a)*Math.PI/180,e.anticlockwise):r.graphics.drawArc(0,0,s,o*Math.PI/180,(o+a)*Math.PI/180,e.anticlockwise),r.graphics.lineTo(0,0),r.graphics.endFill()}e.labelDisplay&&(e.labelDisplay.text=e.valueToLabel(t,A))},t}(eui.ProgressBar);e.ArcBar=t,__reflect(t.prototype,"core.ArcBar"),window.ArcBar=t}(core||(core={}));var core;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.anticlockwise=!1,t.startAngle=-90,t.eor=0,t}return __extends(t,e),t.prototype.updateSkinDisplayList=function(){var e=this,t=e.animation.isPlaying?e.animationValue:e.value,A=e.maximum,i=e.thumb;if(i){var r=.5*i.width,n=.5*i.height,o=e._shape;o||(o=e._shape=new egret.Shape,e.addChild(o),i.mask=o),o.x=i.x+r,o.y=i.y+n;var a=Math.round(t/A*360);(0>a||a===1/0)&&(a=0),e.anticlockwise&&(a=0==t?0:t==A?a:360-a);var s=Math.max(r,n),c=e.startAngle,l=Math.PI/180;o.graphics.clear(),o.graphics.lineStyle(1,16711680),o.graphics.beginFill(65535,1),o.graphics.moveTo(0,0),o.graphics.lineTo(s*Math.cos(c*l),s*Math.sin(c*l)),o.graphics.drawArc(0,0,s,c*l,(c+a)*l,e.anticlockwise),o.graphics.lineTo(0,0),o.graphics.endFill();var u=e.eff;if(u){var d=(c+a)*Math.PI/180;u.x=(s+this.eor)*Math.cos(d),u.y=(s+this.eor)*Math.sin(d)}}e.labelDisplay&&(e.labelDisplay.text=e.valueToLabel(t,A))},t}(eui.ProgressBar);e.CircleBar=t,__reflect(t.prototype,"core.CircleBar"),window.CircleBar=t}(core||(core={}));var core;!function(e){var t=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.updateSkinDisplayList=function(){var e=this,t=e.animation.isPlaying?e.animationValue:e.value,A=e.maximum,i=e.thumb,r=e.thumbMask;if(i){var n=i.width,o=i.height,a=Math.round(t/A*n);(0>a||a===1/0)&&(a=0);var s=Math.round(t/A*o);switch((0>s||s===1/0)&&(s=0),e.direction){case eui.Direction.LTR:r.width=a,r.x=i.x;break;case eui.Direction.RTL:r.width=a,r.x=i.x+n-a;break;case eui.Direction.TTB:r.height=s,i.y=i.y;break;case eui.Direction.BTT:r.height=s,r.y=i.y+o-s}}e.labelDisplay&&(e.labelDisplay.text=e.valueToLabel(t,A))},t}(eui.ProgressBar);e.MaskBar=t,__reflect(t.prototype,"core.MaskBar"),window.MaskBar=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i){void 0===i&&(i="");var r=e.call(this,t,A)||this;return r.prefix=i,r}return __extends(t,e),t.prototype.getTexture=function(e){var t=this;e=t.prefix+e;var A=this._textureMap[e];if(!A){var i=t.charList[e];if(!i)return null;A=this.createTexture(e,i.x,i.y,i.w,i.h,i.offX,i.offY,i.sourceW,i.sourceH),this._textureMap[e]=A}return A},t.prototype.getConfig=function(e,t){var A=this;return e=A.prefix+e,A.charList[e]?A.charList[e][t]:0},t.prototype._getFirstCharHeight=function(){var e=this;if(0==e.firstCharHeight)for(var t in e.charList)if(!e.prefix||0==t.indexOf(e.prefix)){var A=e.charList[t];if(A){var i=A.sourceH;if(void 0===i){var r=A.h;void 0===r&&(r=0);var n=A.offY;void 0===n&&(n=0),i=r+n}if(0>=i)continue;e.firstCharHeight=i;break}}return e.firstCharHeight},t}(egret.BitmapFont);e.UIBitmapFont=t,__reflect(t.prototype,"core.UIBitmapFont")}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e._prefix="",e}return __extends(A,t),Object.defineProperty(A.prototype,"prefix",{get:function(){return this._prefix},set:function(t){var A=this;A._prefix!=t&&(A._prefix=t,A.font instanceof e.UIBitmapFont&&(A.font.prefix=t),A.$invalidateContentBounds())},enumerable:!0,configurable:!0}),A.prototype.$onAddToStage=function(e,A){t.prototype.$onAddToStage.call(this,e,A);var i=this;i.$fontChanged&&i.parseAsset()},A.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this);var A=this;A.$fontChanged=!0;var i=A.$fontForBitmapLabel;if(i&&"string"==typeof i&&e.RenderUtils.checkInGroup(i)){var r=e.RenderUtils.getGroupName(i);r&&!e.RenderUtils.isResidentRes(r)&&e.GCMgr.remove(A.hashCode,r)}},A.prototype.createChildren=function(){var e=this;e.$fontChanged&&e.parseAsset(),e.$createChildrenCalled=!0},A.prototype.$setFont=function(e){var t=this;return t.$fontForBitmapLabel==e?!1:(t.$fontForBitmapLabel=e,t.$createChildrenCalled?t.parseAsset():t.$fontChanged=!0,t.$fontStringChanged=!0,!0)},A.prototype.parseAsset=function(){var t=this;t.$fontChanged=!1;var A=t.$fontForBitmapLabel;if("string"==typeof A)if(-1!=A.indexOf("_fnt")){if(e.RenderUtils.checkInGroup(A)){var i=e.RenderUtils.getGroupName(A);i&&!e.RenderUtils.isResidentRes(i)&&e.GCMgr.put(t.hashCode,i)}var r=RES.getResourceInfo(A);RES.getResByUrl(r.root+r.url,function(A){var i=RES.getResourceInfo(RES.nameSelector(A.file));if(!i){var n=RES.processor.getRelativePath(r.url,A.file);i={name:n,url:n,type:RES.ResourceItem.TYPE_IMAGE,root:r.root}}RES.getResByUrl(i.root+i.url,function(r){var n=new e.UIBitmapFont(r,A,t.prefix);n.$resourceInfo=i,t.$setFontData(n)},t,i.type)},t,RES.ResourceItem.TYPE_JSON)}else{if(e.RenderUtils.checkInGroup(A)){var i=e.RenderUtils.getGroupName(A);
i&&!e.RenderUtils.isResidentRes(i)&&e.GCMgr.put(t.hashCode,i)}eui.getAssets(A,function(i){var r=RES.getResourceInfo(A);RES.getResByUrl(r.root+r.url,function(A){var r=new e.UIBitmapFont(i.$texture,A,t.prefix);r.$resourceInfo=i.$resourceInfo,t.$setFontData(r)},t,RES.ResourceItem.TYPE_JSON)},t)}else t.$setFontData(A)},A.prototype.$updateRenderNode=function(){var e=this,t=this.$getTextLines(),A=t.length;if(0==A)return void(egret.nativeRender&&e.$font&&(e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,e.$font.$texture,[]),e.$nativeDisplayObject.setWidth(0),e.$nativeDisplayObject.setHeight(0)));var i,r=[],n=e.$textLinesWidth,o=e.$font;egret.nativeRender||(i=this.$renderNode,o.$texture&&(i.image=o.$texture.$bitmapData),i.smoothing=e.$smoothing);for(var a=o._getFirstCharHeight(),s=Math.ceil(a*egret.BitmapText.EMPTY_FACTOR),c=!isNaN(e.$textFieldHeight),l=e.$textWidth,u=e.$textFieldWidth,d=e.$textFieldHeight,h=e.$textAlign,g=e.$textOffsetY+e.$textStartY,p=this.$lineHeights,f=0,v=0;A>v;v++){var m=p[v];if(c&&v>0&&g+m>d)break;var I=t[v],E=I.length,C=e.$textOffsetX;if(h!=egret.HorizontalAlign.LEFT){var y=u>l?u:l;h==egret.HorizontalAlign.RIGHT?C+=y-n[v]:h==egret.HorizontalAlign.CENTER&&(C+=Math.floor((y-n[v])/2))}for(var B=0;E>B;B++){var _=I.charAt(B),Q=o.getTexture(_);if(Q){var b=Q.$bitmapWidth,w=Q.$bitmapHeight;switch(f=0,e.verticalAlign){case egret.VerticalAlign.BOTTOM:f=m-Q.$getTextureHeight();break;case egret.VerticalAlign.MIDDLE:f=.5*(m-Q.$getTextureHeight())}egret.nativeRender?r.push(Q.$bitmapX,Q.$bitmapY,b,w,C+Q.$offsetX,g+Q.$offsetY+f,Q.$getScaleBitmapWidth(),Q.$getScaleBitmapHeight(),Q.$sourceWidth,Q.$sourceHeight):(i.imageWidth=Q.$sourceWidth,i.imageHeight=Q.$sourceHeight,i.drawImage(Q.$bitmapX,Q.$bitmapY,b,w,C+Q.$offsetX,f+g+Q.$offsetY,Q.$getScaleBitmapWidth(),Q.$getScaleBitmapHeight())),C+=(o.getConfig(_,"xadvance")||Q.$getTextureWidth())+e.$letterSpacing}else" "==_?C+=s:egret.$warn(1046,_)}g+=m+e.$lineSpacing}if(egret.nativeRender){e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,o.$texture,r);var S=e.$getContentBounds();e.$nativeDisplayObject.setWidth(S.width),e.$nativeDisplayObject.setHeight(S.height)}},A}(eui.BitmapLabel);e.UIBitmapLabel=t,__reflect(t.prototype,"core.UIBitmapLabel"),window.UIBitmapLabel=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.scaleFactor=.95,e.scaleDuration=300,e.alignment=5,e.soundEnabled=!0,e.panelId=0,e.uiName="",e._textSize=0,e._textColor=16777215,e._effType=1,e._zcode=0,e._container=new eui.Component,e._format="",e._textSize=void 0,e._textColor=void 0,e.textColor=null,e}return __extends(A,t),Object.defineProperty(A.prototype,"textSize",{get:function(){return this._textSize},set:function(e){e=+e,this._textSize=e;var t=this.labelDisplay;t instanceof eui.Label&&(t.size=e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"textColor",{get:function(){return this._textColor},set:function(e){this._textColor=e;var t=this.labelDisplay;t instanceof eui.Label&&(t.textColor=e)},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"effType",{get:function(){return this._effType},set:function(e){this._effType=e},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"zcode",{get:function(){return this._zcode},set:function(e){this._zcode=e;var t=window.Msg;this._format=t?t.msg(e):"",this.formatStr()},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"format",{get:function(){return this._format},set:function(e){this._format=e},enumerable:!0,configurable:!0}),A.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this);var e=this,A=e.showComponent||e._container;egret.Tween.removeTweens(A),1!=A.scaleX&&(A.scaleX=A.scaleY=1),this.scaleBg&&this.scaleBg.removeEventListener(egret.Event.RESIZE,this.setBgSizeToSelf,this)},A.prototype.setSkin=function(e){var A=this,i=A._container;if(i&&i.removeChildren(),this.scaleBg&&this.scaleBg.removeEventListener(egret.Event.RESIZE,this.setBgSizeToSelf,this),t.prototype.setSkin.call(this,e),i){i.parent&&i.parent.removeChild(i);for(var r=A.numChildren;r--;)i.addChildAt(A.getChildAt(r),0);A.addChild(i)}},A.prototype.getContainer=function(){return this.showComponent||this._container},A.prototype.formatStr=function(){for(var t=[],A=0;A<arguments.length;A++)t[A]=arguments[A];var i=this.labelDisplay;if(i){var r=e.PHE.format(this._format,t);return i.textFlow=e.StringUtils.rich(r),i.text}},A.prototype.onDestroy=function(){this.uiName=this.panelId=this.uiParam=void 0},A.prototype.buttonReleased=function(){var t=this;if(t.soundEnabled){var A=t.sound||"sound_button_press";if(A){var i=window.SoundUtils;i&&i.reg(t,A)}}var r,n,o;if(r=t.uiName,n=t.panelId,(r||n)&&(o=t.uiParam instanceof Function?t.uiParam():t.uiParam),r)e.UI.open(r,o);else if(n){var a=window.PanelMgr;a&&a.open(n,o)}},A.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this);var e=this;!e.scaleBg&&e.iconDisplay&&(e.scaleBg=e.iconDisplay);var A=e.scaleBg,i=e._container;switch(e.alignment){case 1:break;case 2:i.horizontalCenter=0;break;case 3:i.right=0;break;case 4:i.verticalCenter=0;break;case 5:i.horizontalCenter=i.verticalCenter=0;break;case 6:i.right=i.verticalCenter=0;break;case 7:i.bottom=0;break;case 8:i.horizontalCenter=i.bottom=0;break;case 9:i.right=i.bottom=0}if(A){var r=e.explicitWidth,n=e.explicitHeight;e._initW=r,e._initH=n,isNaN(r)||(i.width=r),isNaN(n)||(i.height=n),(isNaN(r)||isNaN(n))&&(e.setBgSizeToSelf(),A.width&&A.height||A.addEventListener(egret.Event.RESIZE,this.setBgSizeToSelf,this))}},A.prototype.setBgSizeToSelf=function(){var e=this.scaleBg;e&&(isNaN(this._initW)&&(this.width=e.width),isNaN(this._initH)&&(this.height=e.height))},A.prototype.getCurrentState=function(){var e=t.prototype.getCurrentState.call(this),A=this,i=A.scaleDuration,r=A.showComponent||A._container;if(egret.Tween.removeTweens(r),1===this._effType)if("down"==e){var n=A.scaleFactor;i>0?egret.Tween.get(r).to({scaleX:n,scaleY:n},i):r.scaleX=r.scaleY=n}else"up"==e?1!=r.scaleX&&egret.Tween.get(r).to({scaleX:1,scaleY:1},100):"disabled"==e&&1!=r.scaleX&&egret.Tween.get(r).to({scaleX:1,scaleY:1},100);return e},A.prototype.partAdded=function(e,t){var A=this;if(t===A.labelDisplay){var i=t;A.label&&(i.text=A.label),void 0!=A._textSize&&(A.textSize=A._textSize),void 0!=A._textColor&&(A.textColor=A._textColor)}else t==A.iconDisplay&&(A.iconDisplay.source=A.icon)},A}(eui.Button);e.UIButton=t,__reflect(t.prototype,"core.UIButton"),window.UIButton=t}(core||(core={}));var core;!function(e){var t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(eui.CheckBox);e.UICheckBox=t,__reflect(t.prototype,"core.UICheckBox"),window.UICheckBox=t}(core||(core={}));var core;!function(e){var t=function(e){function t(){var t=e.call(this)||this;return t.textSize=18,t.textColor=16777215,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this,A=t.labelDisplay;A instanceof eui.Label&&(A.size=t.textSize,A.textColor=t.textColor)},t}(eui.RadioButton);e.UIRadioButton=t,__reflect(t.prototype,"core.UIRadioButton"),window.UIRadioButton=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;e._onceHandler=null,e._onceObject=null,e._onceArgs=[],e._endHandler=null,e._endObject=null,e._endArgs=[],e._longPressEnabled=!0,e._longPressInterval=500,e._continueInterval=100;var A=e;return A._longPressTimer=new egret.Timer(A.longPressInterval,1),A._continueTimer=new egret.Timer(A.continueInterval,0),e}return __extends(A,t),Object.defineProperty(A.prototype,"longPressInterval",{get:function(){return this._longPressInterval},set:function(e){var t=this;e!=t._longPressInterval&&(t._longPressInterval=e,t._longPressTimer=new egret.Timer(t._longPressInterval,1))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"continueInterval",{get:function(){return this._continueInterval},set:function(e){var t=this;e!=t._continueInterval&&(t._continueInterval=e,t._continueTimer=new egret.Timer(t._continueInterval,0))},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"longPressEnabled",{get:function(){return this._longPressEnabled},set:function(t){var A=this;t!=A._longPressEnabled&&(A._longPressEnabled=t,t?(A._longPressTimer=new egret.Timer(A.longPressInterval,1),A._continueTimer=new egret.Timer(A.continueInterval,0)):(A._longPressTimer.removeEventListener(e.Evt.timerComplete,A.onLongPress,A),A._continueTimer.removeEventListener(e.Evt.timer,A.onceHandler,A),A._longPressTimer=null,A._continueTimer=null))},enumerable:!0,configurable:!0}),A.prototype.setOnceHandler=function(t,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=this;n._onceHandler=t,n._onceObject=A,n._onceArgs=i,n.addEventListener(e.Evt.touchBegin,n.onBegin,n)},A.prototype.onceHandler=function(){this._onceHandler&&this._onceHandler.apply(this._onceObject,this._onceArgs)},A.prototype.setEndHandler=function(t,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=this;n._endHandler=t,n._endObject=A,n._endArgs=i,n.addEventListener(e.Evt.touchBegin,n.onBegin,n)},A.prototype.endHandler=function(){this._endHandler&&this._endHandler.apply(this._endObject,this._endArgs)},A.prototype.removeHandler=function(){var t=this;t.removeEventListener(e.Evt.touchBegin,t.onBegin,t),t.removeEventListener(e.Evt.touchEnd,t.onTouchEnd,t),t.removeEventListener(e.Evt.touchCancel,t.onTouchEnd,t),t.removeEventListener(e.Evt.touchReleaseOutside,t.onTouchEnd,t),t.longPressEnabled&&(t.stage.removeEventListener(e.Evt.touchMove,t.onTouchMove,t),t._longPressTimer.removeEventListener(e.Evt.timerComplete,t.onLongPress,t),t._longPressTimer.reset(),t._continueTimer.removeEventListener(e.Evt.timer,t.onceHandler,t),t._continueTimer.reset())},A.prototype.onBegin=function(){var t=this;t.addEventListener(e.Evt.touchEnd,t.onTouchEnd,t),t.addEventListener(e.Evt.touchCancel,t.onTouchEnd,t),t.addEventListener(e.Evt.touchReleaseOutside,t.onTouchEnd,t),t.longPressEnabled&&(t._longPressTimer.addEventListener(e.Evt.timerComplete,t.onLongPress,t),t._longPressTimer.reset(),t._longPressTimer.start())},A.prototype.onTouchMove=function(e){var t=this.getBounds(),A=this.globalToLocal(e.stageX,e.stageY);t.contains(A.x,A.y)||this.onTouchEnd(e)},A.prototype.onTouchEnd=function(t){var A=this;(!A.longPressEnabled||0==A._longPressTimer.currentCount&&A._onceHandler&&t.type==e.Evt.touchEnd)&&A.onceHandler(),A.removeEventListener(e.Evt.touchEnd,A.onTouchEnd,A),A.removeEventListener(e.Evt.touchCancel,A.onTouchEnd,A),A.removeEventListener(e.Evt.touchReleaseOutside,A.onTouchEnd,A),A.longPressEnabled&&(A.stage.removeEventListener(e.Evt.touchMove,A.onTouchMove,A),A._longPressTimer.removeEventListener(e.Evt.timerComplete,A.onLongPress,A),A._longPressTimer.reset(),A._continueTimer.removeEventListener(e.Evt.timer,A.onceHandler,A),A._continueTimer.reset()),A._endHandler&&A.endHandler()},A.prototype.onLongPress=function(){var t=this;t._longPressTimer.removeEventListener(e.Evt.timerComplete,t.onLongPress,t),t.stage.addEventListener(e.Evt.touchMove,t.onTouchMove,t),t._continueTimer.addEventListener(e.Evt.timer,t.onceHandler,t),t._continueTimer.reset(),t.onceHandler(),t._continueTimer.start()},A}(eui.Button);e.LongPressButton=t,__reflect(t.prototype,"core.LongPressButton"),window.LongPressButton=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i){var r=e.call(this)||this;return r.clazz=null,r.mutexType=0,r.className=t,r.clazz=A,r.skinName=i,r}return __extends(t,e),t}(egret.HashObject);e.UIClassVO=t,__reflect(t.prototype,"core.UIClassVO"),window.UIClassVO=t}(core||(core={}));var core;!function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isSkinReady=!1,t.isCreated=!1,t.isDataReady=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"isReady",{get:function(){var e=this;return e.isSkinReady&&e.isCreated&&e.isDataReady&&e.$hasAddToStage},enumerable:!0,configurable:!0}),t.prototype.$onAddToStage=function(t,A){e.prototype.$onAddToStage.call(this,t,A),this.onAddToStage()},t.prototype.setSkin=function(t){if(e.prototype.setSkin.call(this,t),t){var A=this;A.isSkinReady=!0,A.isCreated&&A.initUI&&A.initUI(),A.isReady&&A.update()}},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this);var t=this;t.isCreated=!0,t.isSkinReady&&t.initUI&&this.initUI(),t.isReady&&t.update&&t.update()},t.prototype.dataChanged=function(){var e=this;e.isDataReady=!0,e.isReady&&e.update&&e.update()},t}(eui.ItemRenderer);e.BaseItem=t,__reflect(t.prototype,"core.BaseItem"),window.BaseItem=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i,r){void 0===A&&(A=0),void 0===i&&(i=0),void 0===r&&(r=!1);var n=e.call(this)||this;n.autoFit=!1,n.itemWidth=0,n.itemHeight=0;var o=n;return o.positions=t,o.autoFit=r,o.itemWidth=A,o.itemHeight=i,n}return __extends(t,e),t.prototype.updateDisplayList=function(t,A){e.prototype.updateDisplayList.call(this,t,A);var i=this;if(null!=i.target){for(var r=i.target.numElements,n=0,o=0,a=0;r>a;a++){var s=i.target.getElementAt(a)||i.target.getVirtualElementAt(a);if(egret.is(s,"eui.UIComponent")&&s.includeInLayout){i.itemWidth&&(s.width=i.itemWidth),i.itemHeight&&(s.height=i.itemHeight);var c=s.width,l=s.height,u=i.positions&&i.positions[a]?i.positions[a]:[0,0],d=u[0]||0,h=u[1]||0;s.setLayoutBoundsPosition(d,h),n=Math.max(n,d+c),o=Math.max(o,h+l)}}i.target.setContentSize(n,o),i.autoFit&&i.target.setMeasuredSize(n,o)}},t}(eui.LayoutBase);e.AbsoluteLayout=t,__reflect(t.prototype,"core.AbsoluteLayout"),window.AbsoluteLayout=t}(core||(core={}));var core;!function(e){var t=function(e){function t(t,A,i){void 0===t&&(t=0),void 0===A&&(A=0),void 0===i&&(i=!1);var r=e.call(this)||this;return r.angle=0,r.interval=0,r.rotation=!1,r.changeLayout(t,A,i),r}return __extends(t,e),t.prototype.changeLayout=function(e,t,A){void 0===e&&(e=0),void 0===t&&(t=0),void 0===A&&(A=!1),this.angle=(e||0)/180*Math.PI,this.interval=(t||0)/180*Math.PI,this.rotation=A},t.prototype.updateDisplayList=function(t,A){e.prototype.updateDisplayList.call(this,t,A);var i=this;if(null!=i.target){for(var r=i.angle,n=.5*t,o=.5*A,a=n,s=o,c=a>s?s:a,l=0,u=0,d=new Array,h=0,g=i.target.numElements;g>h;h++){var p=i.target.getElementAt(h)||i.target.getVirtualElementAt(h);egret.is(p,"eui.UIComponent")&&p.includeInLayout&&d.push(p)}for(var f=d.length,v=i.interval?i.interval:2*Math.PI/f,h=0;f>h;h++){var p=d[h],m=p.width,I=p.height;p.anchorOffsetX=.5*m,p.anchorOffsetY=.5*I;var E=r+h*v;i.rotation&&p.r_target instanceof egret.DisplayObject&&(p.r_target.rotation=180*E/Math.PI);var C=n+c*Math.sin(E)-.5*m,y=o-c*Math.cos(E)-.5*I;p.setLayoutBoundsPosition(C,y),l=Math.max(l,C+m),u=Math.max(u,y+I)}i.target.setContentSize(l,u)}},t}(eui.LayoutBase);e.RingLayout=t,__reflect(t.prototype,"core.RingLayout"),window.RingLayout=t}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e.fullScreen=!1,e.adaptation=!1,e.isShow=!1,e.modal=!0,e.modalAlpha=.5,e.center=!0,e.autoClose=!1,e.defaultVisible=!0,e.scaleAnimation=!1,e.bgAnimation=!0,e.aniDuration=500,e.scaleDuration=400,e.isClosing=!1,e.aniItems={},e.showAniPlaying=!1,e.hideAniPlaying=!1,e.showCount=0,e.hideCount=0,e.soundEnabled=!0,e.layerIndex=2,e.uiType=1,e}return __extends(A,t),Object.defineProperty(A.prototype,"isReady",{get:function(){var e=this;return e.isSkinReady&&e.isCreated&&e.$hasAddToStage&&e.isShow},enumerable:!0,configurable:!0}),A.prototype.open=function(){this.className?e.UI.open(this.className):e.UI.openView(this)},A.prototype.close=function(t){this.className?e.UI.close(this.className,t):e.UI.closeView(this,t)},A.prototype.onStageResize=function(){},A.prototype.onOpen=function(){if(this.soundEnabled){var e=this.openSound||"UI_MenuOpen",t=window.SoundUtils;t&&t.playUISound(e,this.hashCode)}},A.prototype.closeBefore=function(e){this.scaleAnimation?this.gt(this).set({scaleX:1,scaleY:1}).to({scaleX:0,scaleY:0},this.scaleDuration,egret.Ease.backIn).call(e):e()},A.prototype.onClose=function(){},A.prototype.onLayout=function(){var t=1;if(e.DeviceUtils.isFH){var A=e.App.stage.stageWidth;t=e.DeviceUtils.isPad?e.App.stage.stageHeight<=1335?t:e.NumberUtils.toFixed(e.App.stage.stageHeight/1335,4):1779>=A?t:e.NumberUtils.toFixed(A/1779,4)}else t=1;var i=e.DeviceUtils.riskArea;this.layout(i,t)},A.prototype.onDestroy=function(){this.aniItems={}},A.prototype.layout=function(e,t){},A.prototype.updateLater=function(){this.scaleAnimation&&this.gt(this).set({scaleX:0,scaleY:0,visible:!0}).to({scaleX:1,scaleY:1},this.scaleDuration,egret.Ease.backOut).call(this.onScaleFinish,this)},A.prototype.onScaleFinish=function(){},A.prototype.regAniItem=function(e,t,A,i){e&&t&&A&&(this.aniItems[e.hashCode]={item:e,src:t,des:A,param:i})},A.prototype.unRegAniItem=function(e){e&&delete this.aniItems[e.hashCode]},A.prototype.initAniItem=function(){var t=this.aniItems;for(var A in t){var i=t[A];e.ObjectUtils.merge(i.item,i.src)}},A.prototype.showAniItem=function(){var e=this;if(e.hideAniPlaying=!1,e.hideCount=0,!e.showAniPlaying){e.showAniPlaying=!0,e.showCount=0;var t=e.aniItems;for(var A in t){var i=t[A],r=e.gt(i.item),n=i.param;++e.showCount,n?r.wait(n.showWait?n.showWait:0).to(i.des,n.showDuration?n.showDuration:e.aniDuration,n.ease?n.ease[0]:void 0).call(e.onshowAniItem,e):r.to(i.des,e.aniDuration).call(e.onshowAniItem,e)}e.showCount||(this.showAniPlaying=!1,this.onShowComplete())}},A.prototype.hideAniItem=function(){var e=this;if(e.showAniPlaying=!1,e.showCount=0,!e.hideAniPlaying){e.hideAniPlaying=!0,e.hideCount=0;var t=e.aniItems;for(var A in t){var i=t[A],r=e.gt(i.item),n=i.param;++e.hideCount,n?r.wait(n.hideWait?n.hideWait:0).to(i.src,n.hideDuration?n.hideDuration:e.aniDuration,n.ease?n.ease[1]:void 0).call(e.onHideAniItem,e):r.to(i.src,e.aniDuration).call(e.onHideAniItem,e)}e.hideCount||(this.hideAniPlaying=!1,e.onHideComplete())}},A.prototype.onHideAniItem=function(){--this.hideCount,this.hideCount<=0&&this.hideAniPlaying&&(this.hideAniPlaying=!1,this.onHideComplete())},A.prototype.onHideComplete=function(){},A.prototype.onshowAniItem=function(){--this.showCount,this.showCount<=0&&this.showAniPlaying&&(this.showAniPlaying=!1,this.onShowComplete())},A.prototype.onShowComplete=function(){},A.prototype.onShowAgain=function(){},A.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this),this.showAniPlaying=!1,this.hideAniPlaying=!1},A}(e.BaseView);e.BaseUI=t,__reflect(t.prototype,"core.BaseUI"),window.BaseUI=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.sort=function(t,A){t.sort(function(t,i){return e.compareFunc(t,i,A)})},e.sortOn=function(t,A,i){A instanceof Array||(A=[A]),i instanceof Array||(i=[i]);var r=A.length;t.sort(function(t,n){for(var o=0;r>o;o++){var a=A[o],s=e.compareFunc(t[a],n[a],i[o]||0);if(0!=s)return s}return 0})},e.compareFunc=function(e,t,A){if(2&A){var i=e;e=t,t=i}return 16&A?(e=e||0,t=t||0,e-t):(e=e||"",t=t||"",e=e.toString(),t=t.toString(),1&A&&(e=e.toLowerCase(),t=t.toLowerCase()),t>e?-1:e>t?1:0)},e.remove=function(e,t){var A=e.indexOf(t);return A>=0&&e.splice(A,1),A},e.randGet=function(e){return e.length>0?e[Math.floor(e.length*Math.random())]:null},e.swap=function(e,t,A){if(t!=A){var i=e[t];e[t]=e[A],e[A]=i}},e.find=function(e,t,A){void 0===A&&(A=null);for(var i=0;i<e.length;i++)if(A){if(e[i][A]==t)return i}else if(e[i]==t)return i;return-1},e.bisectLocate=function(t,A,i,r,n){if(void 0===i&&(i=null),void 0===r&&(r=0),void 0===n&&(n=2147483647),r>=t.length)return t.length;if(n=Math.min(n,t.length-1),6>n-r){for(var o=n;o>=r;o--)if((i?t[o][i]:t[o])<A)return o+1;return r}var a=Math.floor((r+n)/2);return(i?t[a][i]:t[a])<A?e.bisectLocate(t,A,i,a+1,n):e.bisectLocate(t,A,i,r,a-1)},e.bisectFind=function(t,A,i){if(void 0===i&&(i=null),t.length>0){var r=e.bisectLocate(t,A,i);if(r<t.length&&(i?t[r][i]:t[r])==A)return r}return-1},e.bisectInsert=function(t,A,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var n=i?A[i]:A,o=t.length>0?e.bisectLocate(t,n,i):0;if(o<t.length){if(r&&(i?t[o][i]:t[o])==n)return-1;t.splice(o,0,A)}else t.push(A);return o},e.forEach=function(t,A,i){for(var r=t.length,n=0;r>n;n++)e.callItem(A,i,t[n],n,t)},e.map=function(t,A,i){for(var r=[],n=t.length,o=0;n>o;o++)r.push(e.callItem(A,i,t[o],o,t));return r},e.filter=function(t,A,i,r,n){void 0===r&&(r=!0),void 0===n&&(n=!1);for(var o=[],a=t.length,s=0;a>s;s++){var c=e.callItem(A,i,t[s],s,t);if(("boolean"==typeof r?c?!0:!1:c)==r){if(n)continue;o.push(t[s])}else n&&o.push(t[s])}return o},e.all=function(t,A,i,r){void 0===r&&(r=!0);var n=t.length;if(0==n)return!1;for(var o=0;n>o;o++){var a=e.callItem(A,i,t[o],o,t);if(("boolean"==typeof r?a?!0:!1:a)!=r)return!1}return!0},e.any=function(t,A,i,r){void 0===r&&(r=!0);for(var n=t.length,o=0;n>o;o++){var a=e.callItem(A,i,t[o],o,t);if(("boolean"==typeof r?a?!0:!1:a)==r)return!0}return!1},e.callItem=function(e,t,A,i,r){return e.length<=1?e.call(t,A):2==e.length?e.call(t,A,i):e.call(t,A,i,r)},e}();e.ArrayUtils=t,__reflect(t.prototype,"core.ArrayUtils"),window.ArrayUtils=t}(core||(core={}));var core;!function(e){var t=function(){function t(){this.focusMap={},this.txtMask=new eui.Rect,this.txtMask.alpha=0,this.txtMask.fillColor=0,this.txtMask.percentWidth=this.txtMask.percentHeight=100}return Object.defineProperty(t,"instance",{get:function(){return t._instance=t._instance||new t},enumerable:!0,configurable:!0}),t.prototype.attach=function(t){t&&(this.focusMap[t.hashCode]||(this.focusMap[t.hashCode]=t,t.addEventListener(e.Evt.focusIn,this.onFocusEvt,this)))},t.prototype.onFocusEvt=function(t){var A=this;this.currentFocusTxt=t.currentTarget,egret.callLater(function(){egret.lifecycle.stage.removeEventListener(e.Evt.touchBegin,A.onTouchBegin,A),egret.lifecycle.stage.addEventListener(e.Evt.touchBegin,A.onTouchBegin,A),egret.Capabilities.isMobile&&(A.txtMask.width=egret.lifecycle.stage.stageWidth,A.txtMask.height=egret.lifecycle.stage.stageHeight,e.App.root.addChild(A.txtMask),A.txtMask.addEventListener(e.Evt.touchBegin,A.onRemoveMask,A))},this)},t.prototype.onRemoveMask=function(){this.txtMask.parent&&this.txtMask.parent.removeChild(this.txtMask),this.txtMask.removeEventListener(e.Evt.touchTap,this.onRemoveMask,this)},t.prototype.onTouchBegin=function(e){var t=e.target,A=t instanceof egret.TextField||t instanceof eui.TextInput;!A&&this.blur()},t.prototype.blur=function(t){void 0===t&&(t=null);var A,i=t||this.currentFocusTxt;i instanceof egret.TextField?A=i.inputUtils:i instanceof eui.TextInput&&i.textDisplay&&(A=i.textDisplay.inputUtils),A&&A.stageText&&A.stageText.$hide(),egret.lifecycle.stage.removeEventListener(e.Evt.touchBegin,this.onTouchBegin,this),this.currentFocusTxt=null},t.prototype.detach=function(t){t&&(this.focusMap[t.hashCode]&&(this.blur(t),t.removeEventListener(e.Evt.focusIn,this.onFocusEvt,this),delete this.focusMap[t.hashCode]),this.onRemoveMask())},t}();e.BlurTxtMgr=t,__reflect(t.prototype,"core.BlurTxtMgr"),window.BlurTxtMgr=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.isEqual=function(t,A){var i=t.length;if(i!=A.length)return!1;for(var r=e.getBytes(t),n=e.getBytes(A),o=0;i>o;o++)if(r[o]!=n[o])return!1;return!0},e.concat=function(e,t,A){void 0===A&&(A=!1);var i=A?new e.constructor:e,r=i.length;return i.position=r,i.writeBytes(t),i},e.toHex=function(e,t,A,i,r){if(void 0===t&&(t=" "),void 0===A&&(A=""),void 0===i&&(i=0),void 0===r&&(r=0),i=0>i?Math.max(0,e.length+i):Math.min(i,e.length),r=Math.min(e.length-i,r||2147483647),r>0){for(var n=[],o=new Uint8Array(e.buffer),a=0;r>a;a++){var s=o[a+i].toString(16);n[a]=(A&&a+i==e.position?A:"")+(1==s.length?"0"+s:s)}return n.join(t)}return""},e.readAvailable=function(e){return e.length-e.position},e.getBytes=function(e){return e.bytes?e.bytes:new Uint8Array(e.buffer)},e}();e.ByteArrayUtils=t,__reflect(t.prototype,"core.ByteArrayUtils"),window.ByteArrayUtils=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.add=function(t,A,i,r){void 0===i&&(i=null),void 0===r&&(r=null);var n=this;if(null!=A){var o=n._methodIdList.indexOf(t);if(n._methodMap[o]==t){var a=n._argsList[o];return n._argsList[o]=r||[],a}n._methodMap[n._methodIdList.length]=t,n._methodIdList.push(t),n._methodList.push(A),n._methodThisObjectList.push(i),n._argsList.push(r||[]),n._invokeTimerId=n._invokeTimerId||e.Functor.delay(n.invokeLater,0,n)}return null},t.remove=function(e){var t=this,A=t._methodIdList.indexOf(e);return e&&t._methodMap[A]==e?(delete t._methodMap[A],t._methodIdList[A]=null,t._methodList[A]=null,t._argsList[A]=null,t._methodThisObjectList[A]=null,t.checkEmpty(),!0):!1},t.has=function(e){var t=this._methodIdList.indexOf(e);return this._methodMap[t]==e},t.getArgs=function(e){var t=this._methodIdList.indexOf(e);return this._methodMap[t]==e?this._argsList[t]:null},t.checkEmpty=function(){var e=this;for(var t in e._methodMap)return;e._methodIdList.splice(0),e._methodList.splice(0),e._argsList.splice(0),e._methodThisObjectList.splice(0),e._invokeTimerId&&(clearTimeout(e._invokeTimerId),e._invokeTimerId=0)},t.invokeLater=function(){var e=this;e._invokeTimerId=0;var t=e._methodIdList.splice(0),A=e._methodList.splice(0),i=e._argsList.splice(0),r=e._methodThisObjectList.splice(0);e._methodMap={};for(var n=t.length,o=0;n>o;o++){var a=A[o];a&&a.apply(r[o],i[o])}},t.invokeNow=function(){this._invokeTimerId&&(clearTimeout(this._invokeTimerId),this.invokeLater())},t.waitFor=function(t,A,i,r,n){void 0===i&&(i=null),void 0===r&&(r=null),void 0===n&&(n=0),t.apply(i)?A.apply(r):e.Functor.delay(this.waitFor,n,this,t,A,i,r,n)},t._methodMap={},t._methodIdList=[],t._methodList=[],t._methodThisObjectList=[],t._argsList=[],t._invokeTimerId=0,t}();e.CallLater=t,__reflect(t.prototype,"core.CallLater"),window.CallLater=t}(core||(core={}));var core;!function(e){var t=function(t){function i(i){var r=t.call(this)||this;r._index=0,r._addikey=[],r._buffer=new e.ByteArrayLittle;var n=r;n._addikey[0]=new A,n._addikey[0].sd=n.linearity(i),n._addikey[0].dis1=55,n._addikey[0].dis2=24,n._addikey[1]=new A,n._addikey[1].sd=n.linearity((2863311530&i)>>>1|(1431655765&i)<<1),n._addikey[1].dis1=57,n._addikey[1].dis2=7,n._addikey[2]=new A,n._addikey[2].sd=n.linearity(~((4042322160&i)>>>4|(252645135&i)<<4)),n._addikey[2].dis1=58,n._addikey[2].dis2=19;for(var o=0;3>o;++o){for(var a=n._addikey[o].sd,s=0;64>s;++s){for(var c=0;32>c;++c)a=n.linearity(a);n._addikey[o].buffer[s]=a}n._addikey[o].carry=0,n._addikey[o].index=63}return n._index=4096,n._buffer.length=4096,n._bufferBytes=e.ByteArrayUtils.getBytes(n._buffer),r}return __extends(i,t),i.prototype.linearity=function(e){var t=(1&(e>>>31^e>>>6^e>>>4^e>>>2^e>>>1^e))<<31|e>>>1;return 0>t?4294967296+t:t},i.prototype.addikeyNext=function(e){++e.index,e.index&=63;var t=(64|e.index)-e.dis1&63,A=(64|e.index)-e.dis2&63;e.buffer[e.index]=(e.buffer[t]+e.buffer[A])%4294967296,e.carry=e.buffer[e.index]<e.buffer[t]||e.buffer[e.index]<e.buffer[A]?1:0},i.prototype.generate=function(){var e=this;e._buffer.position=0,e._index=0;for(var t=0;1024>t;++t){var A=e._addikey[0].carry+e._addikey[1].carry+e._addikey[2].carry;if(0==A||3==A)e.addikeyNext(e._addikey[0]),e.addikeyNext(e._addikey[1]),e.addikeyNext(e._addikey[2]);else{var i=0;2==A&&(i=1);for(var r=0;3>r;++r)e._addikey[r].carry==i&&e.addikeyNext(e._addikey[r])}e._buffer.writeUnsignedInt(e._addikey[0].buffer[e._addikey[0].index]^e._addikey[1].buffer[e._addikey[1].index]^e._addikey[2].buffer[e._addikey[2].index])}},i.prototype.encode=function(t,A,i){if(void 0===i&&(i=0),t&&!(0>=A)){var r=this,n=e.ByteArrayUtils.getBytes(t);do{var o=4096-r._index;0>=o&&r.generate(),o>A&&(o=A),A-=o;for(var a=0;o>a;++a,++i,++r._index)n[i]^=r._bufferBytes[r._index]}while(A>0)}},i}(egret.HashObject);e.Ctx=t,__reflect(t.prototype,"core.Ctx"),window.Ctx=t;var A=function(){function e(){this.sd=0,this.dis1=0,this.dis2=0,this.index=0,this.carry=0,this.buffer=[]}return e}();e.AddiKey=A,__reflect(A.prototype,"core.AddiKey"),window.AddiKey=A}(core||(core={}));var core;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"serverNow",{get:function(){return this._timeOffset?this._timeOffset+egret.getTimer()+1e3*this.realTimeAddTime:(new Date).getTime()},set:function(e){this._timeOffset=e-egret.getTimer()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"secondNow",{get:function(){return Math.round(this._timeOffset?(this._timeOffset+egret.getTimer())/1e3+this.realTimeAddTime:(new Date).getTime()/1e3)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"clientNow",{get:function(){return this._timeOffset?this._timeOffset+egret.getTimer():(new Date).getTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverDateTime",{get:function(){var e=this;return e._timeOffset?e.getRelativeDate(e._timeOffset+egret.getTimer()+1e3*e.realTimeAddTime):new Date},enumerable:!0,configurable:!0}),Object.defineProperty(t,"serverTimeStr",{get:function(){return this.getServerTimeStr(this.serverNow)},enumerable:!0,configurable:!0}),t.getServerTimeStr=function(e){var t=this,A=new Date,i=A.getTimezoneOffset()/-60,r=3600*(i-t.timeZone)*1e3,n=new Date(e-r).toLocaleString(),o="";return 0!=r&&(o=" (GMT",t.timeZone>0?o=o+"+"+t.timeZone:o+=t.timeZone,o+=")"),n+o},t.getRelativeDate=function(e){var t=new Date,A=t.getTimezoneOffset()/-60,i=3600*(A-this.timeZone)*1e3;return new Date(e-i)},t.getRelativeTime=function(e){var t=this.getRelativeDate(e);return t.getTime()},t.getServerTime=function(e){var t=new Date,A=t.getTimezoneOffset()/-60,i=3600*(this.timeZone-A)*1e3;return e-i},t.getSummerTime=function(e,t,A,i,r,n,o){var a=new Date(e,t,A,i,r,n,o);return a.getTime()+3600*(a.getTimezoneOffset()/-60-this.timeZone)*1e3},t.format=function(e,t){void 0===e&&(e=null),void 0===t&&(t=""),e=e||this.serverDateTime,t=t||this.DIGIT_DATE_FORMAT+" "+this.DIGIT_TIME_FORMAT;var A={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+"日一二三四五六".charAt(e.getDay())));for(var i in A)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?A[i]:("00"+A[i]).substr((""+A[i]).length)));return t},t.formatTime=function(e,t){return void 0===t&&(t=""),this.format(this.getRelativeDate(e),t)},t.formatDigit=function(e){return void 0===e&&(e=null),this.format(e,this.DIGIT_DATE_FORMAT+" "+this.DIGIT_TIME_FORMAT)},t.formatChinese=function(e){return void 0===e&&(e=null),this.format(e,this.CHINESE_DATE_FORMAT+this.CHINESE_TIME_FORMAT)},t.formatDigitDate=function(e){return void 0===e&&(e=null),this.format(e,this.DIGIT_DATE_FORMAT)},t.formatChineseDate=function(e){return void 0===e&&(e=null),this.format(e,this.CHINESE_DATE_FORMAT)},t.formatDigitTime=function(e){return void 0===e&&(e=null),this.format(e,this.DIGIT_TIME_FORMAT)},t.formatChineseTime=function(e){return void 0===e&&(e=null),this.format(e,this.CHINESE_TIME_FORMAT)},t.formatTimespan=function(e,t,A,i,r){void 0===A&&(A=0),void 0===i&&(i=!1),void 0===r&&(r=!1);var n=this,o="",a=[86400,3600,60,1];if(0>=e&&r){for(var s=void 0,c=a.length;c--;)if(t[c]){s=c;break}o=n.appendTimespanPart(o,0,t[s],!0)}else for(var l=0,c=a.length;c>l;++l)if(t[l]){if(o=n.appendTimespanPart(o,Math.floor(e/a[l]),t[l]),i&&o)return o;e%=a[l]}return A&&(o+=e.toFixed(A).split(".")[1]),o},t.appendTimespanPart=function(t,A,i,r){void 0===r&&(r=!1);var n=e.StringUtils.ltrim(i,"#");return n!=i?t+=e.StringUtils.padLeft(A+"",i.length-n.length,"0")+n:(A||r)&&(t+=A+i),t},t.formatDigitTimespan=function(e){return this.formatTimespan(e,this.DIGIT_TIMESPAN_DELIMS)},t.formatChineseTimespan=function(e){return this.formatTimespan(e,this.CHINESE_TIMESPAN_DELIMS)},t.formatShortDigitTimespan=function(e){return this.formatTimespan(e,this.SHORT_DIGIT_TIMESPAN_DELIMS)
},t.formatShortChineseTimespan=function(e){return this.formatTimespan(e,this.SHORT_CHINESE_TIMESPAN_DELIMS)},t.formatFirstChineseTimespan=function(e){return this.formatTimespan(e,this.SHORT_CHINESE_TIMESPAN_DELIMS,0,!0)},t.formatChineseKeepZero=function(e){return this.formatTimespan(e,this.SHORT_CHINESE_ZERO,0,!1,!0)},t.getWeekName=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),e=e||this.serverDateTime,t=t||this.WEEK_NAMES,t[e.getDay()]},t._timeOffset=0,t._formatters={},t.timeZone=8,t.realTimeAddTime=0,t.WEEK_NAMES=["周日","周一","周二","周三","周四","周五","周六"],t.DIGIT_DATE_FORMAT="yyyy-MM-dd",t.CHINESE_DATE_FORMAT="yyyy年MM月dd日",t.DIGIT_TIME_FORMAT="HH:mm:ss",t.CHINESE_TIME_FORMAT="HH时mm分ss秒",t.DIGIT_TIMESPAN_DELIMS=["","##:","##:","##"],t.CHINESE_TIMESPAN_DELIMS=["天","#小时","##分","##秒"],t.SHORT_DIGIT_TIMESPAN_DELIMS=["",":","##:","##"],t.SHORT_CHINESE_TIMESPAN_DELIMS=["天","小时","分","#秒"],t.SHORT_CHINESE_ZERO=["天","小时","分","秒"],t}();e.DateUtils=t,__reflect(t.prototype,"core.DateUtils"),window.DateUtils=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"isMobileNative",{get:function(){return"object"==typeof platform&&("android"==platform.name||"ios"==platform.name)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isPcNative",{get:function(){return"object"==typeof platform&&"pc"==platform.name},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWeb",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WEB},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isMobile",{get:function(){return egret.Capabilities.isMobile},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWxGame",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.WXGAME},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isQQGame",{get:function(){return egret.Capabilities.runtimeType==egret.RuntimeType.QQGAME},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isXYX",{get:function(){var e=egret.Capabilities.runtimeType;return e==egret.RuntimeType.WXGAME||e==egret.RuntimeType.QQGAME},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWinPC",{get:function(){return"Windows PC"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isWinPhone",{get:function(){return"Windows Phone"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIOS",{get:function(){return"iOS"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isAndroid",{get:function(){return"Android"==egret.Capabilities.os},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIPad",{get:function(){return-1!=navigator.userAgent.indexOf("iPad")},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isIOSPreview",{get:function(){var e="object"==typeof platform&&"ios"==platform.name;if(!e)return!1;var t=window.$serverData;return t&&t.ispreview},enumerable:!0,configurable:!0}),Object.defineProperty(t,"system",{get:function(){var e,t,A,i=navigator.userAgent;return this.isIOS?(e=i.match(/iPhone OS .*?(?= )/),e&&e.length>0&&(t=e[0]||"",t=t.replace("iPhone OS ",""),A=t.replace(/_/g,"."))):this.isAndroid?(e=i.match(/Android.*?(?=;)/),e&&e.length>0&&(t=e[0]||"",A=t.replace("Android ",""))):this.isWinPC&&(e=i.match(/Windows NT .*?(?=;)/),e&&e.length>0&&(t=e[0]||"",A=t.replace("Windows NT ",""))),A||"Unknown"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"weChatSystem",{get:function(){var e,t,A=navigator.userAgent.match(/MicroMessenger.*?(?= )/);return A&&A.length>0&&(t=A[0],e=t.replace("MicroMessenger/","")),e||"Unknown"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"androidDevice",{get:function(){var e,t=navigator.userAgent.match(/Android.*; ?(.*(?= Build))/);return t&&t.length>1&&(e=t[1]),e||"Unknown"},enumerable:!0,configurable:!0}),Object.defineProperty(t,"riskArea",{get:function(){var t=this,A=t._riskArea;if(!A){var i=window.devicePixelRatio||1,r=egret.Capabilities.boundingClientWidth,n=egret.Capabilities.boundingClientHeight,o=i/Math.min(r*i/e.App.desginWidth,n*i/e.App.desginHeight),a=0,s=0,c=0,l=0,u=0,d=0,h=0,g=0,p=0,f=0;if(t.isMobile&&r/n>2)if(t.isIOS)c=32,l=0,h=20,g=20,p=20,f=20;else if(t.isAndroid){var v=t.androidDevice;-1!=t.risk_device_55.indexOf(v)?(c=55,l=34):-1!=t.risk_device_45.indexOf(v)?(c=45,l=34):-1!=t.risk_device_35.indexOf(v)&&(c=35,l=34),c=0,l=0}t.isXYX&&(u=40,d=97),t._riskArea=A={top:Math.ceil(a*o),bottom:Math.ceil(s*o),left:Math.ceil(c*o),right:Math.ceil(l*o),leftTop:Math.ceil(h*o),leftBottom:Math.ceil(p*o),rightTop:Math.ceil(g*o),rightBottom:Math.ceil(f*o),xyx_top:Math.ceil(u*o),xyx_right:Math.ceil(d*o)}}return A},enumerable:!0,configurable:!0}),Object.defineProperty(t,"isPad",{get:function(){return egret.Capabilities.isMobile&&egret.Capabilities.boundingClientWidth/egret.Capabilities.boundingClientHeight<e.App.desginWidth/e.App.desginHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t,"screenWidth",{get:function(){return egret.Capabilities.boundingClientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t,"screenHeight",{get:function(){return egret.Capabilities.boundingClientHeight},enumerable:!0,configurable:!0}),t.risk_device_55=["HuaWei MATE 30 Pro 5G","HuaWei MATE 30 Pro","HuaWei MATE 20 Pro","AXON 9 Pro","Galaxy S10","MI 8SE"],t.risk_device_45=["HuaWei P30 Pro","Mi 8","Honor 20 Pro","VIVO Z3X","OPPO A5","HuaWei P20 Pro","HuaWei Mate 20 5G","HuaWei MATE 30","Galaxy Note10  5G","HuaWei P20","MI 6 Pro"],t.risk_device_35=["Honor 10","Honor V10","MI 9","MI 9 Pro","MI 9 Pro 5G","VIVO X23","VIVO Z25","VIVO Z5x","VIVO Z3","VIVOZ3I","VIVO Y7S","VIVO Y3","VIVO Y91","VIVO U3","VIVO U3X","VIVO U1","OPPO RENO ACE","OPPO RENO Z","OPPO R17 PRO","OPPO R17","OPPO R15X","OPPO A11","OPPO A11X","OPPO A9X","OPPO A9","OPPO A7","OPPO K5","OPPO K1","MI CC9","REDMI NOTE 7 PRO","REDMI NOTE 7","REDMI 7","MI 9 SE","REDMI 8","REDMI 8A","REDMI NOTE 8 PRO","REDMI NOTE 8","HuaWei NOVA 5 Pro","HuaWei NOVA 5I Pro","Honor V20","Honor NOVA 5Z","Honor 20","Honor Play3E","Honor Play3","Honor 20S","HuaWei MATE 20 X 5G","HuaWei NOVA 5","Honor 20 Pro","Honor 20I","HuaWei MATE 20","HuaWei NOVA 4E","HuaWei NOVA 4","HuaWei P30","HuaWei P30 Pro","Honor 8X MAX","OnePlus 7","OnePlus 7T","AXON 10 Pro","AXON 10 Pro 5G","Blade A7","Blade V10","Blade V10 VITA","Galaxy A90 5G","Galaxy A50S","Samsung Galaxy M30s","MI CC9E"],t.isFH=!0,t}();e.DeviceUtils=t,__reflect(t.prototype,"core.DeviceUtils"),window.DeviceUtils=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.value=function(e){return this.fixed.value=e,this.fixed},e.prototype.round=function(){return this.value=Math.round(this.value),this},e.prototype.floor=function(){return this.value=Math.floor(this.value),this},e.prototype.ceil=function(){return this.value=Math.ceil(this.value),this},e.prototype.abs=function(){return this.value=Math.abs(this.value),this},e.prototype.neg=function(){return this.value=-Math.floor(this.value*e.RATIO)/e.RATIO,this},e.prototype.max=function(e){return this.value=Math.max(this.value,e),this},e.prototype.min=function(e){return this.value=Math.min(this.value,e),this},e.prototype.log=function(){return this.value=e.toFixed(Math.log(this.value),e.DECIMALS),this},e.prototype.add=function(t){return this.value=(Math.floor(this.value*e.RATIO)+Math.floor(t*e.RATIO))/e.RATIO,this},e.prototype.sub=function(t){return this.value=(Math.floor(this.value*e.RATIO)-Math.floor(t*e.RATIO))/e.RATIO,this},e.prototype.mul=function(t){return this.value=Math.floor(this.value*e.RATIO)*Math.floor(t*e.RATIO)/e.RATIO/e.RATIO,this},e.prototype.div=function(t){return this.value=e.toFixed(Math.floor(this.value*e.RATIO)/Math.floor(t*e.RATIO),e.DECIMALS),this},e.prototype.pow=function(t){return this.value=e.toFixed(Math.pow(this.value,t),e.DECIMALS),this},e.prototype.sqrt=function(){return this.value=e.toFixed(Math.sqrt(this.value),e.DECIMALS),this},e.prototype.sin=function(){return this.value=e.toFixed(Math.sin(this.value),e.DECIMALS),this},e.prototype.cos=function(){return this.value=e.toFixed(Math.cos(this.value),e.DECIMALS),this},e.prototype.tan=function(){return this.value=e.toFixed(Math.tan(this.value),e.DECIMALS),this},e.prototype.asin=function(){return this.value=e.toFixed(Math.asin(this.value),e.DECIMALS),this},e.prototype.acos=function(){return this.value=e.toFixed(Math.acos(this.value),e.DECIMALS),this},e.prototype.atan=function(){return this.value=e.toFixed(Math.atan(this.value),e.DECIMALS),this},e.prototype.atan2=function(t){return this.value=e.toFixed(Math.atan2(this.value,t),e.DECIMALS),this},e.prototype.mod=function(t){var A=Math.pow(10,Math.max(e.getDecimalPlace(this.value),e.getDecimalPlace(t)));return this.value=e.toFixed(this.value*A)%e.toFixed(t*A)/A,this},e.prototype.toFixed=function(t){return this.value=e.toFixed(this.value,t),this},e.prototype.valueOf=function(){return this.value},e.prototype.toString=function(){return String(this.value)},e.round=function(e){return Math.round(e)},e.floor=function(e){return Math.floor(e)},e.ceil=function(e){return Math.ceil(e)},e.abs=function(e){return Math.abs(e)},e.neg=function(t){return e.value(t).neg()},e.max=function(e,t){return Math.max(e,t)},e.min=function(e,t){return Math.min(e,t)},e.log=function(t){return e.value(t).log().value},e.add=function(t,A){return e.value(t).add(A).value},e.sub=function(t,A){return e.value(t).sub(A).value},e.mul=function(t,A){return e.value(t).mul(A).value},e.div=function(t,A){return e.value(t).div(A).value},e.pow=function(t,A){return e.value(t).pow(A).value},e.sqrt=function(t){return e.value(t).sqrt().value},e.sin=function(t){return e.value(t).sin().value},e.cos=function(t){return e.value(t).cos().value},e.tan=function(t){return e.value(t).tan().value},e.asin=function(t){return e.value(t).asin().value},e.acos=function(t){return e.value(t).acos().value},e.atan=function(t){return e.value(t).atan().value},e.atan2=function(t,A){return e.value(t).atan2(A).value},e.mod=function(t,A){return e.value(t).mod(A).value},e.toFixed=function(e,t){if(void 0===t&&(t=0),0==t)return Math.round(e);var A=Math.pow(10,t);return Math.round(e*(10*A)/10)/A},e.getDecimalPlace=function(e){if(e&&e!==Math.floor(e)){for(var t=1,A=10,i=0;20>t;t+=1,A*=10)if(i=e*A,i==Math.floor(i))return t;return 20}return 0},e.randGet=function(e,t){var A=e.length;if(0>=A)return null;var i=t.random;return e[this.value(A).mul(i).floor().value]},e.rand=function(e,t,A){var i=A.random;return this.value(t).sub(e).mul(i).add(e).value},e.randInt=function(e,t,A){var i=A.random;return this.value(t).sub(e).add(1).floor().mul(i).add(e).value},e.randPoint=function(t,A){var i=A.random,r=A.random,n=egret.Point.polar(e.value(i).sqrt().mul(t).value,e.value(r).mul(e.PI).mul(2).value);return n.x=e.toFixed(n.x,e.DECIMALS),n.y=e.toFixed(n.y,e.DECIMALS),n},e.millisecond=function(t,A){return void 0===A&&(A=0),e.value(t||A).mul(1e3).value},e.atan2_pos=function(t,A,i,r){var n=e.value(i).sub(t).value,o=e.value(r).sub(A).value;return e.atan2(o,n)},e.distance=function(t,A,i,r){var n=e.value(t).sub(i).pow(2).value,o=e.value(A).sub(r).pow(2).value;return e.value(n).add(o).sqrt().value},e.DEG=57.29578,e.RAD=.017453,e.PI=3.141593,e.PI_2=1.570796,e.E=2.718282,e.LN2=.693147,e.LN10=2.302585,e.LOG2E=1.442695,e.LOG10E=.434294,e.SQRT1_2=.707107,e.SQRT2=1.414214,e.fixed=new e,e.RATIO=1e6,e.DECIMALS=6,e}();e.Fixed=t,__reflect(t.prototype,"core.Fixed"),window.Fixed=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.__extends=function(e,t){function A(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);A.prototype=t.prototype,e.prototype=new A},t.functor=function(e,t){void 0===t&&(t=null);for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return e.apply(t||this,A)}},t.functorLeft=function(e,t){void 0===t&&(t=null);for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return e.apply(t||this,A.concat(i))}},t.functorRight=function(e,t){void 0===t&&(t=null);for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return e.apply(t||this,i.concat(A))}},t.combineMethods=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.functorLeft(this.callMethods,e)},t.callMethods=function(e,t){void 0===t&&(t=null);for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];for(var r=0,n=e;r<n.length;r++){var o=n[r];o&&o.apply(t,A)}},t.iterateCall=function(e,t,A,i){void 0===t&&(t=null),void 0===A&&(A=10),void 0===i&&(i=0);for(var r=egret.getTimer();egret.getTimer()-r<A;)if(e(t))return;this.delay(this.iterateCall,Math.max(0,r+i-egret.getTimer()),null,e,t,A,i)},t.delay=function(e,t,A){void 0===A&&(A=null);for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];var n=window.setTimeout;return"function"==typeof e?n(function(){e.apply(A,i)},t||0):0},t.getResByUrl=function(e,t,A,i){return RES.getResByUrl(e,function(i,r){t&&t.apply(A,[i,e])},A,i)},t.assert=function(t,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];t||e.GameLog.warning(A)},t.destroyRes=function(e,t){return RES.hasRes(e)?RES.destroyRes(e,t):RES.destroyRes(e,t)},t.parse=function(e){return e&&"string"==typeof e?JSON.parse(e):null},t.yihuo=function(t,A){return e.XorDouble.encode(t)},t.countUp=function(e,t,A,i,r,n,o,a){void 0===o&&(o=null),void 0===a&&(a=null);var s=this;s._rollObjMap[e.hashCode]&&egret.Tween.removeTweens(s._rollObjMap[e.hashCode]);var c=s._rollObjMap[e.hashCode]={value:t,onUpdate:r,onComplete:o};egret.Tween.get(c,{onChange:function(){c.onUpdate(parseInt(c.value))},onChangeObj:this}).to({value:A},i).call(function(){!!o&&o.call(a),s._rollObjMap[e.hashCode]&&egret.Tween.removeTweens(s._rollObjMap[e.hashCode]),delete s._rollObjMap[e.hashCode]},this)},t.htmlError=function(t){if(!egret.Capabilities.isMobile){var A=document.createElement("div");A.style.fontSize="15px",A.style.color="#f00",A.style.display="inline-block",A.style.cssFloat="left",A.style.clear="both",A.style.position="relative",A.style.top="100%",A.style.left="50%",A.style.transform="translate(-50%,0)",t=t||"";var i=t.split("[LUA]")||[];i.push("<hr style='border-color:#ffdb35'/>"),i[0]=e.DateUtils.formatDigit(new Date)+"&nbsp;&nbsp;"+i[0],i=i.map(function(e,t,A){return t>0&&t!=A.length-1?"[LUA]".concat(e):e}),A.innerHTML=i.join("<br>"),document.body.appendChild(A)}},t._rollObjMap={},t}();e.Functor=t,__reflect(t.prototype,"core.Functor"),window.Functor=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.SDK_BindEmail=function(e){var t=window.LTGAME_SDK||{};t.SDK_BindEmail&&t.SDK_BindEmail(e)},t.SDK_BindFacebookAccount=function(e){var t=window.LTGAME_SDK||{};t.SDK_BindFacebookAccount&&t.SDK_BindFacebookAccount(e)},t.SDK_BindGoogleAccount=function(e){var t=window.LTGAME_SDK||{};t.SDK_BindGoogleAccount&&t.SDK_BindGoogleAccount(e)},t.SDK_GetBindInfo=function(e){var t=window.LTGAME_SDK||{};t.SDK_GetBindInfo&&t.SDK_GetBindInfo(e)},t.SDK_CleanToken=function(){var e=window.LTGAME_SDK||{};e.SDK_CleanToken&&e.SDK_CleanToken()},t.SDK_FbInvite=function(e,t){var A=window.LTGAME_SDK||{};A.SDK_FbInvite&&A.SDK_FbInvite(e,t)},t.SDK_FbShare=function(e,t){var A=window.LTGAME_SDK||{};A.SDK_FbShare&&A.SDK_FbShare(e,t)},t.SDK_GetFacebookFriends=function(e){var t=window.LTGAME_SDK||{};t.SDK_GetFacebookFriends&&t.SDK_GetFacebookFriends(e)},t.SDK_TwitterShare=function(e,t){var A=window.LTGAME_SDK||{};A.SDK_TwitterShare&&A.SDK_TwitterShare(e,t)},t.SDK_GoToRate=function(){var e=window.LTGAME_SDK||{};e.SDK_GoToRate&&e.SDK_GoToRate()},t.SDKFirstTenGacha=function(e){var t=window.LTGAME_SDK||{};t.SDKFirstTenGacha&&t.SDKFirstTenGacha(e)},t.SDKFirstPay=function(e){var t=window.LTGAME_SDK||{};t.SDKFirstPay&&t.SDKFirstPay(e)},t.SDKBuyMonthCard=function(e){var t=window.LTGAME_SDK||{};t.SDKBuyMonthCard&&t.SDKBuyMonthCard(e)},t.SDKBuyBattlePass=function(e){var t=window.LTGAME_SDK||{};t.SDKBuyBattlePass&&t.SDKBuyBattlePass(e)},t.SDKBuyFund=function(e){var t=window.LTGAME_SDK||{};t.SDKBuyFund&&t.SDKBuyFund(e)},t.SDKRecharge=function(e){var t=window.LTGAME_SDK||{};t.SDKRecharge&&t.SDKRecharge(e)},t.getPluginAviable=function(e){var t=window.LTGAME_SDK||{};return"1"==t[e]},t.SDKResearch=function(e){var t=window.LTGAME_SDK||{};t.SDKResearch&&t.SDKResearch(e)},t.SDKSwitchUser=function(){var e=window.LTGAME_SDK||{};e.SDKSwitchUser&&e.SDKSwitchUser()},t.logout=function(){var e=window.LTGAME_SDK||{};e.logout&&e.logout()},t.showDesktop=function(){var e=window.LTGAME_SDK||{};e.showDesktop&&e.showDesktop()},t.buyGoods=function(e){var t=window.LTGAME_SDK||{};t.buyGoods&&t.buyGoods(e)},t.logReport=function(t,A,i,r){var n=Date.now();null===i&&(i=2),r=r||n;var o=0,a=0;1===i?(o=n,a=Math.max(0,o-r)):2===i&&(o=r);var s=e.EVENT_NAMES[A]||A+"",c=window.LTGAME_SDK||{};c.logReport&&c.logReport(t,A,s,i,r,o,a)},t.getNotice=function(e){var t=window.LTGAME_SDK||{};t.getNotice&&t.getNotice(e.channel,e.uid,e.callback)},t.reportEvent=function(t){var A=window.LTGAME_SDK||{};A.SDKGameEvent&&(A.SDKGameEvent(t+""),e.GameLog.log("上报客户端埋点["+t+"]."))},t.SDKSwitchLogo=function(e){var t=window.LTGAME_SDK||{};t.SDKSwitchLogo&&t.SDKSwitchLogo(+e+"")},t.SDKRegister=function(e){var t=window.LTGAME_SDK||{};t.SDKRegister&&t.SDKRegister(e)},t.SDKCreateRole=function(e){var t=window.LTGAME_SDK||{};t.SDKCreateRole&&t.SDKCreateRole(e)},t.SDKEnterGame=function(e){var t=window.LTGAME_SDK||{};t.SDKEnterGame&&t.SDKEnterGame(e)},t.SDKReportPlayerInfo=function(e){var t=window.LTGAME_SDK||{};t.SDKReportPlayerInfo&&t.SDKReportPlayerInfo(e)},t.SDKRoleLevelUp=function(e){var t=window.LTGAME_SDK||{};t.SDKRoleLevelUp&&t.SDKRoleLevelUp(e)},t.SDKEnterServer=function(e){var t=window.LTGAME_SDK||{};t.SDKEnterServer&&t.SDKEnterServer(e)},t.SDKPlayVideo=function(e){var t=window.LTGAME_SDK||{};return t.SDKPlayVideo?(t.SDKPlayVideo(e),!0):!1},t.SDKStopVideo=function(){var e=window.LTGAME_SDK||{};e.SDKStopVideo&&e.SDKStopVideo()},t.SDKVibrate=function(e){var t=window.LTGAME_SDK||{};return t.SDKVibrate?(t.SDKVibrate(e),!0):!1},t.getProperty=function(e,t){var A=window.LTGAME_SDK||{};A.getProperty&&A.getProperty(e,t)},t.setProperty=function(e,t){var A=window.LTGAME_SDK||{};A.setProperty&&A.setProperty(e,t)},t.openLink=function(e){var t=window.LTGAME_SDK||{};t.openLink?t.openLink(e):window.open(e)},t.agreePivacy=function(){var e=window.LTGAME_SDK||{};e.agreePivacy&&e.agreePivacy()},t.deniedPivacy=function(){var e=window.LTGAME_SDK||{};e.deniedPivacy&&e.deniedPivacy()},t.getBehindDownloadInfo=function(){var e=window.LTGAME_SDK||{};e.getBehindDownloadInfo&&e.getBehindDownloadInfo()},t.openBehindDownload=function(){var e=window.LTGAME_SDK||{};e.openBehindDownload&&e.openBehindDownload()},t.pushBehindDownload=function(){var e=window.LTGAME_SDK||{};e.pushBehindDownload&&e.pushBehindDownload()},t}();e.GameSDK=t,__reflect(t.prototype,"core.GameSDK"),e.EVENT_NAMES=(A={},A[1001]="启动游戏",A[1002]="SDK登录",A[1003]="游戏登录授权",A[1004]="加载游戏脚本",A[1005]="请求服务器列表",A[1006]="检查更新",A[1007]="客户端更新",A[1008]="加载重定向资源配置",A[1009]="加载客户端资源总表",A[1010]="处理预加载资源",A[1011]="连接游戏服务器",A[1012]="打开创角界面",A[1013]="显示创角立绘",A[1014]="创角",A[1015]="进入游戏",A),window.GameSDK=t;var A}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.genID=function(e){void 0===e&&(e="");var t=this._idMap[e]||0;return this._idMap[e]=++t,t},e.genTag=function(e,t){void 0===e&&(e=""),void 0===t&&(t="");var A=this._idMap[e];return this._idMap[e]=++A,t+A},e._idMap={},e}();e.IDUtils=t,__reflect(t.prototype,"core.IDUtils"),window.IDUtils=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.equal=function(e,t,A){return void 0===A&&(A=1e-8),e-t>-A&&A>e-t},e.between=function(e,t,A){return!isNaN(t)&&t>e?!1:!isNaN(A)&&e>A?!1:!0},e.limit=function(e,t,A){return isNaN(t)&&(t=Number.NEGATIVE_INFINITY),isNaN(A)&&(A=Number.POSITIVE_INFINITY),isNaN(e)?t:(e>A&&(e=A),t>e&&(e=t),e)},e.rand=function(e,t){return e+(t-e)*Math.random()},e.randInt=function(e,t){return e+Math.floor((t-e+1)*Math.random())},e.randPoint=function(e){return egret.Point.polar(e*Math.sqrt(Math.random()),Math.random()*Math.PI*2)},e.toFixed=function(e,t){return+e.toFixed(t)},e.lerp=function(e,t,A){return A=this.limit(A,0,1),0==A?e:1==A?t:this.toFixed((t-e)*A,4)+e},e}();e.NumberUtils=t,__reflect(t.prototype,"core.NumberUtils"),window.NumberUtils=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.pop=function(e,t){t=t||egret.getQualifiedClassName(e);var A,i=this.pool[t];return i&&i.length>0?(A=i[i.length-1],--i.length):(A=new e,A.$cname=t),A},e.push=function(e){if(e&&e.$cname){var t=this.pool,A=t[e.$cname]=t[e.$cname]||[];A[A.length]=e}},e.getLen=function(e){var t=this.pool[e];return t?t.length:0},e.clear=function(e){var t=this.pool[e];t&&(t.length=0)},e.pool={},e}();e.ObjectPool=t,__reflect(t.prototype,"core.ObjectPool"),window.ObjectPool=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.isEmpty=function(e){for(var t in e)return!1;return!0},e.getCount=function(e){var t=0;for(var A in e)t++;return t},e.getKeys=function(e){var t=[];for(var A in e)t.push(A);return t},e.getValues=function(e,t){void 0===t&&(t=null);var A=[];for(var i in e)A.push(t?e[i][t]:e[i]);return A},e.clear=function(t){for(var A=0,i=e.getKeys(t);A<i.length;A++){var r=i[A];delete t[r]}},e.find=function(e,t,A){void 0===A&&(A=null);for(var i in e)if(A){if(e[i][A]==t)return i}else if(e[i]==t)return i;return null},e.remove=function(e,t,A,i){void 0===A&&(A=null),void 0===i&&(i=!1);var r=[];for(var n in e){if(A){if(e[n][A]!=t)continue}else if(e[n]!=t)continue;if(!i)return delete e[n],1;r.push(n)}for(var o=0,a=r;o<a.length;o++)n=a[o],delete e[n];return r.length},e.merge=function(e,t,A){void 0===A&&(A=!1);var i=A?new e.constructor:e;for(var r in t)i[r]=t[r];return i},e.formatString=function(t,A,i){if(void 0===A&&(A=0),void 0===i&&(i=!1),null==t)return"null";switch(typeof t){case"boolean":return t.toString();case"number":return isNaN(t)?"NaN":t.toString();case"string":return JSON.stringify(t);case"function":return"<Function>"}if(t instanceof Array){if(0==t.length)return i?"":"[]";if(0==A)return i?"..":"[..]";for(var r=[],n=0,o=t;n<o.length;n++){var a=o[n];r.push(e.formatString(a,A-1))}return i?r.join(", "):"["+r.join(", ")+"]"}if(e.isEmpty(t))return i?"":"{}";if(0==A)return i?"..":"{..}";var s=[];for(var c in t)s.push(c+":"+e.formatString(t[c],A-1));return s.sort(),i?s.join(", "):"{"+s.join(", ")+"}"},e.clone=function(e,t){void 0===t&&(t=!1);var A,i=Array.isArray(e)?[]:{};for(var r in e)A=e[r],i[r]="object"==typeof A&&t?this.clone(A,t):A;return i},e.assignKeys=function(e,t,A,i){i=i||{};for(var r=0,n=A;r<n.length;r++){var o=n[r],a=e[o];t[o]=void 0!==a?a:i[o]}},e.assignKeysNum=function(e,t,A){for(var i=0,r=A.length;r>i;++i){var n=A[i],o=e[n];t[n]=void 0!==o?o:0}},e.assignKeysStr=function(e,t,A){for(var i=0,r=A.length;r>i;++i){var n=A[i],o=e[n];t[n]=void 0!==o?o:""}},e.assignKeyBool=function(e,t,A){for(var i=0,r=A.length;r>i;++i){var n=A[i],o=e[n];t[n]=void 0!==o?!!o:!1}},e.clearKeys=function(e,t){for(var A=0,i=t;A<i.length;A++){var r=i[A];e[r]=void 0}},e.clearKeysNum=function(e,t){for(var A=0,i=t;A<i.length;A++){var r=i[A];e[r]=0}},e.clearKeysStr=function(e,t){for(var A=0,i=t;A<i.length;A++){var r=i[A];e[r]=""}},e.clearKeyBool=function(e,t){for(var A=0,i=t;A<i.length;A++){var r=i[A];e[r]=!1}},e.checkSimpleSame=function(e,t){if(e==t)return!0;if("object"==typeof e&&"object"==typeof t){var A=this.getKeys(e),i=this.getKeys(t);if(A.length==i.length){for(var r in e)if(e[r]!=t[r])return!1;return!0}return!1}},e}();e.ObjectUtils=t,__reflect(t.prototype,"core.ObjectUtils"),window.ObjectUtils=t}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e}();e.MarkDef=t,__reflect(t.prototype,"core.MarkDef"),window.MarkDef=t;var A=function(){function A(){var e=this;e._markDef={},e.define2("[","{"),e.define2("]","}"),e.define2("color",'<font color="{$0}">',"</font>",["#FFFFFF"]),e.define2("size",'<font size="{$0}">',"</font>",["+0"]),e.define2("center",'<p align="center">',"</p>"),e.define2("right",'<p align="right">',"</p>")}return A.prototype.define2=function(e,A,i,r,n,o){void 0===i&&(i=""),void 0===r&&(r=null),void 0===n&&(n=null),void 0===o&&(o=!0);var a=new t;a.mark=e?o?e.toLowerCase():e:"",a.html=A||"",a.closeHtml=i||"",a.argDefaults=r||[],a.argPretreat=n,a.ignoreCase=o,this._markDef[a.mark]=a},A.define=function(e,t,i,r,n,o){void 0===i&&(i=""),void 0===r&&(r=null),void 0===n&&(n=null),void 0===o&&(o=!0),A._instance=A._instance||new A,A._instance.define2(e,t,i,r,n,o)},A.prototype.format2=function(t,i){return void 0===i&&(i=null),t?t.replace(A.MARK_FORMAT,e.Functor.functorRight(this.markReplacer,this,i)):""},A.format=function(e,t){return void 0===t&&(t=null),A._instance=A._instance||new A,A._instance.format2(e,t)},A.prototype.formatMark2=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];var i=this,r=i.getMarkDef(e);if(r){if(r.closeHtml){var n=t.length>0?String(t.shift()):"";return i.format2(r.html,i.treatMarkArgs(r,t))+n+i.format2(r.closeHtml)}return i.format2(r.html,i.treatMarkArgs(r,t))}return t.length>0?String(t[0]):""},A.formatMark=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return A._instance=A._instance||new A,t.length>0?A._instance.formatMark2.apply(A._instance,[e].concat(t)):A._instance.formatMark2(e)},A.escape=function(e){return e.replace(A.ESCAPE_FORMAT,A.escapeReplacer)},A.unescape=function(e){return e.replace(A.UNESCAPE_FORMAT,A.unescapeReplacer)},A.prototype.getMarkDef=function(e){var t=this._markDef[e];return t||(t=this._markDef[e.toLowerCase()],!t||t.ignoreCase)?t:null},A.prototype.markReplacer=function(t,i,r,n,o){var a,s=this;switch(i.charAt(0)){case A.MARK_CLOSE:return a=s.getMarkDef(i.slice(1)),a?s.format2(a.closeHtml):t;case A.SWAP_CHAR:var c=i.slice(1);return c.charAt(0)==A.SWAP_CHAR&&(c=c.slice(1),o&&o.hasOwnProperty(c)?e.StringUtils.escapeXML(String(o[c])):t),o&&o.hasOwnProperty(c)?String(o[c]):t}var l,r=i.indexOf(A.MARK_DELIM);if(0>r){if(a=s.getMarkDef(i),!a)return t;l=[]}else{if(a=s.getMarkDef(i.slice(0,r)),!a)return t;l=i.slice(r+1).split(A.ARG_DELIM)}return s.format2(a.html,s.treatMarkArgs(a,l,o))},A.prototype.treatMarkArgs=function(t,i,r){void 0===r&&(r=null),i.length=t.argDefaults.length;for(var n=0;n<i.length;n++){var o=String(i[n]||t.argDefaults[n]);if(o){if(r&&o.charAt(0)==A.SWAP_CHAR){var a=o.slice(1);if(a.charAt(0)==A.SWAP_CHAR){if(a=a.slice(1),a&&r.hasOwnProperty(a)){i[n]=e.StringUtils.escapeXML(String(r[a]));continue}}else if(a&&r.hasOwnProperty(a)){i[n]=r[a];continue}}i[n]=this.format2(A.unescape(o),r)}else i[n]=""}return null!=t.argPretreat&&(i=t.argPretreat(i)),i},A.escapeReplacer=function(e,t,i,r){return A.ESCAPE_CHAR+A.ESCAPE_MAP[t]},A.unescapeReplacer=function(e,t,i,r){return A.UNESCAPE_MAP[t]||t},A.MARK_FORMAT=/\{([^}]+)\}/g,A.ESCAPE_FORMAT=/([:%[\]])/g,A.UNESCAPE_FORMAT=/%(.|\s)/g,A.MARK_BEGIN="{",A.MARK_END="}",A.MARK_CLOSE="/",A.SWAP_CHAR="$",A.MARK_DELIM=":",A.ARG_DELIM=";",A.ESCAPE_CHAR="%",A.ESCAPE_MAP={ARG_DELIM:":",ESCAPE_CHAR:"%",MARK_BEGIN:"[",MARK_END:"]"},A.UNESCAPE_MAP={":":A.ARG_DELIM,"%":A.ESCAPE_CHAR,"[":A.MARK_BEGIN,"]":A.MARK_END},A}();e.PHE=A,__reflect(A.prototype,"core.PHE"),window.PHE=A}(core||(core={}));var core;!function(e){var t=function(){function t(e){this.seed=e}return Object.defineProperty(t.prototype,"seed",{get:function(){var e=this._seed;return e||0==e||(e=(new Date).getTime()),e},set:function(e){this._seed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"insideUnitCircle",{get:function(){var t=this.range(0,360),A=this.range(0,1),i=e.Fixed.value(t).mul(e.Fixed.PI).div(180).value,r=e.Fixed.value(i).cos().mul(A).value,n=e.Fixed.value(i).sin().mul(A).value;return new egret.Point(r,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onUnitCircle",{get:function(){var t=this.range(0,360),A=e.Fixed.value(t).mul(e.Fixed.PI).div(180).value,i=e.Fixed.cos(A),r=e.Fixed.sin(A);return new egret.Point(i,r)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"random",{get:function(){return this.range(0,1)},enumerable:!0,configurable:!0}),t.prototype.range=function(t,A){A=A||1,t=t||0;var i=this.seed;return this.seed=i=(9301*i+49297)%233280,e.Fixed.value(A).sub(t).mul(i).div(233280).add(t).value},Object.defineProperty(t,"seed",{get:function(){var e=this._seed;return e||0==e||(e=(new Date).getTime()),e},set:function(e){this._seed=e},enumerable:!0,configurable:!0}),Object.defineProperty(t,"random",{get:function(){return this.range(0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"insideUnitCircle",{get:function(){var t=this.range(0,360),A=this.range(0,1),i=e.Fixed.value(t).mul(e.Fixed.PI).div(180).value,r=e.Fixed.value(i).cos().mul(A).value,n=e.Fixed.value(i).sin().mul(A).value;return new egret.Point(r,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onUnitCircle",{get:function(){var t=this.range(0,360),A=e.Fixed.value(t).mul(e.Fixed.PI).div(180).value,i=e.Fixed.cos(A),r=e.Fixed.sin(A);return new egret.Point(i,r)},enumerable:!0,configurable:!0}),t.range=function(t,A){A=A||1,t=t||0;var i=this.seed;return this.seed=i=(9301*i+49297)%233280,e.Fixed.value(A).sub(t).mul(i).div(233280).add(t).value},t}();e.Random=t,__reflect(t.prototype,"core.Random"),window.Random=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.initManager=function(e,t,A,i,r,n){this.nameManager=e,this.functionManager=t,this.redPointManager=A,this.tipManager=i,this.soundManager=r,this.guideManager=n},t.playSceneEffect=function(t,A,i,r,n,o,a,s,c,l,u,d){function h(){g.removeEventListener("action_play_end",h,this),c&&c.apply(l),s&&(g.parent&&g.parent.removeChild(g),g.dispose())}if(void 0===r&&(r=8),void 0===n&&(n="M"),void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=!0),void 0===c&&(c=null),void 0===l&&(l=null),void 0===u&&(u=null),void 0===d&&(d=null),!t||!A||!i)return null;var g=e.ObjectPool.pop(e.MmeEffect);(s||c)&&g.addEventListener("action_play_end",h,this);var p=e.App.stage.stageWidth,f=e.App.stage.stageHeight,v=o,m=a;switch(n){case"LT":v+=0,m+=0;break;case"MT":v+=.5*p,m+=0;break;case"RT":v+=p,m+=0;break;case"LM":v+=0,m+=.5*f;break;case"M":v+=.5*p,m+=.5*f;break;case"RM":v+=p,m+=.5*f;break;case"LB":v+=0,m+=f;break;case"MB":v+=.5*p,m+=f;break;case"RB":v+=p,m+=f;break;default:v+=.5*p,m+=.5*f}return g.x=v,g.y=m,g.touchEnabled=g.touchChildren=!1,e.LayerManager.addLayer(r,g),g.load(t,A,u,d,2),g.playAction(i,3,1),g},t.playUIEffect=function(t,A,i,r,n,o,a,s,c,l,u){if(void 0===n&&(n=0),void 0===o&&(o=!1),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===c&&(c=null),void 0===l&&(l=null),void 0===u&&(u=!1),!A||!i||!r)return t;t||(t=e.ObjectPool.pop(e.MmeEffect)),t.resId!=A||t.url!=i?t.load(A,i,c,l,1):(t.flag=c,t.color=l);var d;if(u){var h=this._effSameMap[A+"_"+r];h?0===h.length?h[0]=t:d=!0:h=this._effSameMap[A+"_"+r]=[t]}if(t.touchChildren=t.touchEnabled=!1,t.playAction(r,3,n||o?n:1,o,s,a),d){var h=this._effSameMap[A+"_"+r];-1===h.indexOf(t)&&h.push(t);for(var g=void 0,p=h.length;p--;)if(g=h[p],g.isPlaying){n=g.curFrame;break}for(p=h.length;p--;)g=h[p],g.curFrame=n}return t},t.getSameFrame=function(e,t,A){var i=this._effSameMap[t+"_"+A];return i&&i.indexOf(e)>-1?i[0].curFrame:-1},t.playAnimator=function(t,A,i){return t||(t=e.ObjectPool.pop(t),t.byObjectPool=!0,t.init()),t.touchEnabled=t.touchChildren=!1,A instanceof Array||(A=[A]),t.playAnimator(A,i),t},t.playSpine=function(t,A,i,r,n,o){return n=n||0,o=o||"default",t||(t=e.ObjectPool.pop(e.SpineAni),t.byObjectPool=!0,t.touchChildren=!1),t.checkMainSame(A,i)||t.load(A,i,o),t.playAction(r,n),t},t.playSpines=function(t,A,i,r){return r=r||0,t||(t=e.ObjectPool.pop(e.SpineAni),t.byObjectPool=!0,t.touchChildren=!1),t.checkAllSame(A)||t.loadParts(A),t.playAction(i,r),t},t.scrollToIndex=function(t,A,i){if(t){var r=t.viewport;
if(r){egret.Tween.removeTweens(t.viewport),t.stopAnimation();var n="V"===i?"scrollV":"scrollH",o="V"===i?"contentHeight":"contentWidth",a="V"===i?"height":"width",s=r[o]/r.numElements,c=s*A;c=e.NumberUtils.limit(c,0,r[o]-t[a]),r[n]>=c&&r[n]<=c+t[a]-s||(r[n]<c||r[n]>c+(c+t[a]-s)&&(c=c+t[a]-s),r[n]=e.NumberUtils.limit(c,0,r[o]-t[a]))}}},t.adjustReplace=function(t,A,i,r,n,o,a,s){if(t&&t.dataProvider instanceof eui.ArrayCollection){var c=t.selectedItem,l=t.selectedIndex;this.replaceAll(t.dataProvider,A,o,a,s);var u=0;if(i)for(var d={},h=0,g=A.length;g>h;++h){var p=A[h];if(i(p,c,d)){u=h;break}}else u=t.selectedIndex;t.selectedIndex=u,r&&this.scrollToIndex(r,u,n);var f=u!==l;return f&&t.dispatchEventWith(e.Evt.change),f}},t.replaceSmart=function(e,t){t=t?t.concat():[];for(var A=e.source,i=t[0],r=0;r<A.length;){var n=A[r];if(!n)break;if(n===i)break;e.removeItemAt(0)}for(var o=t.length,a=A.length,r=o;a>r;r++)e.removeItemAt(o);for(var r=0;o>r;r++)r>=a?e.addItemAt(t[r],r):e.getItemAt(r)!==t[r]&&e.replaceItemAt(t[r],r);e._source=t},t.replaceAll=function(e,t,A,i,r){e&&(t=t?t.concat():[],void 0!==i&&(e.extraSource=i),void 0!==r&&(e.extra=r),A?e.source=t:e.replaceAll(t),e.dispatchEventWith("replaceAll"))},t.refreshSource=function(e,t,A){if(e){t=t?t.concat():[];var i;if(A&&(i=A.scrollV),e._source=t,e.refresh(),e.dispatchEventWith("replaceAll"),A){var r=A.parent;r&&r instanceof eui.Scroller&&(r.validateNow(),r.stopAnimation(),A.scrollV=i)}}},t.renderImage=function(t,A,i){e.Functor.assert(Boolean(A),"无法对空的image设置资源"),egret.assert(!(A instanceof e.UIImage),"UIImage请直接设置source"),A.source&&e.GCMgr.remove(t,String(A.source)),A.source=i,i&&e.GCMgr.put(t,i);var r=this._imageMap[t]||new Array;this._imageMap[t]=r,-1==r.indexOf(A)&&r.push(A)},t.disposeImage=function(t){var A=this._imageMap[t];if(A){for(var i=0,r=A;i<r.length;i++){var n=r[i];n.source&&e.GCMgr.remove(t,String(n.source)),n.source=null}A.length=0,delete this._imageMap[t]}},t.retainResourceList=function(t,A){if(A&&A.length)for(var i=0,r=A;i<r.length;i++){var n=r[i];e.GameLog.debug("加载ui资源组：",n),e.GCMgr.put(t,n);var o=this._groups[n]||0;this._groups[n]=o+1}},t.releaseResourceList=function(t,A){if(A&&A.length)for(var i=0,r=A;i<r.length;i++){var n=r[i];e.GameLog.debug("销毁ui资源组：",n),e.GCMgr.remove(t,n);var o=this._groups[n]||0;this._groups[n]=Math.max(0,o-1)}},t.isGroupLoaded=function(e){var t=this._groups[e]||0;return t>0},t.addResidentRes=function(e){var t=this;e.forEach(function(e){t._residents[e]=!0})},t.isResidentRes=function(e){return this._residents[e]||!1},t.getGroupName=function(e){var t=RES.config;if(!t)return null;var A=t.config;if(!A)return null;var i=this._groupNames;if(!i){var r=A.groups;if(r){i=this._groupNames={};for(var n in r){var o=r[n];if(o)for(var a=0,s=o;a<s.length;a++){var c=s[a];i[c]=n}}}}if(!i)return null;if(i[e])return i[e];var l=A.alias;if(l){var n=l[e];if(n&&-1!=n.indexOf("#")){var c=n.split("#")[0];return i[c]}}return null},t.checkInGroup=function(e){return e&&"string"==typeof e&&(-1!=e.indexOf("_json.")||-1==e.indexOf("."))},t.checkIsUrl=function(e){return e&&"string"==typeof e&&-1==e.indexOf("_json.")&&-1!=e.indexOf(".")},t.addL=function(e,t,A,i){if(e&&A){var r=this._eventTasks,n=r[i.hashCode];n||(n=r[i.hashCode]={});var o=n[t];o||(o=n[t]=[]);for(var a=0,s=o.length;s>a;a++){var c=o[a];if(c.listener==A&&c.target==e&&c.thisObject==i)return}var l={type:t,listener:A,target:e,thisObject:i};o.push(l),e.addEventListener(t,A,i)}},t.removeL=function(e,t,A,i){if(e&&A){var r=this._eventTasks,n=r[i.hashCode];n||(n=r[i.hashCode]={});var o=n[t];if(o){for(var a=-1,s=0,c=o.length;c>s;s++){var l=o[s];if(l.listener==A&&l.target==e&&l.thisObject==i){a=s;break}}-1!=a&&(o.splice(a,1),e.removeEventListener(t,A,i)),0==o.length&&delete r[t]}}},t.disposeEvent=function(e){var t=this._eventTasks,A=t[e];if(A){for(var i in A){var r=A[i];r.forEach(function(e){e.target.removeEventListener(e.type,e.listener,e.thisObject)})}delete t[e]}},t.addFrame=function(t,A,i){void 0===i&&(i=null);var r=this,n=r._timeTasks;i=i||A.hashCode;var o=n[A.hashCode];o||(o=n[A.hashCode]={});var a=o[i];if(a){if(0==a.interval&&a.callback==t)return;r.removeTask(A.hashCode,i)}e.TimerManager.addFrameTask(t,A,0,!1,i),o[i]={interval:0,callback:t}},t.addCycle=function(t,A,i,r){void 0===r&&(r=null);var n=this,o=n._timeTasks;r=r||i.hashCode;var a=o[i.hashCode];a||(a=o[i.hashCode]={});var s=a[r];if(s){if(s.interval==t&&s.callback==A)return;n.removeTask(i.hashCode,r)}e.TimerManager.addCycleTask(t,A,i,0,r),a[r]={interval:t,callback:A}},t.removeTask=function(t,A){var i=this._timeTasks,r=i[t];r&&r[A]&&(e.TimerManager.removeTask(A),delete r[A])},t.disposeTime=function(t){var A=this._timeTasks,i=A[t];if(i){for(var r in i)e.TimerManager.removeTask(r);delete A[t]}},t.addAnimator=function(t,A,i,r){if(A=this.playAnimator(A,i,r),!A)return A;var n=this._animatorMap,o=n[t]=n[t]||{},a=A.hashCode;if(o[a]){if(a===o[a].hashCode)return A;e.GameLog.warning("龙骨冲突："+JSON.stringify(i)),o[A.hashCode].destroy()}return o[a]=A,A},t.removeAnimator=function(e,t){if(t){t.unloadRes();var A=this._animatorMap,i=A[e];i&&delete i[t.hashCode]}},t.disposeAnimator=function(e){var t=this._animatorMap,A=t[e];if(A){for(var i in A){var r=A[i];r&&r.unloadRes()}delete t[e]}},t.addUIEffect=function(e,t,A,i,r,n,o,a,s,c,l,u){void 0===n&&(n=0),void 0===o&&(o=!1),void 0===a&&(a=!0),void 0===s&&(s=!0),void 0===c&&(c=null),void 0===l&&(l=null),void 0===u&&(u=!1);var d=this._uiEffects,h=d[e]=d[e]||{};if(t){var g=h[t.hashCode];g&&g.unload()}return t=this.playUIEffect(t,A,i,r,n,o,a,s,c,l,u),h[t.hashCode]=t,t},t.removeUIEffect=function(e,t){if(t){var A=this._effSameMap[t.resId+"_"+t.curActionName];if(A){var i=A.indexOf(t);i>-1&&A.splice(i,1),0===A.length&&delete this._effSameMap[t.resId+"_"+t.curActionName]}var r=this._uiEffects,n=r[e]=r[e]||{};if(n){var o=n[t.hashCode];o&&(o.unload(),delete n[t.hashCode])}}},t.disposeUIEffect=function(e){var t=this._uiEffects,A=t[e]=t[e]||{};if(A){for(var i in A){var r=A[i];r&&r.unload()}delete t[e]}},t.addSpine=function(e,t,A,i,r,n,o){t=this.playSpine(t,A,i,r,n,o);var a=this._spineAniMap,s=a[e]=a[e]||{},c=t.hashCode;return s[c]&&c===s[c].hashCode?t:(s[c]=t,t)},t.addSpines=function(e,t,A,i,r){t=this.playSpines(t,A,i,r);var n=this._spineAniMap,o=n[e]=n[e]||{},a=t.hashCode;return o[a]&&a===o[a].hashCode?t:(o[a]=t,t)},t.removeSpine=function(e,t){if(t){t.unload();var A=this._spineAniMap[e];A&&delete A[e]}},t.disposeSpine=function(e){var t=this._spineAniMap,A=t[e];if(A){for(var i in A){var r=A[i];r&&r.unload()}delete t[e]}},t.addUIName=function(e,t,A){if(t){var i=this.nameManager,r=this.uiNameMap,n=r[e]=r[e]||{},o=n[A];o&&i.un(o.item,o.name),i.reg(t,A),n[A]={item:t,name:A}}},t.removeUIName=function(e,t,A){if(t){var i=this.nameManager,r=this.uiNameMap,n=r[e];if(n){var o=n[A];o&&t===o.item&&(i.un(t,A),delete n[A])}}},t.disposeUIName=function(e){var t=this.nameManager,A=this.uiNameMap,i=A[e];if(i){for(var r in i){var n=i[r];n&&t.un(n.item,n.name)}delete A[e]}},t.addFuncId=function(e,t,A){if(t){var i=this.functionManager,r=this.functionMap,n=r[e]=r[e]||{},o=n[t.hashCode];if(o){if(o.funcId===A&&o.item===t)return;i.un(o.item)}i.reg(t,A),n[t.hashCode]={item:t,funcId:A}}},t.removeFuncId=function(e,t){if(t){var A=this.functionManager,i=this.functionMap,r=i[e];if(r){var n=r[t.hashCode];n&&(A.un(t),delete r[t.hashCode])}}},t.disposeFuncId=function(e){var t=this.functionManager,A=this.functionMap,i=A[e];if(i){for(var r in i){var n=i[r];n&&t.un(n.item)}delete i[e]}},t.addRed=function(e,t,A){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];if(t){var n=this.redPointManager,o=this.redMap,a=o[e]=o[e]||{},s=a[t.hashCode];if(s){if(s.type===A&&s.item===t)return;n.un(s.item,s.type)}n.reg.apply(n,[t,A].concat(i)),a[t.hashCode]={item:t,type:A}}},t.removeRed=function(e,t,A){if(t){var i=this.redPointManager,r=this.redMap,n=r[e],o=t.redSelf?t:t.redPrompt;if(o&&(o.visible=!1),n){var a=n[t.hashCode],s=A||a&&a.type;i.un(t,s),a&&delete n[t.hashCode]}}},t.disposeRed=function(e){var t=this.redPointManager,A=this.redMap,i=A[e];if(i){for(var r in i){var n=i[r];n&&t.un(n.item,n.type)}delete A[e]}},t.addTip=function(e,t,A){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];if(t){var n=this.tipManager,o=this.tipMap,a=o[e]=o[e]||{},s=a[t.hashCode];if(s){if(s.type===A&&s.item===t)return void n.update.apply(n,[t,A].concat(i));n.un(s.item)}n.reg.apply(n,[t,A].concat(i)),a[t.hashCode]={item:t,type:A}}},t.removeTip=function(e,t){if(t){var A=this.tipManager,i=this.tipMap,r=i[e];if(r){var n=r[t.hashCode];n&&(A.un(t),delete r[t.hashCode])}}},t.disposeTip=function(e){var t=this.tipManager,A=this.tipMap,i=A[e];if(i){for(var r in i){var n=i[r];n&&t.un(n.item)}delete A[e]}},t.addSound=function(e,t,A){if(t){var i=this.soundManager,r=this.soundMap,n=r[e]=r[e]||{},o=n[t.hashCode];if(o){if(o===t)return;i.un(o)}i.reg(t,A),n[t.hashCode]=t}},t.removeSound=function(e,t){if(t){var A=this.soundManager,i=this.soundMap,r=i[e];if(r){var n=r[t.hashCode];n&&(A.un(t),delete r[t.hashCode])}}},t.disposeSound=function(e){var t=this.soundManager,A=this.soundMap,i=A[e];if(i){for(var r in i){var n=i[r];n&&t.un(n)}delete i[e]}},t.addGuide=function(e,t,A,i,r,n){if(A){var o=this.guideManager,a=this.guideMap,s=a[e]=a[e]||[];-1!==s.indexOf(t)?o.un(t):s.push(t),o.reg(t,A,i,r,n)}},t.removeGuide=function(e,t){var A=this.guideManager,i=this.guideMap,r=i[e];if(r){var n=r.indexOf(t);-1!==n&&(A.un(t),r.splice(n,1))}},t.disposeGuide=function(e){var t=this.guideManager,A=this.guideMap,i=A[e];if(i){for(var r=0,n=i;r<n.length;r++){var o=n[r];o&&t.un(o)}delete A[e]}},t.getTween=function(e,t,A,i){void 0===i&&(i=!0);var r=this.tweenMap,n=r[e]=r[e]||[];return n.indexOf(t)<0&&n.push(t),egret.Tween.get(t,A,null,i)},t.disposeTween=function(e){var t=this.tweenMap,A=t[e];if(A&&A.length)for(var i=0,r=A;i<r.length;i++){var n=r[i];egret.Tween.removeTweens(n)}},t._residents={},t._imageMap={},t._groups={},t._eventTasks={},t._timeTasks={},t._animatorMap={},t._uiEffects={},t._effSameMap={},t._spineAniMap={},t.uiNameMap={},t.functionMap={},t.redMap={},t.tipMap={},t.soundMap={},t.guideMap={},t.tweenMap={},t}();e.RenderUtils=t,__reflect(t.prototype,"core.RenderUtils"),window.RenderUtils=t;var A=e.BaseItem.prototype,i=e.BaseView.prototype;A.onAddToStage=function(){var t=this;t.addEventListener(e.Evt.removedFromStage,t.onRemoveFromStage,t),egret.Tween.removeTweens(t),t.commands&&t.commands.forEach(function(A){e.App.addL(A,t.handleCommandHandler,t)}),t.addUI&&t.addUI(),t.isReady&&t.update&&t.update()},A.onRemoveFromStage=i.onRemoveFromStage=function(){var A=this;A.removeEventListener(e.Evt.removedFromStage,A.onRemoveFromStage,A),egret.Tween.removeTweens(this),A.removeUI&&A.removeUI(),A.tickTask(!1),A.commands&&A.commands.forEach(function(t){e.App.removeL(t,A.handleCommandHandler,A)});var i=A.hashCode;t.disposeEvent(i),t.disposeTime(i),t.disposeImage(i),t.disposeAnimator(i),t.disposeUIEffect(i),t.disposeSpine(i),t.disposeTween(i),t.disposeUIName(i),t.disposeFuncId(i),t.disposeRed(i),t.disposeTip(i),t.disposeSound(i),t.disposeGuide(i),A.autoDestroy&&A.onDestroy&&A.onDestroy()},A.handleCommandHandler=i.handleCommandHandler=function(e){this.isReady&&this.command&&this.command(e.type,void 0!=e.data?e.data:{})},A.updateImage=i.updateImage=function(e,A){t.renderImage(this.hashCode,e,A)},A.replace=i.replace=t.replaceAll,A.addTap=i.addTap=function(A,i){A instanceof Array||(A=[A]),i instanceof Array||(i=[i]);var r=A.length;if(r!==i.length)throw new Error("target.length !== listener.length");for(var n=0;r>n;++n)t.addL(A[n],e.Evt.touchTap,i[n],this)},A.addL=i.addL=function(e,A,i){t.addL(e,A,i,this)},A.removeL=i.removeL=function(e,A,i){t.removeL(e,A,i,this)},A.addFrame=i.addFrame=function(e,A){t.addFrame(e,this,A)},A.addCycle=i.addCycle=function(e,A,i){t.addCycle(e,A,this,i)},A.removeTask=i.removeTask=function(e){t.removeTask(this.hashCode,e)},A.addAni=i.addAni=function(e,A,i){return t.addAnimator(this.hashCode,e,A,i)},A.rmAni=i.rmAni=function(e){t.removeAnimator(this.hashCode,e)},A.addSpine=i.addSpine=function(e,A,i,r,n,o){return t.addSpine(this.hashCode,e,A,i,r,n,o)},A.addSpines=i.addSpines=function(e,A,i,r){return t.addSpines(this.hashCode,e,A,i,r)},A.rmSpine=i.rmSpine=function(e){t.removeSpine(this.hashCode,e)},A.addName=i.addName=function(e,A){t.addUIName(this.hashCode,e,A)},A.rmName=i.rmName=function(e,A){t.removeUIName(this.hashCode,e,A)},A.addFunc=i.addFunc=function(e,A){t.addFuncId(this.hashCode,e,A)},A.rmFunc=i.rmFunc=function(e){t.removeFuncId(this.hashCode,e)},A.addRed=i.addRed=function(e,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];t.addRed.apply(t,[this.hashCode,e,A].concat(i))},A.rmRed=i.rmRed=function(e,A){t.removeRed(this.hashCode,e,A)},A.addTip=i.addTip=function(e,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];t.addTip.apply(t,[this.hashCode,e,A].concat(i))},A.rmTip=i.rmTip=function(e){t.removeTip(this.hashCode,e)},A.addSound=i.addSound=function(e,A){t.addSound(this.hashCode,e,A)},A.rmSound=i.rmSound=function(e){t.removeSound(this.hashCode,e)},A.addGuide=i.addGuide=function(e,A,i,r,n){t.addGuide(this.hashCode,e,A,i,r,n)},A.rmGuide=i.rmGuide=function(e){t.removeGuide(this.hashCode,e)},A.addEff=i.addEff=function(e,A,i,r,n,o,a,s,c,l,u){return t.addUIEffect(this.hashCode,e,A,i,r,n,o,a,s,c,l,u)},A.rmEff=i.rmEff=function(e){t.removeUIEffect(this.hashCode,e)},eui.Component.prototype.gt=A.gt=i.gt=function(e,A,i){return void 0===i&&(i=!0),t.getTween(this.hashCode,e,A,i)},A.tickTask=i.tickTask=function(t,A){void 0===A&&(A=1e3),t&&this.onTick?e.TimerManager.hasTask(this.hashCode)||this.addCycle(A,this.onTick):e.TimerManager.hasTask(this.hashCode)&&this.removeTask(this.hashCode)},eui.Label.prototype.childrenCreated=function(){this.bold=!0},eui.ArrayCollection.prototype.getExtraAt=function(e){return this.extraSource?this.extraSource[e]:this.extra},eui.DataGroup.prototype.updateRenderer=function(e,t,A){var i=this.$DataGroup;i[11]=!0,e.itemIndex=t,e.parent==this&&this.setChildIndex(e,t);var r=this.$dataProvider;return r instanceof eui.ArrayCollection&&(e.extra=r.getExtraAt(t)),e.data=A,i[11]=!1,e};var r=eui.ProgressBar.prototype.updateSkinDisplayList;eui.ProgressBar.prototype.updateSkinDisplayList=function(){if(r.call(this),egret.nativeRender){var e=this.thumb.scrollRect;e&&e.width<=0&&(e.width=.01,this.thumb.scrollRect=e)}},eui.Group.prototype.$hitTest=function(e,t){if(!this.$visible||!this.touchEnabled&&!this.touchChildren||0===this.scaleX||0===this.scaleY||this.scrollEnabled&&(0===this.width||0===this.height))return null;var A=egret.DisplayObjectContainer.prototype.$hitTest.call(this,e,t);if(A||this.$Group[5])return A;var i=this.globalToLocal(e,t,egret.$TempPoint),r=this.$UIComponent,n=egret.$TempRectangle.setTo(0,0,r[10],r[11]),o=this.$scrollRect;return o&&(n.x=o.x,n.y=o.y),n.contains(i.x,i.y)?this:null}}(core||(core={}));var core;!function(e){var t=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.start=function(t,i,r,n,o,a,s){void 0===i&&(i=20),void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=500),void 0===a&&(a=null),void 0===s&&(s=!1);var c=this;if(t){var l=this._targets[t.hashCode];if(l){if(l.uncover)return;c.stop(t)}l=e.ObjectPool.pop(A),l.init(),l.target=t,l.horRange=i,l.verRange=r,l.horSpeed=i,l.verSpeed=r,l.duration=n,l.dampTime=o,l.callback=a,l.baseX=t.x,l.baseY=t.y,l.startTime=egret.getTimer(),l.uncover=s,c._targets[t.hashCode]=l,e.TimerManager.addFrameTask(c.onEnterFrame,c,0,!1,"ShakeEffect.onEnterFrame")}},i.stop=function(e,t){if(void 0===t&&(t=!0),e){var A=this._targets[e.hashCode];if(A){delete this._targets[e.hashCode],e.x=A.baseX,e.y=A.baseY;var i=A.callback;A.dispose(),t&&i&&i()}}},i.updateBasePos=function(e){var t=this._targets[e.hashCode];t&&(t.baseX=e.x,t.baseY=e.y)},i.refresh=function(e){this.shakeTarget(e,this._targets[e.hashCode])},i.onEnterFrame=function(){var t=this;if(e.ObjectUtils.isEmpty(t._targets))return void e.TimerManager.removeTask("ShakeEffect.onEnterFrame");for(var A in t._targets){var i=t._targets[A];t.shakeTarget(i.target,i)}},i.shakeTarget=function(e,t){if(e&&t&&t.isvalid){var A=egret.getTimer()-t.startTime;if(A<t.duration+t.dampTime){var i=1-(t.dampTime?Math.max(0,A-t.duration)/t.dampTime:0);t.horRange&&(Math.abs(e.x+t.horSpeed-t.baseX)<t.horRange*i?e.x+=t.horSpeed*(Math.random()<.5?1:.7):(e.x=t.baseX+t.horRange*i*(t.horSpeed>0?1:-1),t.horSpeed*=-Math.min(1,2*t.horRange*i/Math.abs(t.horSpeed)))),t.verRange&&(Math.abs(e.y+t.verSpeed-t.baseY)<t.verRange*i?e.y+=t.verSpeed*(Math.random()<.5?1:.7):(e.y=t.baseY+t.verRange*i*(t.verSpeed>0?1:-1),t.verSpeed*=-Math.min(1,2*t.verRange*i/Math.abs(t.verSpeed))))}else this.stop(e)}},i._targets={},i}(egret.HashObject);e.ShakeEffect=t,__reflect(t.prototype,"core.ShakeEffect"),window.ShakeEffect=t;var A=function(){function t(){this.horRange=0,this.verRange=0,this.horSpeed=0,this.verSpeed=0,this.duration=0,this.dampTime=0,this.baseX=0,this.baseY=0,this.startTime=0}return t.prototype.init=function(){this.isvalid=!0},t.prototype.dispose=function(){var t=this;t.isvalid&&(t.isvalid=!1,e.ObjectUtils.clearKeys(t,["target","callback","uncover"]),e.ObjectUtils.clearKeysNum(t,["horRange","verRange","horSpeed","verSpeed","duration","dampTime","baseX","baseY","startTime"]),e.ObjectPool.push(t))},t}();e.ShakeParams=A,__reflect(A.prototype,"core.ShakeParams"),window.ShakeParams=A}(core||(core={}));var core;!function(e){var t=function(){function e(){}return e.trim=function(t,A){return void 0===A&&(A=null),t?e.ltrim(e.rtrim(t,A),A):""},e.ltrim=function(t,A){if(void 0===A&&(A=null),t){A=A||e.WHITESPACES;for(var i=t.length,r=0;i>r;r++)if(!(A.indexOf(t.charAt(r))>=0))return t.slice(r)}return""},e.rtrim=function(t,A){if(void 0===A&&(A=null),t){A=A||e.WHITESPACES;for(var i=t.length-1;i>=0;i--)if(!(A.indexOf(t.charAt(i))>=0))return t.slice(0,i+1)}return""},e.padLeft=function(t,A,i){void 0===i&&(i=" ");var r=A-t.length;return r>0?e.repeat(i,r)+t:t},e.padRight=function(t,A,i){void 0===i&&(i=" ");var r=A-t.length;return r>0?t+e.repeat(i,r):t},e.fixNewlines=function(e){return e?e.replace(/(\r\n|\r)/g,"\n"):""},e.isEqual=function(e,t,A){return void 0===A&&(A=!1),A?e.toLowerCase()==t.toLowerCase():e==t},e.startsWith=function(t,A,i){return void 0===i&&(i=!1),e.isEqual(A,t.slice(0,A.length),i)},e.endsWith=function(t,A,i){return void 0===i&&(i=!1),e.isEqual(A,t.slice(-A.length),i)},e.repeat=function(e,t){if(void 0===t&&(t=2),!e||!t)return"";for(var A=e,i=t;i>1;i--)A+=e;return A},e.substitute=function(e,t,A){if(void 0===A&&(A=0),e&&t)if(t instanceof Array)for(var i=t.length,r=0;i>r;r++)e=e.replace(new RegExp("\\{"+(r+A)+"\\}","g"),t[r]);else for(var n in t)e=e.replace(new RegExp("\\{"+n+"\\}","g"),t[n]);return e},e.splitIntegers=function(t,A){void 0===A&&(A=",");var i=[];if(t=e.trim(t))for(var r=A instanceof RegExp?t.split(A):t.split(A),n=0,o=r;n<o.length;n++){var a=o[n];if(a=e.trim(a)){var s=parseInt(a);isNaN(s)||i.push(s)}}return i},e.parseJson=function(e,t){return void 0===t&&(t=!1),t&&(e=e.replace(/\/\/.*/g,"")),JSON.parse(e.replace(/([{,]\s*)(\w+)(\s*:)/g,'$1"$2"$3'))},e.formatJson=function(e,t,A){void 0===t&&(t=null),void 0===A&&(A=!0);var i=JSON.stringify(e,null,t);return A&&(i=i.replace(/([{,]\s*)"(\w+)"(\s*:)/g,"$1$2$3")),i},e.adjustSlash=function(e){return e.replace(/\\/g,"/")},e.getPath=function(e,t){void 0===t&&(t=!1);var A=e.lastIndexOf("/");0>A&&(A=e.lastIndexOf("\\"));var i=0>A?"":e.slice(0,A);return i&&t?this.adjustSlash(i):i},e.getFilename=function(e,t){void 0===t&&(t=!1);var A=e.lastIndexOf("/");0>A&&(A=e.lastIndexOf("\\"));var i=0>A?e:e.slice(A+1);return t&&(A=i.lastIndexOf("."),A>=0)?i.slice(0,A):i},e.getExt=function(e){var t=e.lastIndexOf("."),A=0>t?"":e.slice(t+1);return A&&(A.indexOf("/")>=0||A.indexOf("\\")>=0)&&(A=""),A},e.changeExt=function(e,t){void 0===t&&(t="");var A=e.lastIndexOf("."),i=0>A?"":e.slice(A);return i&&(i.indexOf("/")>=0||i.indexOf("\\")>=0)&&(i=""),e.slice(0,-i.length)+(t?"."+t:"")},e.format=function(e){for(var t=[],A=1;A<arguments.length;A++)t[A-1]=arguments[A];for(var i=e,r=0;r<t.length;r++)i=i.replace("{"+r+"}",t[r]+"");return i},e.isEmpty=function(e){return null==e||void 0==e||0==e.length},e.rich=function(e){if(null!=e)return(new egret.HtmlTextParser).parser(e)},e.escapeXML=function(t){var A=t.replace(e.ESCAPE_REG,function(t,A,i){return e.ESCAPE_XML_MAP[t]});return A},e.unescapeXML=function(t){var A=t.replace(e.UNESCAPE_REG,function(t,A,i){return e.UNESCAPE_XML_MAP[t]});return A},e.WHITESPACES=" 	\r\n\f",e.ESCAPE_XML_MAP={"<":"&lt;","&":"&amp;",">":"&gt;","'":"&apos;",'"':"&quot;"},e.ESCAPE_REG=/[\<\&\>\'\"]/g,e.UNESCAPE_XML_MAP={"&lt;":"<","&amp;":"&","&gt;":">","&apos;":"'","&quot;":'"'},e.UNESCAPE_REG=/\&lt\;|\&amp\;|\&gt\;|\&apos\;|\&quot\;/g,e}();e.StringUtils=t,__reflect(t.prototype,"core.StringUtils"),window.StringUtils=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return Object.defineProperty(t,"isActive",{get:function(){return this._isActive},enumerable:!0,configurable:!0}),Object.defineProperty(t,"stageFrameRate",{get:function(){return this._activeFrameRate},set:function(e){var t=this;e>0&&(t._activeFrameRate=e,!t._isActive&&t.deactiveFrameRate>0&&e>=t.deactiveFrameRate&&(e=t.deactiveFrameRate),t._stage.frameRate!=e&&(t._stage.frameRate=e))},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lastFrameTime",{get:function(){return this._lastFrameTime},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lastFrameCost",{get:function(){return this._lastFrameCost},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lastActiveFrameTime",{get:function(){return this._lastActiveFrameTime},enumerable:!0,configurable:!0}),Object.defineProperty(t,"lastActiveFrameCost",{get:function(){return this._lastActiveFrameCost},enumerable:!0,configurable:!0}),t.initialize=function(t){var A=this;A._stage=t,A._taskMap={},A._frameTaskList=[],A._cycleInfoMap={},A._lastFrameTime=egret.getTimer(),A._lastFrameExactTime=A._lastFrameTime,A._lastActiveFrameTime=A._lastFrameTime,A._lastActiveFrameExactTime=A._lastFrameTime,A._activeFrameRate=t.frameRate,A._stage.addEventListener(e.Evt.activate,A.onActivate,A),A._stage.addEventListener(e.Evt.deactivate,A.onDeactivate,A)},t.addFrameTask=function(t,A,r,n,o){if(void 0===r&&(r=0),void 0===n&&(n=!1),void 0===o&&(o=null),null==t)throw new Error("Callback is null");o=o||A.hashCode;var a=this,s=a._taskMap[o];if(s){if(0==s.interval&&s.callback==t&&s.thisObject==A&&s.priority==r&&s.keepFps==n)return o;a.removeTask(o)}return s=e.ObjectPool.pop(i),s.callback=t,s.thisObject=A,s.priority=r,s.keepFps=n,a._frameTaskList.length>0?e.ArrayUtils.bisectInsert(a._frameTaskList,s,"priority"):a._frameTaskList.push(s),a._taskMap[o]=s,o},t.addCycleTask=function(t,r,n,o,a){if(void 0===o&&(o=0),void 0===a&&(a=null),null==r)throw new Error("Callback is null");if(0==t)throw new Error("Interval should be > 0");a=a||n.hashCode;var s=this,c=s._taskMap[a];if(c){if(c.interval==t&&c.callback==r&&c.thisObject==n&&c.priority==o)return a;s.removeTask(a)}c=e.ObjectPool.pop(i),c.interval=t,c.callback=r,c.thisObject=n,c.priority=o,c.lastTime=egret.getTimer();var l=s._cycleInfoMap[t];return l||(s._cycleInfoMap[t]=l=new A,l.interval=t),l.taskList.length>0?e.ArrayUtils.bisectInsert(l.taskList,c,"priority"):(l.taskList.push(c),l.nextTime=c.lastTime+t),s._taskMap[a]=c,a},t.removeTask=function(t){var A=this,i=A._taskMap[t];if(i){i.callback=null,i.thisObject=null;var r;r=i.interval?A._cycleInfoMap[i.interval].taskList:A._frameTaskList;var n=r.indexOf(i);n>=0&&r.splice(n,1),delete A._taskMap[t],r.length<=0&&delete A._cycleInfoMap[i.interval],i.reset(),e.ObjectPool.push(i)}},t.hasTask=function(e){return e in this._taskMap},t.getLastCycleTime=function(e){var t=this._taskMap[e];return t&&t.interval?t.lastTime:-1},t.onFrame=function(){var e,t,A,i,r=this,n=egret.getTimer(),o=n+r.TOLERANCE_TIME,a=1e3/r._stage.frameRate,s=1e3/r.stageFrameRate,c=Math.min(r.keepFpsMaxRecoverTimes+1,(o-r._lastActiveFrameExactTime)/s);if(o-r._lastFrameExactTime>=a){for(r._lastFrameExactTime=o-(o-r._lastFrameExactTime)%a,r._lastFrameCost=n-r._lastFrameTime,c>=1&&(r._lastActiveFrameExactTime=o-(o-r._lastActiveFrameExactTime)%s,r._lastActiveFrameCost=n-r._lastActiveFrameTime),e=r._frameTaskList.length>1?r._frameTaskList.slice():r._frameTaskList,i=[],A=e.length-1;A>=0;A--)t=e[A],t.keepFps&&(i.push(t),1>c)||t.call();r._lastFrameTime=n,c>=1&&(r._lastActiveFrameTime=n,c--)}if(c>=1){if(i)r._lastActiveFrameCost=0;else for(r._lastActiveFrameExactTime=o-(o-r._lastActiveFrameExactTime)%s,r._lastActiveFrameCost=n-r._lastActiveFrameTime,i=[],A=r._frameTaskList.length-1;A>=0;A--)t=r._frameTaskList[A],t.keepFps&&i.push(t);for(var l=0,u=i;l<u.length;l++)t=u[l],t.call();for(r._lastActiveFrameTime=n;--c>0;){r._lastActiveFrameCost=0;for(var d=0,h=i;d<h.length;d++)t=h[d],t.call()}}o=n+r.TOLERANCE_TIME;var g;for(var p in r._cycleInfoMap)if(g=r._cycleInfoMap[p],!(0==g.taskList.length||o<g.nextTime)){var f=g.interval,v=-1;for(e=g.taskList.length>1?g.taskList.slice():g.taskList,A=e.length-1;A>=0;A--)t=e[A],null!=t.callback&&(o-t.lastTime>=f&&(t.call(),t.lastTime=o-(o-t.lastTime)%f),null!=t.callback&&(0>v||t.lastTime<v)&&(v=t.lastTime));v>=0&&(g.nextTime=v+f)}},t.onActivate=function(e){var t=this;t._isActive||(t._isActive=!0,t._stage.frameRate!=t._activeFrameRate&&(t._stage.frameRate=t._activeFrameRate),t.activateCallback&&t.activateCallback())},t.onDeactivate=function(e){var t=this;t._isActive&&(t._isActive=!1,t.deactiveFrameRate>0&&t.deactiveFrameRate<t._activeFrameRate&&(t._stage.frameRate=t.deactiveFrameRate),t.activateCallback&&t.activateCallback())},t.setInterval=function(e,t){for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];var r=++this.tid,n=window.setInterval.apply(window,[e,t].concat(A));return this.idMap[r]=n,r},t.setTimeout=function(e,t){for(var A=[],i=2;i<arguments.length;i++)A[i-2]=arguments[i];var r=++this.tid,n=window.setTimeout.apply(window,[e,t].concat(A));return this.idMap[r]=n,r},t.clearInterval=function(e){var t=this.idMap[e];t&&(delete this.idMap[e],window.clearInterval(t))},t.clearTimeout=function(e){var t=this.idMap[e];t&&(delete this.idMap[e],window.clearTimeout(t))},t.TOLERANCE_TIME=10,t._lastFrameTime=0,t._lastFrameExactTime=0,t._lastFrameCost=0,t._lastActiveFrameTime=0,t._lastActiveFrameExactTime=0,t._lastActiveFrameCost=0,t._isActive=!0,t._activeFrameRate=0,t.deactiveFrameRate=0,t.keepFpsMaxRecoverTimes=5,t.idMap={},t.tid=0,t}();e.TimerManager=t,__reflect(t.prototype,"core.TimerManager"),window.TimerManager=t;var A=function(){function e(){this.interval=0,this.nextTime=0,this.taskList=[]}return e}();e.CycleInfo=A,__reflect(A.prototype,"core.CycleInfo"),window.CycleInfo=A;var i=function(){function e(){this.interval=0,this.priority=0,this.lastTime=0}return e.prototype.call=function(){var e=this;e.callback&&e.callback.call(e.thisObject)},e.prototype.reset=function(){var e=this;e.interval=0,e.priority=0,e.keepFps=!1,e.lastTime=0,e.callback=null,e.thisObject=null},e}();e.TimerTask=i,__reflect(i.prototype,"core.TimerTask"),window.TimerTask=i}(core||(core={}));var core;!function(e){var t=function(t){function A(){var e=t.call(this)||this;return e._text="",e._isTyping=!1,e._typedChars=0,e._speed=10,e}return __extends(A,t),Object.defineProperty(A.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"isTyping",{get:function(){return this._isTyping},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"typedChars",{get:function(){return this._typedChars},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"speed",{get:function(){return this._speed},set:function(e){var t=this;isNaN(e)&&t._speed!=e&&(t._speed=e,t._startTime=egret.getTimer()-t._typedChars/t._speed*1e3)},enumerable:!0,configurable:!0}),A.prototype.start=function(t,A,i,r,n,o){void 0===i&&(i=null),void 0===r&&(r=0/0),void 0===n&&(n=!1),this._setWH=o;var a=this;if(t||(t=""),i||(i=a._target),i&&i.stage){(a._target!=i||t!==a._text)&&(a.clear(),a._target=i,a._typedChars=0),a._text=t,a._isRich=A,A&&(a._richTexts=e.StringUtils.rich(t));var s=a._isTyping;if(s||(a._target.addEventListener(e.Evt.enterFrame,a.onEnterFrame,a,!1,0),a._isTyping=!0),o){var c=void 0;c=i instanceof egret.TextField?i.textFlow:i.text,A&&i instanceof egret.TextField?i.textFlow=a._richTexts:i.text=t,i.height=i.height,i.width=i.width,i instanceof egret.TextField?i.textFlow=c:i.text=c}isNaN(r)||(a._speed=r),a._startTime=egret.getTimer()-a._typedChars/a._speed*1e3,n&&!a._pressStage?(a._pressStage=i.stage,a._pressStage.addEventListener(e.Evt.touchTap,a.onPressComplete,a)):!n&&a._pressStage&&(a._pressStage.removeEventListener(e.Evt.touchTap,a.onPressComplete,a),a._pressStage=null),s||a.onEnterFrame()}},A.prototype.stop=function(t){void 0===t&&(t=!1);var A=this;A._isTyping&&(A._target.removeEventListener(e.Evt.enterFrame,A.onEnterFrame,A),A._isTyping=!1),t&&A._target&&(A.clear(),A.dispatchEvent(new egret.Event(e.Evt.complete)))},A.prototype.updateFrame=function(){this._isTyping&&this.onEnterFrame()},A.prototype.clear=function(){var t=this;t._target&&(t.stop(),t._pressStage&&(t._pressStage.removeEventListener(e.Evt.touchTap,t.onPressComplete,t),t._pressStage=null),this._setWH&&t._target&&(t._target.width=t._target.height=void 0),t._target&&t._target.removeEventListener(e.Evt.enterFrame,t.onEnterFrame,t),t._target=null,t._isRich=!1,t._richTexts=null)},A.prototype.onPressComplete=function(e){var t=this;t._target&&t._text&&(t._target instanceof egret.TextField?t._target.textFlow=t._richTexts:t._target.text=t._text),t.stop(!0)},A.prototype.onEnterFrame=function(){var e,t=this;if(this._isRich&&this._richTexts){e=0;for(var A=0,i=this._richTexts;A<i.length;A++){var r=i[A];e+=r.text.length}}else e=t._text.length;var n=Math.min(e,(egret.getTimer()-t._startTime)*t._speed/1e3);if(t._typedChars<n){t._typedChars=n;var o=this._target;if(this._isRich&&this._richTexts&&o instanceof egret.TextField){for(var a=this._richTexts,s=[],c=n,l=0,u=a;l<u.length;l++){var d=u[l];if(0>=c)break;var h=d.text.length;if(!(c>=h)){s.push({style:d.style,text:d.text.substr(0,c)});break}s.push(d),c-=h}o.textFlow=s}else o.text=t._text.substr(0,t._typedChars)}t._typedChars>=e&&t.stop(!0)},A}(egret.EventDispatcher);e.TypingTextEffect=t,__reflect(t.prototype,"core.TypingTextEffect"),window.TypingTextEffect=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.checkSpecialChar=function(e){if(!e||e.length<=0)return!1;var A=t.ROLE_NAME_EMOJI;return e.match(A)?!1:!0},t.isVisible=function(e,t){if(void 0===t&&(t=null),!e.visible)return!1;if(t){if(!t.contains(e))return!1}else{if(!e.stage)return!1;t=e.stage}for(;e!=t&&e.parent;){if(e=e.parent,e==e.stage)return!0;if(!e.visible)return!1}return!0},t.saveStorageItem=function(t,A){t=e.App.appName+"_"+t,egret.localStorage.setItem(t,A)},t.getStorageItem=function(t,A){t=e.App.appName+"_"+t;var i=egret.localStorage.getItem(t);switch(A){case"Array":return i?e.Functor.parse(i):[];case"Object":return i?e.Functor.parse(i):{};case"String":return i?i:"";case"Number":return i?parseFloat(i):0/0;case"Boolean":return i?"true"==i:!1}},t.getQueryString=function(e){if(window&&window.location&&window.location.search){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),A=window.location.search.substr(1).match(t);return A?decodeURIComponent(A[2]):null}return null},t.createTexture=function(t,A,i,r,n){var o=e.ObjectPool.pop(egret.Texture);return t&&(o.$bitmapData=t,o.$initData(A,i,r,n,0,0,r,n,t.width,t.height)),o},t.distance=function(e,t,A,i){return Math.sqrt(Math.pow(e-A,2)+Math.pow(t-i,2))},t.parseInt=function(e){return"number"!=typeof e&&(e=+e,isNaN(e)&&(e=0)),e},t.ROLE_NAME_REG=/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/g,t.ROLE_NAME_EMOJI=/[^\u0020-\u007E\u00A0-\u00BE\u2E80-\uA4CF\uF900-\uFAFF\uFE30-\uFE4F\uFF00-\uFFEF\u0080-\u009F\u2000-\u201f\u2026\u2022\u20ac\r\n]/g,t}();e.Utils=t,__reflect(t.prototype,"core.Utils"),window.Utils=t}(core||(core={}));var core;!function(e){var t=function(){function t(){}return t.initialize=function(){this._hasInit||(this._hasInit=!0,egret.ExternalInterface.addCallback("playVideoEnd",this.onEnd.bind(this)))
},t.getPositionInfo=function(e){if(!e)return this.defaultInfo;var t=e.localToGlobal();return{x:t.x,y:t.y,w:e.width,h:e.height}},t.play=function(t,A,i){var r=this.defaultInfo,n=e.GameConfig.egretAdaptScale;t=t||r,A=A||r,i=i||r;var o={};o.x=(t.x||0)*n.sx,o.y=(t.y||0)*n.sy,o.w=(t.w||0)*n.sx,o.h=(t.h||0)*n.sy,A.url?o.url=A.url:A.path?o.url=RES.getVirtualUrl(e.GameConfig.RES+"video/"+A.path+".mp4"):o.url="",o.isFull=A.isFull||t.isFull||!1,o.isLoop=A.isLoop||!1,o.autoPlay=A.autoPlay||!1,o.canSkip=A.canSkip||!1,o.showSkipTime=A.showSkipTime||0,o.start=A.start||0,o.end=A.end||0,o.loopStart=A.loopStart||0,o.loopEnd=A.loopEnd||0,o.autoRemove=void 0!=A.autoRemove?A.autoRemove:!0,o.completeId=A.completeId||"",o.skipId=A.skipId||"",i.uid?o.uid=i.uid+"":i.thisObj&&i.thisObj.hashCode?o.uid=i.thisObj.hashCode+"":o.uid=this.IGNORE_UID_KEY,o.callback=i.callback||void 0,o.thisObj=i.thisObj||void 0,o["continue"]=i["continue"]||!1;var a=this.curInfo;this.curInfo=o,a&&(this.oldStack.push(a),a["continue"]||this.clearInfo(a.uid,!0));var s={};e.ObjectUtils.assignKeys(o,s,["x","y","w","h","url","autoPlay","canSkip","isLoop","start","end","loopStart","loopEnd","uid","showSkipTime","autoRemove","completeId","skipId"]);var c=e.GameSDK.SDKPlayVideo(s);return c&&e.App.dispatch("video_play_begin",o),this.curInfo&&this.curInfo.isFull&&(e.LayerManager.switchLayer(0,!1),e.LayerManager.switchLayer(1,!1),e.LayerManager.switchLayer(2,!1)),c},t.stop=function(t){if(t+="",this.curInfo&&this.curInfo.uid===t)e.GameSDK.SDKStopVideo();else{var A=this.clearInfo(t,!0);A&&e.App.dispatch("video_play_stop",A)}this.curInfo&&this.curInfo.isFull&&(e.LayerManager.switchLayer(0,!0),e.LayerManager.switchLayer(1,!0),e.LayerManager.switchLayer(2,!0))},t.onEnd=function(t){var A=this.curInfo;if(e.LayerManager.switchLayer(0,!0),e.LayerManager.switchLayer(1,!0),e.LayerManager.switchLayer(2,!0),A&&t===A.uid){if(A.callback&&t!==this.IGNORE_UID_KEY&&(A.thisObj?A.callback.call(A.thisObj,t):A.callback(t)),this.curInfo=void 0,this.oldStack.length){var i=this.oldStack.pop();this.curInfo=i,e.GameSDK.SDKPlayVideo(i)}e.App.dispatch("video_play_end",A)}else this.clearInfo(t,!1)},t.clearInfo=function(e,t){e+="";for(var A,i=-1,r=this.oldStack,n=0,o=r.length;o>n;++n){var a=r[n];if(a.uid===e){i=n,A=a;break}}return i>=0&&(r.splice(i,1),A&&A.callback&&e!==this.IGNORE_UID_KEY&&(A.thisObj?A.callback.call(A.thisObj,e):A.callback(e))),A},t.IGNORE_UID_KEY="IGNORE",t._hasInit=!1,t.defaultInfo={},t.oldStack=[],t}();e.VideoMgr=t,__reflect(t.prototype,"core.VideoMgr"),window.VideoMgr=t,window.VideoMgr=t}(core||(core={}));var core;!function(e){var t=function(t){function A(A,i,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var o=t.call(this)||this;return o._className=A,o._server=i,o._eid=r,o._channel=n,o.methodDefs||(o.methodDefs=e.RpcDef.getClassMethods(A,i)),o.methodMap={},o}return __extends(A,t),A.createNew=function(t,i,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var o=t+"@"+i,a=this._classMap[o];if(!a){a=function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=0),A.call(this,e,t,i,r)},e.Functor.__extends(a,this);var s=e.RpcDef.getClassMethods(t,i);Object.defineProperty(a.prototype,"methodDefs",{value:s});for(var c in s)Object.defineProperty(a.prototype,c,{get:e.Functor.functor(this.prototype.getMethod,null,c),enumerable:!0});this._classMap[o]=a}return new a(t,i,r,n)},Object.defineProperty(A.prototype,"$className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"$server",{get:function(){return this._server},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"$eid",{get:function(){return this._eid},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,"$channel",{get:function(){return this._channel},enumerable:!0,configurable:!0}),A.prototype.getMethod=function(t){var A=this,i=A.methodDefs[t];if(!i)return e.GameLog.rpcerror("RPC method not defined: "+A+" "+t),null;var r=A.methodMap[t];return r||(r=A.callRpcMethod.bind(A,i,!0),A.methodMap[t]=r),r},A.prototype.hasMethod=function(e){return null!=this.methodDefs[e]},A.prototype.callRpcMethod=function(t,A){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var n=this;if(A&&(e.GameLog.rpcdebug("Calling RPC method: "+n+" "+t),e.ServiceMgr.simSendDelayTime>=0))return void e.Functor.delay(n.callRpcMethod,e.ServiceMgr.simSendDelayTime,n,t,!1,i);var o=new e.RpcPacket(t.id,n._eid,n._channel);o.params=A?i:i[0],e.ServiceMgr.sendRpcPacket(n._channel,o)},A.prototype.toString=function(){var e=this;return"<Mailbox "+e._className+"@"+e._server+"["+e._channel+"] eid="+e._eid+">"},A._classMap={},A}(egret.HashObject);e.Mailbox=t,__reflect(t.prototype,"core.Mailbox"),window.Mailbox=t}(core||(core={}));