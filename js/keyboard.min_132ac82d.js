var __reflect=this&&this.__reflect||function(e,t,a){e.__class__=t,a?a.push(t):a=[t],e.__types__=e.__types__?a.concat(e.__types__):a},keyboard;!function(e){var t=function(){function e(){}return e.initialize=function(){var e=this;e.keys={},e.callbacks_down=[],e.callbacks_up=[],e.callbacks_keep=[],e.lastTime=0,document.onkeydown=e.onKeyDown.bind(e),document.onkeyup=e.onKeyUp.bind(e),document.onmousedown=e.onMouseDown.bind(e)},e.onKeyDown=function(e){var t=this;e=e||window.event||arguments.callee.caller.arguments[0];var a=t.keyValue[e.keyCode];if(a){if(a==t.key_Alt||a==t.RIGH_Alt?t.altKey=!0:a==t.left_Ctrl||a==t.RIGHT_Ctrl?t.ctrlKey=!0:a==t.Left_Win||a==t.RIGHT_WIN?t.metaKey=!0:(a==t.key_Shift||a==t.Right_Shift)&&(t.shiftKey=!0),!t.keys[a]&&(t.keys[a]=1,t.hasDown&&t.callbacks_down.length)){var n=t.callbacks_down.concat();n.forEach(function(e){e.callback&&e.callback.apply(e.thisObject,[a])})}if(t.hasKeep&&t.callbacks_keep.length){var _=egret.getTimer(),l=t.callbacks_keep.concat();l.forEach(function(e){(!e.interval||!e.time||e.time-Math.max(0,_-e.lastTime)<=0)&&(e.callback&&e.callback.apply(e.thisObject),e.time=e.interval,e.lastTime=_)})}}},e.onKeyUp=function(e){var t=this;e=e||window.event||arguments.callee.caller.arguments[0];var a=t.keyValue[e.keyCode];if(a&&(a==t.key_Alt||a==t.RIGH_Alt?t.altKey=!1:a==t.left_Ctrl||a==t.RIGHT_Ctrl?t.ctrlKey=!1:a==t.Left_Win||a==t.RIGHT_WIN?t.metaKey=!1:(a==t.key_Shift||a==t.Right_Shift)&&(t.shiftKey=!1),delete t.keys[a],t.hasUp&&t.callbacks_up.length)){var n=t.callbacks_up.concat();n.forEach(function(e){e.callback&&e.callback.apply(e.thisObject,[a])})}},e.onMouseDown=function(){},e.isContain=function(e){return!!this.keys[e]},e.down=function(e,t){var a=this,n=a.callbacks_down,_=a.getData(e,t,n);_||n.push({callback:e,thisObject:t}),a.hasDown||(a.hasDown=n.length>0)},e.undown=function(e,t){var a=this,n=a.callbacks_down,_=a.getData(e,t,n);_&&n.splice(n.indexOf(_),1),a.hasDown&&(a.hasDown=n.length>0)},e.up=function(e,t){var a=this,n=a.callbacks_up,_=a.getData(e,t,n);_||n.push({callback:e,thisObject:t}),a.hasUp||(a.hasUp=n.length>0)},e.unup=function(e,t){var a=this,n=a.callbacks_up,_=a.getData(e,t,n);_&&n.splice(n.indexOf(_),1),a.hasUp&&(a.hasUp=n.length>0)},e.keep=function(e,t,a){void 0===a&&(a=0);var n=this,_=n.callbacks_keep,l=n.getData(e,t,_);l||_.push({callback:e,thisObject:t,interval:a,lastTime:egret.getTimer()}),n.hasKeep||(n.hasKeep=_.length>0)},e.unkeep=function(e,t){var a=this,n=a.callbacks_keep,_=a.getData(e,t,n);_&&n.splice(n.indexOf(_),1),a.hasKeep||(a.hasKeep=n.length>0)},e.getData=function(e,t,a){for(var n=0,_=a;n<_.length;n++){var l=_[n];if(l.callback&&l.thisObject==t)return l}return null},e.onkeydown="KeyBoardonkeydown",e.onkeyup="KeyBoardonkeyup",e.onkeykeep="KeyBoardonkeykeep",e.NumLock="NumLock",e.Num_Slash="num_/",e.Num_Mul="num_*",e.Num_Sub="num_-",e.Num_7="num_7",e.Num_8="num_8",e.Num_9="num_9",e.Num_Plus="num_+",e.Num_4="num_4",e.Num_5="num_5",e.Num_6="num_6",e.Num_1="num_1",e.Num_2="num_2",e.Num_3="num_3",e.Num_Enter="num_Enter",e.Num_0="num_0",e.Num_dot="num_.",e.Esc="Esc",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.PrintScreen="PrintScreen",e.ScrollLock="ScrollLock",e.PauseBreak="PauseBreak",e.key_Points="`",e.key_1="1",e.key_2="2",e.key_3="3",e.key_4="4",e.key_5="5",e.key_6="6",e.key_7="7",e.key_8="8",e.key_9="9",e.key_0="0",e.key_Sub="-",e.key_Plus="=",e.Backspace="Backspace",e.Insert="Insert",e.Home="Home",e.PageUp="PageUp",e.Tab="Tab",e.Q="Q",e.W="W",e.E="E",e.R="R",e.T="T",e.Y="Y",e.U="U",e.I="I",e.O="O",e.P="P",e.brace1="[",e.brace2="]",e.CnterEnter="Enter",e.Delete="Delete",e.End="End",e.PageDown="PageDown",e.CapsLock="CapsLock",e.A="A",e.S="S",e.D="D",e.F="F",e.G="G",e.H="H",e.J="J",e.K="K",e.L="L",e.semicolon=";",e.quotes=",",e.bar="|",e.key_Shift="Shift",e.Z="Z",e.X="X",e.C="C",e.V="V",e.B="B",e.N="N",e.M="M",e.key_Semicolon=",",e.key_Dot=".",e.question="/",e.Right_Shift="Shift",e.UpArrow="up",e.left_Ctrl="Ctrl",e.Left_Win="left_win",e.key_Alt="Alt",e.SPACE="SPACE",e.RIGH_Alt="RIGH_Alt",e.RIGHT_WIN="right_win",e.NoteSign="NoteSign",e.RIGHT_Ctrl="Ctrl",e.keyArrow="left",e.DownArrow="down",e.RightArrow="right",e.keyValue={27:e.Esc,112:e.F1,113:e.F2,114:e.F3,115:e.F4,116:e.F5,117:e.F6,118:e.F7,119:e.F8,120:e.F9,121:e.F10,122:e.F11,123:e.F12,42:e.PrintScreen,145:e.ScrollLock,19:e.PauseBreak,192:e.key_Points,49:e.key_1,50:e.key_2,51:e.key_3,52:e.key_4,53:e.key_5,54:e.key_6,55:e.key_7,56:e.key_8,57:e.key_9,48:e.key_0,189:e.key_Sub,187:e.key_Plus,8:e.Backspace,45:e.Insert,36:e.Home,33:e.PageUp,144:e.NumLock,111:e.Num_Slash,106:e.Num_Mul,109:e.Num_Sub,9:e.Tab,81:e.Q,87:e.W,69:e.E,82:e.R,84:e.T,89:e.Y,85:e.U,73:e.I,79:e.O,80:e.P,219:e.brace1,221:e.brace2,13:e.CnterEnter,46:e.Delete,35:e.End,34:e.PageDown,103:e.Num_7,104:e.Num_8,105:e.Num_9,107:e.Num_Plus,20:e.CapsLock,65:e.A,83:e.S,68:e.D,70:e.F,71:e.G,72:e.H,74:e.J,75:e.K,76:e.L,186:e.semicolon,222:e.quotes,220:e.bar,100:e.Num_4,101:e.Num_5,102:e.Num_6,16:e.key_Shift,90:e.Z,88:e.X,67:e.C,86:e.V,66:e.B,78:e.N,77:e.M,188:e.key_Semicolon,190:e.key_Dot,191:e.question,38:e.UpArrow,97:e.Num_1,98:e.Num_2,99:e.Num_3,17:e.left_Ctrl,91:e.Left_Win,18:e.key_Alt,32:e.SPACE,92:e.RIGHT_WIN,93:e.NoteSign,37:e.keyArrow,40:e.DownArrow,39:e.RightArrow,96:e.Num_0,110:e.Num_dot},e}();e.KeyBoard=t,__reflect(t.prototype,"keyboard.KeyBoard")}(keyboard||(keyboard={})),window.keyboard=keyboard;